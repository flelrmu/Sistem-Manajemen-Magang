var xM=Object.defineProperty;var EM=(e,t,n)=>t in e?xM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Ae=(e,t,n)=>EM(e,typeof t!="symbol"?t+"":t,n);function MM(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const g in r)if(g!=="default"&&!(g in e)){const a=Object.getOwnPropertyDescriptor(r,g);a&&Object.defineProperty(e,g,a.get?a:{enumerable:!0,get:()=>r[g]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dp={exports:{}},XI={},Ap={exports:{}},He={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YV;function DM(){if(YV)return He;YV=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),d=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=d&&x[d]||x["@@iterator"],typeof x=="function"?x:null)}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,p={};function h(x,P,se){this.props=x,this.context=P,this.refs=p,this.updater=se||f}h.prototype.isReactComponent={},h.prototype.setState=function(x,P){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,P,"setState")},h.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function G(){}G.prototype=h.prototype;function v(x,P,se){this.props=x,this.context=P,this.refs=p,this.updater=se||f}var S=v.prototype=new G;S.constructor=v,b(S,h.prototype),S.isPureReactComponent=!0;var V=Array.isArray,Z=Object.prototype.hasOwnProperty,W={current:null},w={key:!0,ref:!0,__self:!0,__source:!0};function X(x,P,se){var he,Ge={},Re=null,Ee=null;if(P!=null)for(he in P.ref!==void 0&&(Ee=P.ref),P.key!==void 0&&(Re=""+P.key),P)Z.call(P,he)&&!w.hasOwnProperty(he)&&(Ge[he]=P[he]);var ke=arguments.length-2;if(ke===1)Ge.children=se;else if(1<ke){for(var le=Array(ke),Ze=0;Ze<ke;Ze++)le[Ze]=arguments[Ze+2];Ge.children=le}if(x&&x.defaultProps)for(he in ke=x.defaultProps,ke)Ge[he]===void 0&&(Ge[he]=ke[he]);return{$$typeof:e,type:x,key:Re,ref:Ee,props:Ge,_owner:W.current}}function N(x,P){return{$$typeof:e,type:x.type,key:P,ref:x.ref,props:x.props,_owner:x._owner}}function R(x){return typeof x=="object"&&x!==null&&x.$$typeof===e}function Y(x){var P={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(se){return P[se]})}var K=/\/+/g;function E(x,P){return typeof x=="object"&&x!==null&&x.key!=null?Y(""+x.key):P.toString(36)}function L(x,P,se,he,Ge){var Re=typeof x;(Re==="undefined"||Re==="boolean")&&(x=null);var Ee=!1;if(x===null)Ee=!0;else switch(Re){case"string":case"number":Ee=!0;break;case"object":switch(x.$$typeof){case e:case t:Ee=!0}}if(Ee)return Ee=x,Ge=Ge(Ee),x=he===""?"."+E(Ee,0):he,V(Ge)?(se="",x!=null&&(se=x.replace(K,"$&/")+"/"),L(Ge,P,se,"",function(Ze){return Ze})):Ge!=null&&(R(Ge)&&(Ge=N(Ge,se+(!Ge.key||Ee&&Ee.key===Ge.key?"":(""+Ge.key).replace(K,"$&/")+"/")+x)),P.push(Ge)),1;if(Ee=0,he=he===""?".":he+":",V(x))for(var ke=0;ke<x.length;ke++){Re=x[ke];var le=he+E(Re,ke);Ee+=L(Re,P,se,le,Ge)}else if(le=A(x),typeof le=="function")for(x=le.call(x),ke=0;!(Re=x.next()).done;)Re=Re.value,le=he+E(Re,ke++),Ee+=L(Re,P,se,le,Ge);else if(Re==="object")throw P=String(x),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return Ee}function z(x,P,se){if(x==null)return x;var he=[],Ge=0;return L(x,he,"","",function(Re){return P.call(se,Re,Ge++)}),he}function U(x){if(x._status===-1){var P=x._result;P=P(),P.then(function(se){(x._status===0||x._status===-1)&&(x._status=1,x._result=se)},function(se){(x._status===0||x._status===-1)&&(x._status=2,x._result=se)}),x._status===-1&&(x._status=0,x._result=P)}if(x._status===1)return x._result.default;throw x._result}var O={current:null},D={transition:null},_={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:W};function te(){throw Error("act(...) is not supported in production builds of React.")}return He.Children={map:z,forEach:function(x,P,se){z(x,function(){P.apply(this,arguments)},se)},count:function(x){var P=0;return z(x,function(){P++}),P},toArray:function(x){return z(x,function(P){return P})||[]},only:function(x){if(!R(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},He.Component=h,He.Fragment=n,He.Profiler=g,He.PureComponent=v,He.StrictMode=r,He.Suspense=s,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_,He.act=te,He.cloneElement=function(x,P,se){if(x==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+x+".");var he=b({},x.props),Ge=x.key,Re=x.ref,Ee=x._owner;if(P!=null){if(P.ref!==void 0&&(Re=P.ref,Ee=W.current),P.key!==void 0&&(Ge=""+P.key),x.type&&x.type.defaultProps)var ke=x.type.defaultProps;for(le in P)Z.call(P,le)&&!w.hasOwnProperty(le)&&(he[le]=P[le]===void 0&&ke!==void 0?ke[le]:P[le])}var le=arguments.length-2;if(le===1)he.children=se;else if(1<le){ke=Array(le);for(var Ze=0;Ze<le;Ze++)ke[Ze]=arguments[Ze+2];he.children=ke}return{$$typeof:e,type:x.type,key:Ge,ref:Re,props:he,_owner:Ee}},He.createContext=function(x){return x={$$typeof:i,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},x.Provider={$$typeof:a,_context:x},x.Consumer=x},He.createElement=X,He.createFactory=function(x){var P=X.bind(null,x);return P.type=x,P},He.createRef=function(){return{current:null}},He.forwardRef=function(x){return{$$typeof:l,render:x}},He.isValidElement=R,He.lazy=function(x){return{$$typeof:C,_payload:{_status:-1,_result:x},_init:U}},He.memo=function(x,P){return{$$typeof:c,type:x,compare:P===void 0?null:P}},He.startTransition=function(x){var P=D.transition;D.transition={};try{x()}finally{D.transition=P}},He.unstable_act=te,He.useCallback=function(x,P){return O.current.useCallback(x,P)},He.useContext=function(x){return O.current.useContext(x)},He.useDebugValue=function(){},He.useDeferredValue=function(x){return O.current.useDeferredValue(x)},He.useEffect=function(x,P){return O.current.useEffect(x,P)},He.useId=function(){return O.current.useId()},He.useImperativeHandle=function(x,P,se){return O.current.useImperativeHandle(x,P,se)},He.useInsertionEffect=function(x,P){return O.current.useInsertionEffect(x,P)},He.useLayoutEffect=function(x,P){return O.current.useLayoutEffect(x,P)},He.useMemo=function(x,P){return O.current.useMemo(x,P)},He.useReducer=function(x,P,se){return O.current.useReducer(x,P,se)},He.useRef=function(x){return O.current.useRef(x)},He.useState=function(x){return O.current.useState(x)},He.useSyncExternalStore=function(x,P,se){return O.current.useSyncExternalStore(x,P,se)},He.useTransition=function(){return O.current.useTransition()},He.version="18.3.1",He}var HV;function NG(){return HV||(HV=1,Ap.exports=DM()),Ap.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NV;function TM(){if(NV)return XI;NV=1;var e=NG(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,g=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function i(l,s,c){var C,d={},A=null,f=null;c!==void 0&&(A=""+c),s.key!==void 0&&(A=""+s.key),s.ref!==void 0&&(f=s.ref);for(C in s)r.call(s,C)&&!a.hasOwnProperty(C)&&(d[C]=s[C]);if(l&&l.defaultProps)for(C in s=l.defaultProps,s)d[C]===void 0&&(d[C]=s[C]);return{$$typeof:t,type:l,key:A,ref:f,props:d,_owner:g.current}}return XI.Fragment=n,XI.jsx=i,XI.jsxs=i,XI}var FV;function LM(){return FV||(FV=1,dp.exports=TM()),dp.exports}var Ya=LM(),J=NG();const H=lt(J),T0=MM({__proto__:null,default:H},[J]);var Eu={},mp={exports:{}},Fn={},fp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KV;function zM(){return KV||(KV=1,function(e){function t(D,_){var te=D.length;D.push(_);e:for(;0<te;){var x=te-1>>>1,P=D[x];if(0<g(P,_))D[x]=_,D[te]=P,te=x;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var _=D[0],te=D.pop();if(te!==_){D[0]=te;e:for(var x=0,P=D.length,se=P>>>1;x<se;){var he=2*(x+1)-1,Ge=D[he],Re=he+1,Ee=D[Re];if(0>g(Ge,te))Re<P&&0>g(Ee,Ge)?(D[x]=Ee,D[Re]=te,x=Re):(D[x]=Ge,D[he]=te,x=he);else if(Re<P&&0>g(Ee,te))D[x]=Ee,D[Re]=te,x=Re;else break e}}return _}function g(D,_){var te=D.sortIndex-_.sortIndex;return te!==0?te:D.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var s=[],c=[],C=1,d=null,A=3,f=!1,b=!1,p=!1,h=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var _=n(c);_!==null;){if(_.callback===null)r(c);else if(_.startTime<=D)r(c),_.sortIndex=_.expirationTime,t(s,_);else break;_=n(c)}}function V(D){if(p=!1,S(D),!b)if(n(s)!==null)b=!0,U(Z);else{var _=n(c);_!==null&&O(V,_.startTime-D)}}function Z(D,_){b=!1,p&&(p=!1,G(X),X=-1),f=!0;var te=A;try{for(S(_),d=n(s);d!==null&&(!(d.expirationTime>_)||D&&!Y());){var x=d.callback;if(typeof x=="function"){d.callback=null,A=d.priorityLevel;var P=x(d.expirationTime<=_);_=e.unstable_now(),typeof P=="function"?d.callback=P:d===n(s)&&r(s),S(_)}else r(s);d=n(s)}if(d!==null)var se=!0;else{var he=n(c);he!==null&&O(V,he.startTime-_),se=!1}return se}finally{d=null,A=te,f=!1}}var W=!1,w=null,X=-1,N=5,R=-1;function Y(){return!(e.unstable_now()-R<N)}function K(){if(w!==null){var D=e.unstable_now();R=D;var _=!0;try{_=w(!0,D)}finally{_?E():(W=!1,w=null)}}else W=!1}var E;if(typeof v=="function")E=function(){v(K)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=K,E=function(){z.postMessage(null)}}else E=function(){h(K,0)};function U(D){w=D,W||(W=!0,E())}function O(D,_){X=h(function(){D(e.unstable_now())},_)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||f||(b=!0,U(Z))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(s)},e.unstable_next=function(D){switch(A){case 1:case 2:case 3:var _=3;break;default:_=A}var te=A;A=_;try{return D()}finally{A=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,_){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var te=A;A=D;try{return _()}finally{A=te}},e.unstable_scheduleCallback=function(D,_,te){var x=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?x+te:x):te=x,D){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=te+P,D={id:C++,callback:_,priorityLevel:D,startTime:te,expirationTime:P,sortIndex:-1},te>x?(D.sortIndex=te,t(c,D),n(s)===null&&D===n(c)&&(p?(G(X),X=-1):p=!0,O(V,te-x))):(D.sortIndex=P,t(s,D),b||f||(b=!0,U(Z))),D},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(D){var _=A;return function(){var te=A;A=_;try{return D.apply(this,arguments)}finally{A=te}}}}(pp)),pp}var xV;function UM(){return xV||(xV=1,fp.exports=zM()),fp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EV;function PM(){if(EV)return Fn;EV=1;var e=NG(),t=UM();function n(o){for(var I="https://reactjs.org/docs/error-decoder.html?invariant="+o,u=1;u<arguments.length;u++)I+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+o+"; visit "+I+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,g={};function a(o,I){i(o,I),i(o+"Capture",I)}function i(o,I){for(g[o]=I,o=0;o<I.length;o++)r.add(I[o])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),s=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C={},d={};function A(o){return s.call(d,o)?!0:s.call(C,o)?!1:c.test(o)?d[o]=!0:(C[o]=!0,!1)}function f(o,I,u,m){if(u!==null&&u.type===0)return!1;switch(typeof I){case"function":case"symbol":return!0;case"boolean":return m?!1:u!==null?!u.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function b(o,I,u,m){if(I===null||typeof I>"u"||f(o,I,u,m))return!0;if(m)return!1;if(u!==null)switch(u.type){case 3:return!I;case 4:return I===!1;case 5:return isNaN(I);case 6:return isNaN(I)||1>I}return!1}function p(o,I,u,m,y,B,k){this.acceptsBooleans=I===2||I===3||I===4,this.attributeName=m,this.attributeNamespace=y,this.mustUseProperty=u,this.propertyName=o,this.type=I,this.sanitizeURL=B,this.removeEmptyString=k}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){h[o]=new p(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var I=o[0];h[I]=new p(I,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){h[o]=new p(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){h[o]=new p(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){h[o]=new p(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){h[o]=new p(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){h[o]=new p(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){h[o]=new p(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){h[o]=new p(o,5,!1,o.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function v(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var I=o.replace(G,v);h[I]=new p(I,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var I=o.replace(G,v);h[I]=new p(I,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var I=o.replace(G,v);h[I]=new p(I,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){h[o]=new p(o,1,!1,o.toLowerCase(),null,!1,!1)}),h.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){h[o]=new p(o,1,!1,o.toLowerCase(),null,!0,!0)});function S(o,I,u,m){var y=h.hasOwnProperty(I)?h[I]:null;(y!==null?y.type!==0:m||!(2<I.length)||I[0]!=="o"&&I[0]!=="O"||I[1]!=="n"&&I[1]!=="N")&&(b(I,u,y,m)&&(u=null),m||y===null?A(I)&&(u===null?o.removeAttribute(I):o.setAttribute(I,""+u)):y.mustUseProperty?o[y.propertyName]=u===null?y.type===3?!1:"":u:(I=y.attributeName,m=y.attributeNamespace,u===null?o.removeAttribute(I):(y=y.type,u=y===3||y===4&&u===!0?"":""+u,m?o.setAttributeNS(m,I,u):o.setAttribute(I,u))))}var V=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),W=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),Y=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),D=Symbol.iterator;function _(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var te=Object.assign,x;function P(o){if(x===void 0)try{throw Error()}catch(u){var I=u.stack.trim().match(/\n( *(at )?)/);x=I&&I[1]||""}return`
`+x+o}var se=!1;function he(o,I){if(!o||se)return"";se=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(I)if(I=function(){throw Error()},Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(q){var m=q}Reflect.construct(o,[],I)}else{try{I.call()}catch(q){m=q}o.call(I.prototype)}else{try{throw Error()}catch(q){m=q}o()}}catch(q){if(q&&m&&typeof q.stack=="string"){for(var y=q.stack.split(`
`),B=m.stack.split(`
`),k=y.length-1,F=B.length-1;1<=k&&0<=F&&y[k]!==B[F];)F--;for(;1<=k&&0<=F;k--,F--)if(y[k]!==B[F]){if(k!==1||F!==1)do if(k--,F--,0>F||y[k]!==B[F]){var M=`
`+y[k].replace(" at new "," at ");return o.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",o.displayName)),M}while(1<=k&&0<=F);break}}}finally{se=!1,Error.prepareStackTrace=u}return(o=o?o.displayName||o.name:"")?P(o):""}function Ge(o){switch(o.tag){case 5:return P(o.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return o=he(o.type,!1),o;case 11:return o=he(o.type.render,!1),o;case 1:return o=he(o.type,!0),o;default:return""}}function Re(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case W:return"Portal";case N:return"Profiler";case X:return"StrictMode";case E:return"Suspense";case L:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Y:return(o.displayName||"Context")+".Consumer";case R:return(o._context.displayName||"Context")+".Provider";case K:var I=o.render;return o=o.displayName,o||(o=I.displayName||I.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case z:return I=o.displayName||null,I!==null?I:Re(o.type)||"Memo";case U:I=o._payload,o=o._init;try{return Re(o(I))}catch{}}return null}function Ee(o){var I=o.type;switch(o.tag){case 24:return"Cache";case 9:return(I.displayName||"Context")+".Consumer";case 10:return(I._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=I.render,o=o.displayName||o.name||"",I.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return I;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(I);case 8:return I===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof I=="function")return I.displayName||I.name||null;if(typeof I=="string")return I}return null}function ke(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function le(o){var I=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(I==="checkbox"||I==="radio")}function Ze(o){var I=le(o)?"checked":"value",u=Object.getOwnPropertyDescriptor(o.constructor.prototype,I),m=""+o[I];if(!o.hasOwnProperty(I)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,B=u.set;return Object.defineProperty(o,I,{configurable:!0,get:function(){return y.call(this)},set:function(k){m=""+k,B.call(this,k)}}),Object.defineProperty(o,I,{enumerable:u.enumerable}),{getValue:function(){return m},setValue:function(k){m=""+k},stopTracking:function(){o._valueTracker=null,delete o[I]}}}}function Xe(o){o._valueTracker||(o._valueTracker=Ze(o))}function ie(o){if(!o)return!1;var I=o._valueTracker;if(!I)return!0;var u=I.getValue(),m="";return o&&(m=le(o)?o.checked?"true":"false":o.value),o=m,o!==u?(I.setValue(o),!0):!1}function st(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Fe(o,I){var u=I.checked;return te({},I,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??o._wrapperState.initialChecked})}function Vt(o,I){var u=I.defaultValue==null?"":I.defaultValue,m=I.checked!=null?I.checked:I.defaultChecked;u=ke(I.value!=null?I.value:u),o._wrapperState={initialChecked:m,initialValue:u,controlled:I.type==="checkbox"||I.type==="radio"?I.checked!=null:I.value!=null}}function wt(o,I){I=I.checked,I!=null&&S(o,"checked",I,!1)}function $t(o,I){wt(o,I);var u=ke(I.value),m=I.type;if(u!=null)m==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+u):o.value!==""+u&&(o.value=""+u);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}I.hasOwnProperty("value")?qr(o,I.type,u):I.hasOwnProperty("defaultValue")&&qr(o,I.type,ke(I.defaultValue)),I.checked==null&&I.defaultChecked!=null&&(o.defaultChecked=!!I.defaultChecked)}function wr(o,I,u){if(I.hasOwnProperty("value")||I.hasOwnProperty("defaultValue")){var m=I.type;if(!(m!=="submit"&&m!=="reset"||I.value!==void 0&&I.value!==null))return;I=""+o._wrapperState.initialValue,u||I===o.value||(o.value=I),o.defaultValue=I}u=o.name,u!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,u!==""&&(o.name=u)}function qr(o,I,u){(I!=="number"||st(o.ownerDocument)!==o)&&(u==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+u&&(o.defaultValue=""+u))}var $r=Array.isArray;function kn(o,I,u,m){if(o=o.options,I){I={};for(var y=0;y<u.length;y++)I["$"+u[y]]=!0;for(u=0;u<o.length;u++)y=I.hasOwnProperty("$"+o[u].value),o[u].selected!==y&&(o[u].selected=y),y&&m&&(o[u].defaultSelected=!0)}else{for(u=""+ke(u),I=null,y=0;y<o.length;y++){if(o[y].value===u){o[y].selected=!0,m&&(o[y].defaultSelected=!0);return}I!==null||o[y].disabled||(I=o[y])}I!==null&&(I.selected=!0)}}function Rr(o,I){if(I.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},I,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function ji(o,I){var u=I.value;if(u==null){if(u=I.children,I=I.defaultValue,u!=null){if(I!=null)throw Error(n(92));if($r(u)){if(1<u.length)throw Error(n(93));u=u[0]}I=u}I==null&&(I=""),u=I}o._wrapperState={initialValue:ke(u)}}function Ul(o,I){var u=ke(I.value),m=ke(I.defaultValue);u!=null&&(u=""+u,u!==o.value&&(o.value=u),I.defaultValue==null&&o.defaultValue!==u&&(o.defaultValue=u)),m!=null&&(o.defaultValue=""+m)}function Pl(o){var I=o.textContent;I===o._wrapperState.initialValue&&I!==""&&I!==null&&(o.value=I)}function Pv(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bm(o,I){return o==null||o==="http://www.w3.org/1999/xhtml"?Pv(I):o==="http://www.w3.org/2000/svg"&&I==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var kc,Qv=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(I,u,m,y){MSApp.execUnsafeLocalFunction(function(){return o(I,u,m,y)})}:o}(function(o,I){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=I;else{for(kc=kc||document.createElement("div"),kc.innerHTML="<svg>"+I.valueOf().toString()+"</svg>",I=kc.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;I.firstChild;)o.appendChild(I.firstChild)}});function Ql(o,I){if(I){var u=o.firstChild;if(u&&u===o.lastChild&&u.nodeType===3){u.nodeValue=I;return}}o.textContent=I}var Ol={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L5=["Webkit","ms","Moz","O"];Object.keys(Ol).forEach(function(o){L5.forEach(function(I){I=I+o.charAt(0).toUpperCase()+o.substring(1),Ol[I]=Ol[o]})});function Ov(o,I,u){return I==null||typeof I=="boolean"||I===""?"":u||typeof I!="number"||I===0||Ol.hasOwnProperty(o)&&Ol[o]?(""+I).trim():I+"px"}function jv(o,I){o=o.style;for(var u in I)if(I.hasOwnProperty(u)){var m=u.indexOf("--")===0,y=Ov(u,I[u],m);u==="float"&&(u="cssFloat"),m?o.setProperty(u,y):o[u]=y}}var z5=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vm(o,I){if(I){if(z5[o]&&(I.children!=null||I.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(I.dangerouslySetInnerHTML!=null){if(I.children!=null)throw Error(n(60));if(typeof I.dangerouslySetInnerHTML!="object"||!("__html"in I.dangerouslySetInnerHTML))throw Error(n(61))}if(I.style!=null&&typeof I.style!="object")throw Error(n(62))}}function Sm(o,I){if(o.indexOf("-")===-1)return typeof I.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wm=null;function Vm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var wm=null,_i=null,qi=null;function _v(o){if(o=fI(o)){if(typeof wm!="function")throw Error(n(280));var I=o.stateNode;I&&(I=eu(I),wm(o.stateNode,o.type,I))}}function qv(o){_i?qi?qi.push(o):qi=[o]:_i=o}function $v(){if(_i){var o=_i,I=qi;if(qi=_i=null,_v(o),I)for(o=0;o<I.length;o++)_v(I[o])}}function eS(o,I){return o(I)}function tS(){}var Rm=!1;function nS(o,I,u){if(Rm)return o(I,u);Rm=!0;try{return eS(o,I,u)}finally{Rm=!1,(_i!==null||qi!==null)&&(tS(),$v())}}function jl(o,I){var u=o.stateNode;if(u===null)return null;var m=eu(u);if(m===null)return null;u=m[I];e:switch(I){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(u&&typeof u!="function")throw Error(n(231,I,typeof u));return u}var km=!1;if(l)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){km=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{km=!1}function U5(o,I,u,m,y,B,k,F,M){var q=Array.prototype.slice.call(arguments,3);try{I.apply(u,q)}catch(ae){this.onError(ae)}}var ql=!1,Xc=null,Jc=!1,Xm=null,P5={onError:function(o){ql=!0,Xc=o}};function Q5(o,I,u,m,y,B,k,F,M){ql=!1,Xc=null,U5.apply(P5,arguments)}function O5(o,I,u,m,y,B,k,F,M){if(Q5.apply(this,arguments),ql){if(ql){var q=Xc;ql=!1,Xc=null}else throw Error(n(198));Jc||(Jc=!0,Xm=q)}}function ei(o){var I=o,u=o;if(o.alternate)for(;I.return;)I=I.return;else{o=I;do I=o,I.flags&4098&&(u=I.return),o=I.return;while(o)}return I.tag===3?u:null}function rS(o){if(o.tag===13){var I=o.memoizedState;if(I===null&&(o=o.alternate,o!==null&&(I=o.memoizedState)),I!==null)return I.dehydrated}return null}function gS(o){if(ei(o)!==o)throw Error(n(188))}function j5(o){var I=o.alternate;if(!I){if(I=ei(o),I===null)throw Error(n(188));return I!==o?null:o}for(var u=o,m=I;;){var y=u.return;if(y===null)break;var B=y.alternate;if(B===null){if(m=y.return,m!==null){u=m;continue}break}if(y.child===B.child){for(B=y.child;B;){if(B===u)return gS(y),o;if(B===m)return gS(y),I;B=B.sibling}throw Error(n(188))}if(u.return!==m.return)u=y,m=B;else{for(var k=!1,F=y.child;F;){if(F===u){k=!0,u=y,m=B;break}if(F===m){k=!0,m=y,u=B;break}F=F.sibling}if(!k){for(F=B.child;F;){if(F===u){k=!0,u=B,m=y;break}if(F===m){k=!0,m=B,u=y;break}F=F.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==m)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?o:I}function aS(o){return o=j5(o),o!==null?iS(o):null}function iS(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var I=iS(o);if(I!==null)return I;o=o.sibling}return null}var oS=t.unstable_scheduleCallback,lS=t.unstable_cancelCallback,_5=t.unstable_shouldYield,q5=t.unstable_requestPaint,Ht=t.unstable_now,$5=t.unstable_getCurrentPriorityLevel,Jm=t.unstable_ImmediatePriority,IS=t.unstable_UserBlockingPriority,Yc=t.unstable_NormalPriority,eE=t.unstable_LowPriority,sS=t.unstable_IdlePriority,Hc=null,eg=null;function tE(o){if(eg&&typeof eg.onCommitFiberRoot=="function")try{eg.onCommitFiberRoot(Hc,o,void 0,(o.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:gE,nE=Math.log,rE=Math.LN2;function gE(o){return o>>>=0,o===0?32:31-(nE(o)/rE|0)|0}var Nc=64,Fc=4194304;function $l(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Kc(o,I){var u=o.pendingLanes;if(u===0)return 0;var m=0,y=o.suspendedLanes,B=o.pingedLanes,k=u&268435455;if(k!==0){var F=k&~y;F!==0?m=$l(F):(B&=k,B!==0&&(m=$l(B)))}else k=u&~y,k!==0?m=$l(k):B!==0&&(m=$l(B));if(m===0)return 0;if(I!==0&&I!==m&&!(I&y)&&(y=m&-m,B=I&-I,y>=B||y===16&&(B&4194240)!==0))return I;if(m&4&&(m|=u&16),I=o.entangledLanes,I!==0)for(o=o.entanglements,I&=m;0<I;)u=31-kr(I),y=1<<u,m|=o[u],I&=~y;return m}function aE(o,I){switch(o){case 1:case 2:case 4:return I+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return I+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iE(o,I){for(var u=o.suspendedLanes,m=o.pingedLanes,y=o.expirationTimes,B=o.pendingLanes;0<B;){var k=31-kr(B),F=1<<k,M=y[k];M===-1?(!(F&u)||F&m)&&(y[k]=aE(F,I)):M<=I&&(o.expiredLanes|=F),B&=~F}}function Ym(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function cS(){var o=Nc;return Nc<<=1,!(Nc&4194240)&&(Nc=64),o}function Hm(o){for(var I=[],u=0;31>u;u++)I.push(o);return I}function eI(o,I,u){o.pendingLanes|=I,I!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,I=31-kr(I),o[I]=u}function oE(o,I){var u=o.pendingLanes&~I;o.pendingLanes=I,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=I,o.mutableReadLanes&=I,o.entangledLanes&=I,I=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<u;){var y=31-kr(u),B=1<<y;I[y]=0,m[y]=-1,o[y]=-1,u&=~B}}function Nm(o,I){var u=o.entangledLanes|=I;for(o=o.entanglements;u;){var m=31-kr(u),y=1<<m;y&I|o[m]&I&&(o[m]|=I),u&=~y}}var tt=0;function uS(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var CS,Fm,dS,AS,mS,Km=!1,xc=[],ca=null,ua=null,Ca=null,tI=new Map,nI=new Map,da=[],lE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fS(o,I){switch(o){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":ua=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":tI.delete(I.pointerId);break;case"gotpointercapture":case"lostpointercapture":nI.delete(I.pointerId)}}function rI(o,I,u,m,y,B){return o===null||o.nativeEvent!==B?(o={blockedOn:I,domEventName:u,eventSystemFlags:m,nativeEvent:B,targetContainers:[y]},I!==null&&(I=fI(I),I!==null&&Fm(I)),o):(o.eventSystemFlags|=m,I=o.targetContainers,y!==null&&I.indexOf(y)===-1&&I.push(y),o)}function IE(o,I,u,m,y){switch(I){case"focusin":return ca=rI(ca,o,I,u,m,y),!0;case"dragenter":return ua=rI(ua,o,I,u,m,y),!0;case"mouseover":return Ca=rI(Ca,o,I,u,m,y),!0;case"pointerover":var B=y.pointerId;return tI.set(B,rI(tI.get(B)||null,o,I,u,m,y)),!0;case"gotpointercapture":return B=y.pointerId,nI.set(B,rI(nI.get(B)||null,o,I,u,m,y)),!0}return!1}function pS(o){var I=ti(o.target);if(I!==null){var u=ei(I);if(u!==null){if(I=u.tag,I===13){if(I=rS(u),I!==null){o.blockedOn=I,mS(o.priority,function(){dS(u)});return}}else if(I===3&&u.stateNode.current.memoizedState.isDehydrated){o.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Ec(o){if(o.blockedOn!==null)return!1;for(var I=o.targetContainers;0<I.length;){var u=Em(o.domEventName,o.eventSystemFlags,I[0],o.nativeEvent);if(u===null){u=o.nativeEvent;var m=new u.constructor(u.type,u);Wm=m,u.target.dispatchEvent(m),Wm=null}else return I=fI(u),I!==null&&Fm(I),o.blockedOn=u,!1;I.shift()}return!0}function hS(o,I,u){Ec(o)&&u.delete(I)}function sE(){Km=!1,ca!==null&&Ec(ca)&&(ca=null),ua!==null&&Ec(ua)&&(ua=null),Ca!==null&&Ec(Ca)&&(Ca=null),tI.forEach(hS),nI.forEach(hS)}function gI(o,I){o.blockedOn===I&&(o.blockedOn=null,Km||(Km=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,sE)))}function aI(o){function I(y){return gI(y,o)}if(0<xc.length){gI(xc[0],o);for(var u=1;u<xc.length;u++){var m=xc[u];m.blockedOn===o&&(m.blockedOn=null)}}for(ca!==null&&gI(ca,o),ua!==null&&gI(ua,o),Ca!==null&&gI(Ca,o),tI.forEach(I),nI.forEach(I),u=0;u<da.length;u++)m=da[u],m.blockedOn===o&&(m.blockedOn=null);for(;0<da.length&&(u=da[0],u.blockedOn===null);)pS(u),u.blockedOn===null&&da.shift()}var $i=V.ReactCurrentBatchConfig,Mc=!0;function cE(o,I,u,m){var y=tt,B=$i.transition;$i.transition=null;try{tt=1,xm(o,I,u,m)}finally{tt=y,$i.transition=B}}function uE(o,I,u,m){var y=tt,B=$i.transition;$i.transition=null;try{tt=4,xm(o,I,u,m)}finally{tt=y,$i.transition=B}}function xm(o,I,u,m){if(Mc){var y=Em(o,I,u,m);if(y===null)rf(o,I,m,Dc,u),fS(o,m);else if(IE(y,o,I,u,m))m.stopPropagation();else if(fS(o,m),I&4&&-1<lE.indexOf(o)){for(;y!==null;){var B=fI(y);if(B!==null&&CS(B),B=Em(o,I,u,m),B===null&&rf(o,I,m,Dc,u),B===y)break;y=B}y!==null&&m.stopPropagation()}else rf(o,I,m,null,u)}}var Dc=null;function Em(o,I,u,m){if(Dc=null,o=Vm(m),o=ti(o),o!==null)if(I=ei(o),I===null)o=null;else if(u=I.tag,u===13){if(o=rS(I),o!==null)return o;o=null}else if(u===3){if(I.stateNode.current.memoizedState.isDehydrated)return I.tag===3?I.stateNode.containerInfo:null;o=null}else I!==o&&(o=null);return Dc=o,null}function bS(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($5()){case Jm:return 1;case IS:return 4;case Yc:case eE:return 16;case sS:return 536870912;default:return 16}default:return 16}}var Aa=null,Mm=null,Tc=null;function yS(){if(Tc)return Tc;var o,I=Mm,u=I.length,m,y="value"in Aa?Aa.value:Aa.textContent,B=y.length;for(o=0;o<u&&I[o]===y[o];o++);var k=u-o;for(m=1;m<=k&&I[u-m]===y[B-m];m++);return Tc=y.slice(o,1<m?1-m:void 0)}function Lc(o){var I=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&I===13&&(o=13)):o=I,o===10&&(o=13),32<=o||o===13?o:0}function zc(){return!0}function ZS(){return!1}function zn(o){function I(u,m,y,B,k){this._reactName=u,this._targetInst=y,this.type=m,this.nativeEvent=B,this.target=k,this.currentTarget=null;for(var F in o)o.hasOwnProperty(F)&&(u=o[F],this[F]=u?u(B):B[F]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?zc:ZS,this.isPropagationStopped=ZS,this}return te(I.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),I}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dm=zn(eo),iI=te({},eo,{view:0,detail:0}),CE=zn(iI),Tm,Lm,oI,Uc=te({},iI,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Um,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==oI&&(oI&&o.type==="mousemove"?(Tm=o.screenX-oI.screenX,Lm=o.screenY-oI.screenY):Lm=Tm=0,oI=o),Tm)},movementY:function(o){return"movementY"in o?o.movementY:Lm}}),GS=zn(Uc),dE=te({},Uc,{dataTransfer:0}),AE=zn(dE),mE=te({},iI,{relatedTarget:0}),zm=zn(mE),fE=te({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),pE=zn(fE),hE=te({},eo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),bE=zn(hE),yE=te({},eo,{data:0}),BS=zn(yE),ZE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vE(o){var I=this.nativeEvent;return I.getModifierState?I.getModifierState(o):(o=BE[o])?!!I[o]:!1}function Um(){return vE}var SE=te({},iI,{key:function(o){if(o.key){var I=ZE[o.key]||o.key;if(I!=="Unidentified")return I}return o.type==="keypress"?(o=Lc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?GE[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Um,charCode:function(o){return o.type==="keypress"?Lc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Lc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),WE=zn(SE),VE=te({},Uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vS=zn(VE),wE=te({},iI,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Um}),RE=zn(wE),kE=te({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XE=zn(kE),JE=te({},Uc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),YE=zn(JE),HE=[9,13,27,32],Pm=l&&"CompositionEvent"in window,lI=null;l&&"documentMode"in document&&(lI=document.documentMode);var NE=l&&"TextEvent"in window&&!lI,SS=l&&(!Pm||lI&&8<lI&&11>=lI),WS=" ",VS=!1;function wS(o,I){switch(o){case"keyup":return HE.indexOf(I.keyCode)!==-1;case"keydown":return I.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RS(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var to=!1;function FE(o,I){switch(o){case"compositionend":return RS(I);case"keypress":return I.which!==32?null:(VS=!0,WS);case"textInput":return o=I.data,o===WS&&VS?null:o;default:return null}}function KE(o,I){if(to)return o==="compositionend"||!Pm&&wS(o,I)?(o=yS(),Tc=Mm=Aa=null,to=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(I.ctrlKey||I.altKey||I.metaKey)||I.ctrlKey&&I.altKey){if(I.char&&1<I.char.length)return I.char;if(I.which)return String.fromCharCode(I.which)}return null;case"compositionend":return SS&&I.locale!=="ko"?null:I.data;default:return null}}var xE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kS(o){var I=o&&o.nodeName&&o.nodeName.toLowerCase();return I==="input"?!!xE[o.type]:I==="textarea"}function XS(o,I,u,m){qv(m),I=_c(I,"onChange"),0<I.length&&(u=new Dm("onChange","change",null,u,m),o.push({event:u,listeners:I}))}var II=null,sI=null;function EE(o){jS(o,0)}function Pc(o){var I=io(o);if(ie(I))return o}function ME(o,I){if(o==="change")return I}var JS=!1;if(l){var Qm;if(l){var Om="oninput"in document;if(!Om){var YS=document.createElement("div");YS.setAttribute("oninput","return;"),Om=typeof YS.oninput=="function"}Qm=Om}else Qm=!1;JS=Qm&&(!document.documentMode||9<document.documentMode)}function HS(){II&&(II.detachEvent("onpropertychange",NS),sI=II=null)}function NS(o){if(o.propertyName==="value"&&Pc(sI)){var I=[];XS(I,sI,o,Vm(o)),nS(EE,I)}}function DE(o,I,u){o==="focusin"?(HS(),II=I,sI=u,II.attachEvent("onpropertychange",NS)):o==="focusout"&&HS()}function TE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Pc(sI)}function LE(o,I){if(o==="click")return Pc(I)}function zE(o,I){if(o==="input"||o==="change")return Pc(I)}function UE(o,I){return o===I&&(o!==0||1/o===1/I)||o!==o&&I!==I}var Xr=typeof Object.is=="function"?Object.is:UE;function cI(o,I){if(Xr(o,I))return!0;if(typeof o!="object"||o===null||typeof I!="object"||I===null)return!1;var u=Object.keys(o),m=Object.keys(I);if(u.length!==m.length)return!1;for(m=0;m<u.length;m++){var y=u[m];if(!s.call(I,y)||!Xr(o[y],I[y]))return!1}return!0}function FS(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function KS(o,I){var u=FS(o);o=0;for(var m;u;){if(u.nodeType===3){if(m=o+u.textContent.length,o<=I&&m>=I)return{node:u,offset:I-o};o=m}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=FS(u)}}function xS(o,I){return o&&I?o===I?!0:o&&o.nodeType===3?!1:I&&I.nodeType===3?xS(o,I.parentNode):"contains"in o?o.contains(I):o.compareDocumentPosition?!!(o.compareDocumentPosition(I)&16):!1:!1}function ES(){for(var o=window,I=st();I instanceof o.HTMLIFrameElement;){try{var u=typeof I.contentWindow.location.href=="string"}catch{u=!1}if(u)o=I.contentWindow;else break;I=st(o.document)}return I}function jm(o){var I=o&&o.nodeName&&o.nodeName.toLowerCase();return I&&(I==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||I==="textarea"||o.contentEditable==="true")}function PE(o){var I=ES(),u=o.focusedElem,m=o.selectionRange;if(I!==u&&u&&u.ownerDocument&&xS(u.ownerDocument.documentElement,u)){if(m!==null&&jm(u)){if(I=m.start,o=m.end,o===void 0&&(o=I),"selectionStart"in u)u.selectionStart=I,u.selectionEnd=Math.min(o,u.value.length);else if(o=(I=u.ownerDocument||document)&&I.defaultView||window,o.getSelection){o=o.getSelection();var y=u.textContent.length,B=Math.min(m.start,y);m=m.end===void 0?B:Math.min(m.end,y),!o.extend&&B>m&&(y=m,m=B,B=y),y=KS(u,B);var k=KS(u,m);y&&k&&(o.rangeCount!==1||o.anchorNode!==y.node||o.anchorOffset!==y.offset||o.focusNode!==k.node||o.focusOffset!==k.offset)&&(I=I.createRange(),I.setStart(y.node,y.offset),o.removeAllRanges(),B>m?(o.addRange(I),o.extend(k.node,k.offset)):(I.setEnd(k.node,k.offset),o.addRange(I)))}}for(I=[],o=u;o=o.parentNode;)o.nodeType===1&&I.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<I.length;u++)o=I[u],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var QE=l&&"documentMode"in document&&11>=document.documentMode,no=null,_m=null,uI=null,qm=!1;function MS(o,I,u){var m=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qm||no==null||no!==st(m)||(m=no,"selectionStart"in m&&jm(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),uI&&cI(uI,m)||(uI=m,m=_c(_m,"onSelect"),0<m.length&&(I=new Dm("onSelect","select",null,I,u),o.push({event:I,listeners:m}),I.target=no)))}function Qc(o,I){var u={};return u[o.toLowerCase()]=I.toLowerCase(),u["Webkit"+o]="webkit"+I,u["Moz"+o]="moz"+I,u}var ro={animationend:Qc("Animation","AnimationEnd"),animationiteration:Qc("Animation","AnimationIteration"),animationstart:Qc("Animation","AnimationStart"),transitionend:Qc("Transition","TransitionEnd")},$m={},DS={};l&&(DS=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Oc(o){if($m[o])return $m[o];if(!ro[o])return o;var I=ro[o],u;for(u in I)if(I.hasOwnProperty(u)&&u in DS)return $m[o]=I[u];return o}var TS=Oc("animationend"),LS=Oc("animationiteration"),zS=Oc("animationstart"),US=Oc("transitionend"),PS=new Map,QS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ma(o,I){PS.set(o,I),a(I,[o])}for(var ef=0;ef<QS.length;ef++){var tf=QS[ef],OE=tf.toLowerCase(),jE=tf[0].toUpperCase()+tf.slice(1);ma(OE,"on"+jE)}ma(TS,"onAnimationEnd"),ma(LS,"onAnimationIteration"),ma(zS,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(US,"onTransitionEnd"),i("onMouseEnter",["mouseout","mouseover"]),i("onMouseLeave",["mouseout","mouseover"]),i("onPointerEnter",["pointerout","pointerover"]),i("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var CI="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_E=new Set("cancel close invalid load scroll toggle".split(" ").concat(CI));function OS(o,I,u){var m=o.type||"unknown-event";o.currentTarget=u,O5(m,I,void 0,o),o.currentTarget=null}function jS(o,I){I=(I&4)!==0;for(var u=0;u<o.length;u++){var m=o[u],y=m.event;m=m.listeners;e:{var B=void 0;if(I)for(var k=m.length-1;0<=k;k--){var F=m[k],M=F.instance,q=F.currentTarget;if(F=F.listener,M!==B&&y.isPropagationStopped())break e;OS(y,F,q),B=M}else for(k=0;k<m.length;k++){if(F=m[k],M=F.instance,q=F.currentTarget,F=F.listener,M!==B&&y.isPropagationStopped())break e;OS(y,F,q),B=M}}}if(Jc)throw o=Xm,Jc=!1,Xm=null,o}function ft(o,I){var u=I[sf];u===void 0&&(u=I[sf]=new Set);var m=o+"__bubble";u.has(m)||(_S(I,o,2,!1),u.add(m))}function nf(o,I,u){var m=0;I&&(m|=4),_S(u,o,m,I)}var jc="_reactListening"+Math.random().toString(36).slice(2);function dI(o){if(!o[jc]){o[jc]=!0,r.forEach(function(u){u!=="selectionchange"&&(_E.has(u)||nf(u,!1,o),nf(u,!0,o))});var I=o.nodeType===9?o:o.ownerDocument;I===null||I[jc]||(I[jc]=!0,nf("selectionchange",!1,I))}}function _S(o,I,u,m){switch(bS(I)){case 1:var y=cE;break;case 4:y=uE;break;default:y=xm}u=y.bind(null,I,u,o),y=void 0,!km||I!=="touchstart"&&I!=="touchmove"&&I!=="wheel"||(y=!0),m?y!==void 0?o.addEventListener(I,u,{capture:!0,passive:y}):o.addEventListener(I,u,!0):y!==void 0?o.addEventListener(I,u,{passive:y}):o.addEventListener(I,u,!1)}function rf(o,I,u,m,y){var B=m;if(!(I&1)&&!(I&2)&&m!==null)e:for(;;){if(m===null)return;var k=m.tag;if(k===3||k===4){var F=m.stateNode.containerInfo;if(F===y||F.nodeType===8&&F.parentNode===y)break;if(k===4)for(k=m.return;k!==null;){var M=k.tag;if((M===3||M===4)&&(M=k.stateNode.containerInfo,M===y||M.nodeType===8&&M.parentNode===y))return;k=k.return}for(;F!==null;){if(k=ti(F),k===null)return;if(M=k.tag,M===5||M===6){m=B=k;continue e}F=F.parentNode}}m=m.return}nS(function(){var q=B,ae=Vm(u),oe=[];e:{var ge=PS.get(o);if(ge!==void 0){var Ce=Dm,pe=o;switch(o){case"keypress":if(Lc(u)===0)break e;case"keydown":case"keyup":Ce=WE;break;case"focusin":pe="focus",Ce=zm;break;case"focusout":pe="blur",Ce=zm;break;case"beforeblur":case"afterblur":Ce=zm;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=GS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=AE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=RE;break;case TS:case LS:case zS:Ce=pE;break;case US:Ce=XE;break;case"scroll":Ce=CE;break;case"wheel":Ce=YE;break;case"copy":case"cut":case"paste":Ce=bE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=vS}var be=(I&4)!==0,Nt=!be&&o==="scroll",Q=be?ge!==null?ge+"Capture":null:ge;be=[];for(var T=q,j;T!==null;){j=T;var Ie=j.stateNode;if(j.tag===5&&Ie!==null&&(j=Ie,Q!==null&&(Ie=jl(T,Q),Ie!=null&&be.push(AI(T,Ie,j)))),Nt)break;T=T.return}0<be.length&&(ge=new Ce(ge,pe,null,u,ae),oe.push({event:ge,listeners:be}))}}if(!(I&7)){e:{if(ge=o==="mouseover"||o==="pointerover",Ce=o==="mouseout"||o==="pointerout",ge&&u!==Wm&&(pe=u.relatedTarget||u.fromElement)&&(ti(pe)||pe[Rg]))break e;if((Ce||ge)&&(ge=ae.window===ae?ae:(ge=ae.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ce?(pe=u.relatedTarget||u.toElement,Ce=q,pe=pe?ti(pe):null,pe!==null&&(Nt=ei(pe),pe!==Nt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(Ce=null,pe=q),Ce!==pe)){if(be=GS,Ie="onMouseLeave",Q="onMouseEnter",T="mouse",(o==="pointerout"||o==="pointerover")&&(be=vS,Ie="onPointerLeave",Q="onPointerEnter",T="pointer"),Nt=Ce==null?ge:io(Ce),j=pe==null?ge:io(pe),ge=new be(Ie,T+"leave",Ce,u,ae),ge.target=Nt,ge.relatedTarget=j,Ie=null,ti(ae)===q&&(be=new be(Q,T+"enter",pe,u,ae),be.target=j,be.relatedTarget=Nt,Ie=be),Nt=Ie,Ce&&pe)t:{for(be=Ce,Q=pe,T=0,j=be;j;j=go(j))T++;for(j=0,Ie=Q;Ie;Ie=go(Ie))j++;for(;0<T-j;)be=go(be),T--;for(;0<j-T;)Q=go(Q),j--;for(;T--;){if(be===Q||Q!==null&&be===Q.alternate)break t;be=go(be),Q=go(Q)}be=null}else be=null;Ce!==null&&qS(oe,ge,Ce,be,!1),pe!==null&&Nt!==null&&qS(oe,Nt,pe,be,!0)}}e:{if(ge=q?io(q):window,Ce=ge.nodeName&&ge.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&ge.type==="file")var ye=ME;else if(kS(ge))if(JS)ye=zE;else{ye=TE;var Be=DE}else(Ce=ge.nodeName)&&Ce.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(ye=LE);if(ye&&(ye=ye(o,q))){XS(oe,ye,u,ae);break e}Be&&Be(o,ge,q),o==="focusout"&&(Be=ge._wrapperState)&&Be.controlled&&ge.type==="number"&&qr(ge,"number",ge.value)}switch(Be=q?io(q):window,o){case"focusin":(kS(Be)||Be.contentEditable==="true")&&(no=Be,_m=q,uI=null);break;case"focusout":uI=_m=no=null;break;case"mousedown":qm=!0;break;case"contextmenu":case"mouseup":case"dragend":qm=!1,MS(oe,u,ae);break;case"selectionchange":if(QE)break;case"keydown":case"keyup":MS(oe,u,ae)}var ve;if(Pm)e:{switch(o){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else to?wS(o,u)&&(we="onCompositionEnd"):o==="keydown"&&u.keyCode===229&&(we="onCompositionStart");we&&(SS&&u.locale!=="ko"&&(to||we!=="onCompositionStart"?we==="onCompositionEnd"&&to&&(ve=yS()):(Aa=ae,Mm="value"in Aa?Aa.value:Aa.textContent,to=!0)),Be=_c(q,we),0<Be.length&&(we=new BS(we,o,null,u,ae),oe.push({event:we,listeners:Be}),ve?we.data=ve:(ve=RS(u),ve!==null&&(we.data=ve)))),(ve=NE?FE(o,u):KE(o,u))&&(q=_c(q,"onBeforeInput"),0<q.length&&(ae=new BS("onBeforeInput","beforeinput",null,u,ae),oe.push({event:ae,listeners:q}),ae.data=ve))}jS(oe,I)})}function AI(o,I,u){return{instance:o,listener:I,currentTarget:u}}function _c(o,I){for(var u=I+"Capture",m=[];o!==null;){var y=o,B=y.stateNode;y.tag===5&&B!==null&&(y=B,B=jl(o,u),B!=null&&m.unshift(AI(o,B,y)),B=jl(o,I),B!=null&&m.push(AI(o,B,y))),o=o.return}return m}function go(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function qS(o,I,u,m,y){for(var B=I._reactName,k=[];u!==null&&u!==m;){var F=u,M=F.alternate,q=F.stateNode;if(M!==null&&M===m)break;F.tag===5&&q!==null&&(F=q,y?(M=jl(u,B),M!=null&&k.unshift(AI(u,M,F))):y||(M=jl(u,B),M!=null&&k.push(AI(u,M,F)))),u=u.return}k.length!==0&&o.push({event:I,listeners:k})}var qE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function $S(o){return(typeof o=="string"?o:""+o).replace(qE,`
`).replace($E,"")}function qc(o,I,u){if(I=$S(I),$S(o)!==I&&u)throw Error(n(425))}function $c(){}var gf=null,af=null;function of(o,I){return o==="textarea"||o==="noscript"||typeof I.children=="string"||typeof I.children=="number"||typeof I.dangerouslySetInnerHTML=="object"&&I.dangerouslySetInnerHTML!==null&&I.dangerouslySetInnerHTML.__html!=null}var lf=typeof setTimeout=="function"?setTimeout:void 0,eM=typeof clearTimeout=="function"?clearTimeout:void 0,eW=typeof Promise=="function"?Promise:void 0,tM=typeof queueMicrotask=="function"?queueMicrotask:typeof eW<"u"?function(o){return eW.resolve(null).then(o).catch(nM)}:lf;function nM(o){setTimeout(function(){throw o})}function If(o,I){var u=I,m=0;do{var y=u.nextSibling;if(o.removeChild(u),y&&y.nodeType===8)if(u=y.data,u==="/$"){if(m===0){o.removeChild(y),aI(I);return}m--}else u!=="$"&&u!=="$?"&&u!=="$!"||m++;u=y}while(u);aI(I)}function fa(o){for(;o!=null;o=o.nextSibling){var I=o.nodeType;if(I===1||I===3)break;if(I===8){if(I=o.data,I==="$"||I==="$!"||I==="$?")break;if(I==="/$")return null}}return o}function tW(o){o=o.previousSibling;for(var I=0;o;){if(o.nodeType===8){var u=o.data;if(u==="$"||u==="$!"||u==="$?"){if(I===0)return o;I--}else u==="/$"&&I++}o=o.previousSibling}return null}var ao=Math.random().toString(36).slice(2),tg="__reactFiber$"+ao,mI="__reactProps$"+ao,Rg="__reactContainer$"+ao,sf="__reactEvents$"+ao,rM="__reactListeners$"+ao,gM="__reactHandles$"+ao;function ti(o){var I=o[tg];if(I)return I;for(var u=o.parentNode;u;){if(I=u[Rg]||u[tg]){if(u=I.alternate,I.child!==null||u!==null&&u.child!==null)for(o=tW(o);o!==null;){if(u=o[tg])return u;o=tW(o)}return I}o=u,u=o.parentNode}return null}function fI(o){return o=o[tg]||o[Rg],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function io(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function eu(o){return o[mI]||null}var cf=[],oo=-1;function pa(o){return{current:o}}function pt(o){0>oo||(o.current=cf[oo],cf[oo]=null,oo--)}function dt(o,I){oo++,cf[oo]=o.current,o.current=I}var ha={},dn=pa(ha),Xn=pa(!1),ni=ha;function lo(o,I){var u=o.type.contextTypes;if(!u)return ha;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===I)return m.__reactInternalMemoizedMaskedChildContext;var y={},B;for(B in u)y[B]=I[B];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=I,o.__reactInternalMemoizedMaskedChildContext=y),y}function Jn(o){return o=o.childContextTypes,o!=null}function tu(){pt(Xn),pt(dn)}function nW(o,I,u){if(dn.current!==ha)throw Error(n(168));dt(dn,I),dt(Xn,u)}function rW(o,I,u){var m=o.stateNode;if(I=I.childContextTypes,typeof m.getChildContext!="function")return u;m=m.getChildContext();for(var y in m)if(!(y in I))throw Error(n(108,Ee(o)||"Unknown",y));return te({},u,m)}function nu(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ha,ni=dn.current,dt(dn,o),dt(Xn,Xn.current),!0}function gW(o,I,u){var m=o.stateNode;if(!m)throw Error(n(169));u?(o=rW(o,I,ni),m.__reactInternalMemoizedMergedChildContext=o,pt(Xn),pt(dn),dt(dn,o)):pt(Xn),dt(Xn,u)}var kg=null,ru=!1,uf=!1;function aW(o){kg===null?kg=[o]:kg.push(o)}function aM(o){ru=!0,aW(o)}function ba(){if(!uf&&kg!==null){uf=!0;var o=0,I=tt;try{var u=kg;for(tt=1;o<u.length;o++){var m=u[o];do m=m(!0);while(m!==null)}kg=null,ru=!1}catch(y){throw kg!==null&&(kg=kg.slice(o+1)),oS(Jm,ba),y}finally{tt=I,uf=!1}}return null}var Io=[],so=0,gu=null,au=0,sr=[],cr=0,ri=null,Xg=1,Jg="";function gi(o,I){Io[so++]=au,Io[so++]=gu,gu=o,au=I}function iW(o,I,u){sr[cr++]=Xg,sr[cr++]=Jg,sr[cr++]=ri,ri=o;var m=Xg;o=Jg;var y=32-kr(m)-1;m&=~(1<<y),u+=1;var B=32-kr(I)+y;if(30<B){var k=y-y%5;B=(m&(1<<k)-1).toString(32),m>>=k,y-=k,Xg=1<<32-kr(I)+y|u<<y|m,Jg=B+o}else Xg=1<<B|u<<y|m,Jg=o}function Cf(o){o.return!==null&&(gi(o,1),iW(o,1,0))}function df(o){for(;o===gu;)gu=Io[--so],Io[so]=null,au=Io[--so],Io[so]=null;for(;o===ri;)ri=sr[--cr],sr[cr]=null,Jg=sr[--cr],sr[cr]=null,Xg=sr[--cr],sr[cr]=null}var Un=null,Pn=null,yt=!1,Jr=null;function oW(o,I){var u=Ar(5,null,null,0);u.elementType="DELETED",u.stateNode=I,u.return=o,I=o.deletions,I===null?(o.deletions=[u],o.flags|=16):I.push(u)}function lW(o,I){switch(o.tag){case 5:var u=o.type;return I=I.nodeType!==1||u.toLowerCase()!==I.nodeName.toLowerCase()?null:I,I!==null?(o.stateNode=I,Un=o,Pn=fa(I.firstChild),!0):!1;case 6:return I=o.pendingProps===""||I.nodeType!==3?null:I,I!==null?(o.stateNode=I,Un=o,Pn=null,!0):!1;case 13:return I=I.nodeType!==8?null:I,I!==null?(u=ri!==null?{id:Xg,overflow:Jg}:null,o.memoizedState={dehydrated:I,treeContext:u,retryLane:1073741824},u=Ar(18,null,null,0),u.stateNode=I,u.return=o,o.child=u,Un=o,Pn=null,!0):!1;default:return!1}}function Af(o){return(o.mode&1)!==0&&(o.flags&128)===0}function mf(o){if(yt){var I=Pn;if(I){var u=I;if(!lW(o,I)){if(Af(o))throw Error(n(418));I=fa(u.nextSibling);var m=Un;I&&lW(o,I)?oW(m,u):(o.flags=o.flags&-4097|2,yt=!1,Un=o)}}else{if(Af(o))throw Error(n(418));o.flags=o.flags&-4097|2,yt=!1,Un=o}}}function IW(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;Un=o}function iu(o){if(o!==Un)return!1;if(!yt)return IW(o),yt=!0,!1;var I;if((I=o.tag!==3)&&!(I=o.tag!==5)&&(I=o.type,I=I!=="head"&&I!=="body"&&!of(o.type,o.memoizedProps)),I&&(I=Pn)){if(Af(o))throw sW(),Error(n(418));for(;I;)oW(o,I),I=fa(I.nextSibling)}if(IW(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,I=0;o;){if(o.nodeType===8){var u=o.data;if(u==="/$"){if(I===0){Pn=fa(o.nextSibling);break e}I--}else u!=="$"&&u!=="$!"&&u!=="$?"||I++}o=o.nextSibling}Pn=null}}else Pn=Un?fa(o.stateNode.nextSibling):null;return!0}function sW(){for(var o=Pn;o;)o=fa(o.nextSibling)}function co(){Pn=Un=null,yt=!1}function ff(o){Jr===null?Jr=[o]:Jr.push(o)}var iM=V.ReactCurrentBatchConfig;function pI(o,I,u){if(o=u.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var m=u.stateNode}if(!m)throw Error(n(147,o));var y=m,B=""+o;return I!==null&&I.ref!==null&&typeof I.ref=="function"&&I.ref._stringRef===B?I.ref:(I=function(k){var F=y.refs;k===null?delete F[B]:F[B]=k},I._stringRef=B,I)}if(typeof o!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,o))}return o}function ou(o,I){throw o=Object.prototype.toString.call(I),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":o))}function cW(o){var I=o._init;return I(o._payload)}function uW(o){function I(Q,T){if(o){var j=Q.deletions;j===null?(Q.deletions=[T],Q.flags|=16):j.push(T)}}function u(Q,T){if(!o)return null;for(;T!==null;)I(Q,T),T=T.sibling;return null}function m(Q,T){for(Q=new Map;T!==null;)T.key!==null?Q.set(T.key,T):Q.set(T.index,T),T=T.sibling;return Q}function y(Q,T){return Q=Va(Q,T),Q.index=0,Q.sibling=null,Q}function B(Q,T,j){return Q.index=j,o?(j=Q.alternate,j!==null?(j=j.index,j<T?(Q.flags|=2,T):j):(Q.flags|=2,T)):(Q.flags|=1048576,T)}function k(Q){return o&&Q.alternate===null&&(Q.flags|=2),Q}function F(Q,T,j,Ie){return T===null||T.tag!==6?(T=lp(j,Q.mode,Ie),T.return=Q,T):(T=y(T,j),T.return=Q,T)}function M(Q,T,j,Ie){var ye=j.type;return ye===w?ae(Q,T,j.props.children,Ie,j.key):T!==null&&(T.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===U&&cW(ye)===T.type)?(Ie=y(T,j.props),Ie.ref=pI(Q,T,j),Ie.return=Q,Ie):(Ie=ku(j.type,j.key,j.props,null,Q.mode,Ie),Ie.ref=pI(Q,T,j),Ie.return=Q,Ie)}function q(Q,T,j,Ie){return T===null||T.tag!==4||T.stateNode.containerInfo!==j.containerInfo||T.stateNode.implementation!==j.implementation?(T=Ip(j,Q.mode,Ie),T.return=Q,T):(T=y(T,j.children||[]),T.return=Q,T)}function ae(Q,T,j,Ie,ye){return T===null||T.tag!==7?(T=ui(j,Q.mode,Ie,ye),T.return=Q,T):(T=y(T,j),T.return=Q,T)}function oe(Q,T,j){if(typeof T=="string"&&T!==""||typeof T=="number")return T=lp(""+T,Q.mode,j),T.return=Q,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Z:return j=ku(T.type,T.key,T.props,null,Q.mode,j),j.ref=pI(Q,null,T),j.return=Q,j;case W:return T=Ip(T,Q.mode,j),T.return=Q,T;case U:var Ie=T._init;return oe(Q,Ie(T._payload),j)}if($r(T)||_(T))return T=ui(T,Q.mode,j,null),T.return=Q,T;ou(Q,T)}return null}function ge(Q,T,j,Ie){var ye=T!==null?T.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ye!==null?null:F(Q,T,""+j,Ie);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:return j.key===ye?M(Q,T,j,Ie):null;case W:return j.key===ye?q(Q,T,j,Ie):null;case U:return ye=j._init,ge(Q,T,ye(j._payload),Ie)}if($r(j)||_(j))return ye!==null?null:ae(Q,T,j,Ie,null);ou(Q,j)}return null}function Ce(Q,T,j,Ie,ye){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Q=Q.get(j)||null,F(T,Q,""+Ie,ye);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case Z:return Q=Q.get(Ie.key===null?j:Ie.key)||null,M(T,Q,Ie,ye);case W:return Q=Q.get(Ie.key===null?j:Ie.key)||null,q(T,Q,Ie,ye);case U:var Be=Ie._init;return Ce(Q,T,j,Be(Ie._payload),ye)}if($r(Ie)||_(Ie))return Q=Q.get(j)||null,ae(T,Q,Ie,ye,null);ou(T,Ie)}return null}function pe(Q,T,j,Ie){for(var ye=null,Be=null,ve=T,we=T=0,nn=null;ve!==null&&we<j.length;we++){ve.index>we?(nn=ve,ve=null):nn=ve.sibling;var ze=ge(Q,ve,j[we],Ie);if(ze===null){ve===null&&(ve=nn);break}o&&ve&&ze.alternate===null&&I(Q,ve),T=B(ze,T,we),Be===null?ye=ze:Be.sibling=ze,Be=ze,ve=nn}if(we===j.length)return u(Q,ve),yt&&gi(Q,we),ye;if(ve===null){for(;we<j.length;we++)ve=oe(Q,j[we],Ie),ve!==null&&(T=B(ve,T,we),Be===null?ye=ve:Be.sibling=ve,Be=ve);return yt&&gi(Q,we),ye}for(ve=m(Q,ve);we<j.length;we++)nn=Ce(ve,Q,we,j[we],Ie),nn!==null&&(o&&nn.alternate!==null&&ve.delete(nn.key===null?we:nn.key),T=B(nn,T,we),Be===null?ye=nn:Be.sibling=nn,Be=nn);return o&&ve.forEach(function(wa){return I(Q,wa)}),yt&&gi(Q,we),ye}function be(Q,T,j,Ie){var ye=_(j);if(typeof ye!="function")throw Error(n(150));if(j=ye.call(j),j==null)throw Error(n(151));for(var Be=ye=null,ve=T,we=T=0,nn=null,ze=j.next();ve!==null&&!ze.done;we++,ze=j.next()){ve.index>we?(nn=ve,ve=null):nn=ve.sibling;var wa=ge(Q,ve,ze.value,Ie);if(wa===null){ve===null&&(ve=nn);break}o&&ve&&wa.alternate===null&&I(Q,ve),T=B(wa,T,we),Be===null?ye=wa:Be.sibling=wa,Be=wa,ve=nn}if(ze.done)return u(Q,ve),yt&&gi(Q,we),ye;if(ve===null){for(;!ze.done;we++,ze=j.next())ze=oe(Q,ze.value,Ie),ze!==null&&(T=B(ze,T,we),Be===null?ye=ze:Be.sibling=ze,Be=ze);return yt&&gi(Q,we),ye}for(ve=m(Q,ve);!ze.done;we++,ze=j.next())ze=Ce(ve,Q,we,ze.value,Ie),ze!==null&&(o&&ze.alternate!==null&&ve.delete(ze.key===null?we:ze.key),T=B(ze,T,we),Be===null?ye=ze:Be.sibling=ze,Be=ze);return o&&ve.forEach(function(KM){return I(Q,KM)}),yt&&gi(Q,we),ye}function Nt(Q,T,j,Ie){if(typeof j=="object"&&j!==null&&j.type===w&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case Z:e:{for(var ye=j.key,Be=T;Be!==null;){if(Be.key===ye){if(ye=j.type,ye===w){if(Be.tag===7){u(Q,Be.sibling),T=y(Be,j.props.children),T.return=Q,Q=T;break e}}else if(Be.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===U&&cW(ye)===Be.type){u(Q,Be.sibling),T=y(Be,j.props),T.ref=pI(Q,Be,j),T.return=Q,Q=T;break e}u(Q,Be);break}else I(Q,Be);Be=Be.sibling}j.type===w?(T=ui(j.props.children,Q.mode,Ie,j.key),T.return=Q,Q=T):(Ie=ku(j.type,j.key,j.props,null,Q.mode,Ie),Ie.ref=pI(Q,T,j),Ie.return=Q,Q=Ie)}return k(Q);case W:e:{for(Be=j.key;T!==null;){if(T.key===Be)if(T.tag===4&&T.stateNode.containerInfo===j.containerInfo&&T.stateNode.implementation===j.implementation){u(Q,T.sibling),T=y(T,j.children||[]),T.return=Q,Q=T;break e}else{u(Q,T);break}else I(Q,T);T=T.sibling}T=Ip(j,Q.mode,Ie),T.return=Q,Q=T}return k(Q);case U:return Be=j._init,Nt(Q,T,Be(j._payload),Ie)}if($r(j))return pe(Q,T,j,Ie);if(_(j))return be(Q,T,j,Ie);ou(Q,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,T!==null&&T.tag===6?(u(Q,T.sibling),T=y(T,j),T.return=Q,Q=T):(u(Q,T),T=lp(j,Q.mode,Ie),T.return=Q,Q=T),k(Q)):u(Q,T)}return Nt}var uo=uW(!0),CW=uW(!1),lu=pa(null),Iu=null,Co=null,pf=null;function hf(){pf=Co=Iu=null}function bf(o){var I=lu.current;pt(lu),o._currentValue=I}function yf(o,I,u){for(;o!==null;){var m=o.alternate;if((o.childLanes&I)!==I?(o.childLanes|=I,m!==null&&(m.childLanes|=I)):m!==null&&(m.childLanes&I)!==I&&(m.childLanes|=I),o===u)break;o=o.return}}function Ao(o,I){Iu=o,pf=Co=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&I&&(Yn=!0),o.firstContext=null)}function ur(o){var I=o._currentValue;if(pf!==o)if(o={context:o,memoizedValue:I,next:null},Co===null){if(Iu===null)throw Error(n(308));Co=o,Iu.dependencies={lanes:0,firstContext:o}}else Co=Co.next=o;return I}var ai=null;function Zf(o){ai===null?ai=[o]:ai.push(o)}function dW(o,I,u,m){var y=I.interleaved;return y===null?(u.next=u,Zf(I)):(u.next=y.next,y.next=u),I.interleaved=u,Yg(o,m)}function Yg(o,I){o.lanes|=I;var u=o.alternate;for(u!==null&&(u.lanes|=I),u=o,o=o.return;o!==null;)o.childLanes|=I,u=o.alternate,u!==null&&(u.childLanes|=I),u=o,o=o.return;return u.tag===3?u.stateNode:null}var ya=!1;function Gf(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AW(o,I){o=o.updateQueue,I.updateQueue===o&&(I.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Hg(o,I){return{eventTime:o,lane:I,tag:0,payload:null,callback:null,next:null}}function Za(o,I,u){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,Te&2){var y=m.pending;return y===null?I.next=I:(I.next=y.next,y.next=I),m.pending=I,Yg(o,u)}return y=m.interleaved,y===null?(I.next=I,Zf(m)):(I.next=y.next,y.next=I),m.interleaved=I,Yg(o,u)}function su(o,I,u){if(I=I.updateQueue,I!==null&&(I=I.shared,(u&4194240)!==0)){var m=I.lanes;m&=o.pendingLanes,u|=m,I.lanes=u,Nm(o,u)}}function mW(o,I){var u=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,u===m)){var y=null,B=null;if(u=u.firstBaseUpdate,u!==null){do{var k={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};B===null?y=B=k:B=B.next=k,u=u.next}while(u!==null);B===null?y=B=I:B=B.next=I}else y=B=I;u={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:B,shared:m.shared,effects:m.effects},o.updateQueue=u;return}o=u.lastBaseUpdate,o===null?u.firstBaseUpdate=I:o.next=I,u.lastBaseUpdate=I}function cu(o,I,u,m){var y=o.updateQueue;ya=!1;var B=y.firstBaseUpdate,k=y.lastBaseUpdate,F=y.shared.pending;if(F!==null){y.shared.pending=null;var M=F,q=M.next;M.next=null,k===null?B=q:k.next=q,k=M;var ae=o.alternate;ae!==null&&(ae=ae.updateQueue,F=ae.lastBaseUpdate,F!==k&&(F===null?ae.firstBaseUpdate=q:F.next=q,ae.lastBaseUpdate=M))}if(B!==null){var oe=y.baseState;k=0,ae=q=M=null,F=B;do{var ge=F.lane,Ce=F.eventTime;if((m&ge)===ge){ae!==null&&(ae=ae.next={eventTime:Ce,lane:0,tag:F.tag,payload:F.payload,callback:F.callback,next:null});e:{var pe=o,be=F;switch(ge=I,Ce=u,be.tag){case 1:if(pe=be.payload,typeof pe=="function"){oe=pe.call(Ce,oe,ge);break e}oe=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=be.payload,ge=typeof pe=="function"?pe.call(Ce,oe,ge):pe,ge==null)break e;oe=te({},oe,ge);break e;case 2:ya=!0}}F.callback!==null&&F.lane!==0&&(o.flags|=64,ge=y.effects,ge===null?y.effects=[F]:ge.push(F))}else Ce={eventTime:Ce,lane:ge,tag:F.tag,payload:F.payload,callback:F.callback,next:null},ae===null?(q=ae=Ce,M=oe):ae=ae.next=Ce,k|=ge;if(F=F.next,F===null){if(F=y.shared.pending,F===null)break;ge=F,F=ge.next,ge.next=null,y.lastBaseUpdate=ge,y.shared.pending=null}}while(!0);if(ae===null&&(M=oe),y.baseState=M,y.firstBaseUpdate=q,y.lastBaseUpdate=ae,I=y.shared.interleaved,I!==null){y=I;do k|=y.lane,y=y.next;while(y!==I)}else B===null&&(y.shared.lanes=0);li|=k,o.lanes=k,o.memoizedState=oe}}function fW(o,I,u){if(o=I.effects,I.effects=null,o!==null)for(I=0;I<o.length;I++){var m=o[I],y=m.callback;if(y!==null){if(m.callback=null,m=u,typeof y!="function")throw Error(n(191,y));y.call(m)}}}var hI={},ng=pa(hI),bI=pa(hI),yI=pa(hI);function ii(o){if(o===hI)throw Error(n(174));return o}function Bf(o,I){switch(dt(yI,I),dt(bI,o),dt(ng,hI),o=I.nodeType,o){case 9:case 11:I=(I=I.documentElement)?I.namespaceURI:Bm(null,"");break;default:o=o===8?I.parentNode:I,I=o.namespaceURI||null,o=o.tagName,I=Bm(I,o)}pt(ng),dt(ng,I)}function mo(){pt(ng),pt(bI),pt(yI)}function pW(o){ii(yI.current);var I=ii(ng.current),u=Bm(I,o.type);I!==u&&(dt(bI,o),dt(ng,u))}function vf(o){bI.current===o&&(pt(ng),pt(bI))}var vt=pa(0);function uu(o){for(var I=o;I!==null;){if(I.tag===13){var u=I.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return I}else if(I.tag===19&&I.memoizedProps.revealOrder!==void 0){if(I.flags&128)return I}else if(I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break;for(;I.sibling===null;){if(I.return===null||I.return===o)return null;I=I.return}I.sibling.return=I.return,I=I.sibling}return null}var Sf=[];function Wf(){for(var o=0;o<Sf.length;o++)Sf[o]._workInProgressVersionPrimary=null;Sf.length=0}var Cu=V.ReactCurrentDispatcher,Vf=V.ReactCurrentBatchConfig,oi=0,St=null,Pt=null,en=null,du=!1,ZI=!1,GI=0,oM=0;function An(){throw Error(n(321))}function wf(o,I){if(I===null)return!1;for(var u=0;u<I.length&&u<o.length;u++)if(!Xr(o[u],I[u]))return!1;return!0}function Rf(o,I,u,m,y,B){if(oi=B,St=I,I.memoizedState=null,I.updateQueue=null,I.lanes=0,Cu.current=o===null||o.memoizedState===null?cM:uM,o=u(m,y),ZI){B=0;do{if(ZI=!1,GI=0,25<=B)throw Error(n(301));B+=1,en=Pt=null,I.updateQueue=null,Cu.current=CM,o=u(m,y)}while(ZI)}if(Cu.current=fu,I=Pt!==null&&Pt.next!==null,oi=0,en=Pt=St=null,du=!1,I)throw Error(n(300));return o}function kf(){var o=GI!==0;return GI=0,o}function rg(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?St.memoizedState=en=o:en=en.next=o,en}function Cr(){if(Pt===null){var o=St.alternate;o=o!==null?o.memoizedState:null}else o=Pt.next;var I=en===null?St.memoizedState:en.next;if(I!==null)en=I,Pt=o;else{if(o===null)throw Error(n(310));Pt=o,o={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},en===null?St.memoizedState=en=o:en=en.next=o}return en}function BI(o,I){return typeof I=="function"?I(o):I}function Xf(o){var I=Cr(),u=I.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var m=Pt,y=m.baseQueue,B=u.pending;if(B!==null){if(y!==null){var k=y.next;y.next=B.next,B.next=k}m.baseQueue=y=B,u.pending=null}if(y!==null){B=y.next,m=m.baseState;var F=k=null,M=null,q=B;do{var ae=q.lane;if((oi&ae)===ae)M!==null&&(M=M.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),m=q.hasEagerState?q.eagerState:o(m,q.action);else{var oe={lane:ae,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};M===null?(F=M=oe,k=m):M=M.next=oe,St.lanes|=ae,li|=ae}q=q.next}while(q!==null&&q!==B);M===null?k=m:M.next=F,Xr(m,I.memoizedState)||(Yn=!0),I.memoizedState=m,I.baseState=k,I.baseQueue=M,u.lastRenderedState=m}if(o=u.interleaved,o!==null){y=o;do B=y.lane,St.lanes|=B,li|=B,y=y.next;while(y!==o)}else y===null&&(u.lanes=0);return[I.memoizedState,u.dispatch]}function Jf(o){var I=Cr(),u=I.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=o;var m=u.dispatch,y=u.pending,B=I.memoizedState;if(y!==null){u.pending=null;var k=y=y.next;do B=o(B,k.action),k=k.next;while(k!==y);Xr(B,I.memoizedState)||(Yn=!0),I.memoizedState=B,I.baseQueue===null&&(I.baseState=B),u.lastRenderedState=B}return[B,m]}function hW(){}function bW(o,I){var u=St,m=Cr(),y=I(),B=!Xr(m.memoizedState,y);if(B&&(m.memoizedState=y,Yn=!0),m=m.queue,Yf(GW.bind(null,u,m,o),[o]),m.getSnapshot!==I||B||en!==null&&en.memoizedState.tag&1){if(u.flags|=2048,vI(9,ZW.bind(null,u,m,y,I),void 0,null),tn===null)throw Error(n(349));oi&30||yW(u,I,y)}return y}function yW(o,I,u){o.flags|=16384,o={getSnapshot:I,value:u},I=St.updateQueue,I===null?(I={lastEffect:null,stores:null},St.updateQueue=I,I.stores=[o]):(u=I.stores,u===null?I.stores=[o]:u.push(o))}function ZW(o,I,u,m){I.value=u,I.getSnapshot=m,BW(I)&&vW(o)}function GW(o,I,u){return u(function(){BW(I)&&vW(o)})}function BW(o){var I=o.getSnapshot;o=o.value;try{var u=I();return!Xr(o,u)}catch{return!0}}function vW(o){var I=Yg(o,1);I!==null&&Fr(I,o,1,-1)}function SW(o){var I=rg();return typeof o=="function"&&(o=o()),I.memoizedState=I.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:BI,lastRenderedState:o},I.queue=o,o=o.dispatch=sM.bind(null,St,o),[I.memoizedState,o]}function vI(o,I,u,m){return o={tag:o,create:I,destroy:u,deps:m,next:null},I=St.updateQueue,I===null?(I={lastEffect:null,stores:null},St.updateQueue=I,I.lastEffect=o.next=o):(u=I.lastEffect,u===null?I.lastEffect=o.next=o:(m=u.next,u.next=o,o.next=m,I.lastEffect=o)),o}function WW(){return Cr().memoizedState}function Au(o,I,u,m){var y=rg();St.flags|=o,y.memoizedState=vI(1|I,u,void 0,m===void 0?null:m)}function mu(o,I,u,m){var y=Cr();m=m===void 0?null:m;var B=void 0;if(Pt!==null){var k=Pt.memoizedState;if(B=k.destroy,m!==null&&wf(m,k.deps)){y.memoizedState=vI(I,u,B,m);return}}St.flags|=o,y.memoizedState=vI(1|I,u,B,m)}function VW(o,I){return Au(8390656,8,o,I)}function Yf(o,I){return mu(2048,8,o,I)}function wW(o,I){return mu(4,2,o,I)}function RW(o,I){return mu(4,4,o,I)}function kW(o,I){if(typeof I=="function")return o=o(),I(o),function(){I(null)};if(I!=null)return o=o(),I.current=o,function(){I.current=null}}function XW(o,I,u){return u=u!=null?u.concat([o]):null,mu(4,4,kW.bind(null,I,o),u)}function Hf(){}function JW(o,I){var u=Cr();I=I===void 0?null:I;var m=u.memoizedState;return m!==null&&I!==null&&wf(I,m[1])?m[0]:(u.memoizedState=[o,I],o)}function YW(o,I){var u=Cr();I=I===void 0?null:I;var m=u.memoizedState;return m!==null&&I!==null&&wf(I,m[1])?m[0]:(o=o(),u.memoizedState=[o,I],o)}function HW(o,I,u){return oi&21?(Xr(u,I)||(u=cS(),St.lanes|=u,li|=u,o.baseState=!0),I):(o.baseState&&(o.baseState=!1,Yn=!0),o.memoizedState=u)}function lM(o,I){var u=tt;tt=u!==0&&4>u?u:4,o(!0);var m=Vf.transition;Vf.transition={};try{o(!1),I()}finally{tt=u,Vf.transition=m}}function NW(){return Cr().memoizedState}function IM(o,I,u){var m=Sa(o);if(u={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null},FW(o))KW(I,u);else if(u=dW(o,I,u,m),u!==null){var y=vn();Fr(u,o,m,y),xW(u,I,m)}}function sM(o,I,u){var m=Sa(o),y={lane:m,action:u,hasEagerState:!1,eagerState:null,next:null};if(FW(o))KW(I,y);else{var B=o.alternate;if(o.lanes===0&&(B===null||B.lanes===0)&&(B=I.lastRenderedReducer,B!==null))try{var k=I.lastRenderedState,F=B(k,u);if(y.hasEagerState=!0,y.eagerState=F,Xr(F,k)){var M=I.interleaved;M===null?(y.next=y,Zf(I)):(y.next=M.next,M.next=y),I.interleaved=y;return}}catch{}finally{}u=dW(o,I,y,m),u!==null&&(y=vn(),Fr(u,o,m,y),xW(u,I,m))}}function FW(o){var I=o.alternate;return o===St||I!==null&&I===St}function KW(o,I){ZI=du=!0;var u=o.pending;u===null?I.next=I:(I.next=u.next,u.next=I),o.pending=I}function xW(o,I,u){if(u&4194240){var m=I.lanes;m&=o.pendingLanes,u|=m,I.lanes=u,Nm(o,u)}}var fu={readContext:ur,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},cM={readContext:ur,useCallback:function(o,I){return rg().memoizedState=[o,I===void 0?null:I],o},useContext:ur,useEffect:VW,useImperativeHandle:function(o,I,u){return u=u!=null?u.concat([o]):null,Au(4194308,4,kW.bind(null,I,o),u)},useLayoutEffect:function(o,I){return Au(4194308,4,o,I)},useInsertionEffect:function(o,I){return Au(4,2,o,I)},useMemo:function(o,I){var u=rg();return I=I===void 0?null:I,o=o(),u.memoizedState=[o,I],o},useReducer:function(o,I,u){var m=rg();return I=u!==void 0?u(I):I,m.memoizedState=m.baseState=I,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:I},m.queue=o,o=o.dispatch=IM.bind(null,St,o),[m.memoizedState,o]},useRef:function(o){var I=rg();return o={current:o},I.memoizedState=o},useState:SW,useDebugValue:Hf,useDeferredValue:function(o){return rg().memoizedState=o},useTransition:function(){var o=SW(!1),I=o[0];return o=lM.bind(null,o[1]),rg().memoizedState=o,[I,o]},useMutableSource:function(){},useSyncExternalStore:function(o,I,u){var m=St,y=rg();if(yt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=I(),tn===null)throw Error(n(349));oi&30||yW(m,I,u)}y.memoizedState=u;var B={value:u,getSnapshot:I};return y.queue=B,VW(GW.bind(null,m,B,o),[o]),m.flags|=2048,vI(9,ZW.bind(null,m,B,u,I),void 0,null),u},useId:function(){var o=rg(),I=tn.identifierPrefix;if(yt){var u=Jg,m=Xg;u=(m&~(1<<32-kr(m)-1)).toString(32)+u,I=":"+I+"R"+u,u=GI++,0<u&&(I+="H"+u.toString(32)),I+=":"}else u=oM++,I=":"+I+"r"+u.toString(32)+":";return o.memoizedState=I},unstable_isNewReconciler:!1},uM={readContext:ur,useCallback:JW,useContext:ur,useEffect:Yf,useImperativeHandle:XW,useInsertionEffect:wW,useLayoutEffect:RW,useMemo:YW,useReducer:Xf,useRef:WW,useState:function(){return Xf(BI)},useDebugValue:Hf,useDeferredValue:function(o){var I=Cr();return HW(I,Pt.memoizedState,o)},useTransition:function(){var o=Xf(BI)[0],I=Cr().memoizedState;return[o,I]},useMutableSource:hW,useSyncExternalStore:bW,useId:NW,unstable_isNewReconciler:!1},CM={readContext:ur,useCallback:JW,useContext:ur,useEffect:Yf,useImperativeHandle:XW,useInsertionEffect:wW,useLayoutEffect:RW,useMemo:YW,useReducer:Jf,useRef:WW,useState:function(){return Jf(BI)},useDebugValue:Hf,useDeferredValue:function(o){var I=Cr();return Pt===null?I.memoizedState=o:HW(I,Pt.memoizedState,o)},useTransition:function(){var o=Jf(BI)[0],I=Cr().memoizedState;return[o,I]},useMutableSource:hW,useSyncExternalStore:bW,useId:NW,unstable_isNewReconciler:!1};function Yr(o,I){if(o&&o.defaultProps){I=te({},I),o=o.defaultProps;for(var u in o)I[u]===void 0&&(I[u]=o[u]);return I}return I}function Nf(o,I,u,m){I=o.memoizedState,u=u(m,I),u=u==null?I:te({},I,u),o.memoizedState=u,o.lanes===0&&(o.updateQueue.baseState=u)}var pu={isMounted:function(o){return(o=o._reactInternals)?ei(o)===o:!1},enqueueSetState:function(o,I,u){o=o._reactInternals;var m=vn(),y=Sa(o),B=Hg(m,y);B.payload=I,u!=null&&(B.callback=u),I=Za(o,B,y),I!==null&&(Fr(I,o,y,m),su(I,o,y))},enqueueReplaceState:function(o,I,u){o=o._reactInternals;var m=vn(),y=Sa(o),B=Hg(m,y);B.tag=1,B.payload=I,u!=null&&(B.callback=u),I=Za(o,B,y),I!==null&&(Fr(I,o,y,m),su(I,o,y))},enqueueForceUpdate:function(o,I){o=o._reactInternals;var u=vn(),m=Sa(o),y=Hg(u,m);y.tag=2,I!=null&&(y.callback=I),I=Za(o,y,m),I!==null&&(Fr(I,o,m,u),su(I,o,m))}};function EW(o,I,u,m,y,B,k){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,B,k):I.prototype&&I.prototype.isPureReactComponent?!cI(u,m)||!cI(y,B):!0}function MW(o,I,u){var m=!1,y=ha,B=I.contextType;return typeof B=="object"&&B!==null?B=ur(B):(y=Jn(I)?ni:dn.current,m=I.contextTypes,B=(m=m!=null)?lo(o,y):ha),I=new I(u,B),o.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=pu,o.stateNode=I,I._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=y,o.__reactInternalMemoizedMaskedChildContext=B),I}function DW(o,I,u,m){o=I.state,typeof I.componentWillReceiveProps=="function"&&I.componentWillReceiveProps(u,m),typeof I.UNSAFE_componentWillReceiveProps=="function"&&I.UNSAFE_componentWillReceiveProps(u,m),I.state!==o&&pu.enqueueReplaceState(I,I.state,null)}function Ff(o,I,u,m){var y=o.stateNode;y.props=u,y.state=o.memoizedState,y.refs={},Gf(o);var B=I.contextType;typeof B=="object"&&B!==null?y.context=ur(B):(B=Jn(I)?ni:dn.current,y.context=lo(o,B)),y.state=o.memoizedState,B=I.getDerivedStateFromProps,typeof B=="function"&&(Nf(o,I,B,u),y.state=o.memoizedState),typeof I.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(I=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),I!==y.state&&pu.enqueueReplaceState(y,y.state,null),cu(o,u,y,m),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308)}function fo(o,I){try{var u="",m=I;do u+=Ge(m),m=m.return;while(m);var y=u}catch(B){y=`
Error generating stack: `+B.message+`
`+B.stack}return{value:o,source:I,stack:y,digest:null}}function Kf(o,I,u){return{value:o,source:null,stack:u??null,digest:I??null}}function xf(o,I){try{console.error(I.value)}catch(u){setTimeout(function(){throw u})}}var dM=typeof WeakMap=="function"?WeakMap:Map;function TW(o,I,u){u=Hg(-1,u),u.tag=3,u.payload={element:null};var m=I.value;return u.callback=function(){vu||(vu=!0,ep=m),xf(o,I)},u}function LW(o,I,u){u=Hg(-1,u),u.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var y=I.value;u.payload=function(){return m(y)},u.callback=function(){xf(o,I)}}var B=o.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(u.callback=function(){xf(o,I),typeof m!="function"&&(Ba===null?Ba=new Set([this]):Ba.add(this));var k=I.stack;this.componentDidCatch(I.value,{componentStack:k!==null?k:""})}),u}function zW(o,I,u){var m=o.pingCache;if(m===null){m=o.pingCache=new dM;var y=new Set;m.set(I,y)}else y=m.get(I),y===void 0&&(y=new Set,m.set(I,y));y.has(u)||(y.add(u),o=VM.bind(null,o,I,u),I.then(o,o))}function UW(o){do{var I;if((I=o.tag===13)&&(I=o.memoizedState,I=I!==null?I.dehydrated!==null:!0),I)return o;o=o.return}while(o!==null);return null}function PW(o,I,u,m,y){return o.mode&1?(o.flags|=65536,o.lanes=y,o):(o===I?o.flags|=65536:(o.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(I=Hg(-1,1),I.tag=2,Za(u,I,1))),u.lanes|=1),o)}var AM=V.ReactCurrentOwner,Yn=!1;function Bn(o,I,u,m){I.child=o===null?CW(I,null,u,m):uo(I,o.child,u,m)}function QW(o,I,u,m,y){u=u.render;var B=I.ref;return Ao(I,y),m=Rf(o,I,u,m,B,y),u=kf(),o!==null&&!Yn?(I.updateQueue=o.updateQueue,I.flags&=-2053,o.lanes&=~y,Ng(o,I,y)):(yt&&u&&Cf(I),I.flags|=1,Bn(o,I,m,y),I.child)}function OW(o,I,u,m,y){if(o===null){var B=u.type;return typeof B=="function"&&!op(B)&&B.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(I.tag=15,I.type=B,jW(o,I,B,m,y)):(o=ku(u.type,null,m,I,I.mode,y),o.ref=I.ref,o.return=I,I.child=o)}if(B=o.child,!(o.lanes&y)){var k=B.memoizedProps;if(u=u.compare,u=u!==null?u:cI,u(k,m)&&o.ref===I.ref)return Ng(o,I,y)}return I.flags|=1,o=Va(B,m),o.ref=I.ref,o.return=I,I.child=o}function jW(o,I,u,m,y){if(o!==null){var B=o.memoizedProps;if(cI(B,m)&&o.ref===I.ref)if(Yn=!1,I.pendingProps=m=B,(o.lanes&y)!==0)o.flags&131072&&(Yn=!0);else return I.lanes=o.lanes,Ng(o,I,y)}return Ef(o,I,u,m,y)}function _W(o,I,u){var m=I.pendingProps,y=m.children,B=o!==null?o.memoizedState:null;if(m.mode==="hidden")if(!(I.mode&1))I.memoizedState={baseLanes:0,cachePool:null,transitions:null},dt(ho,Qn),Qn|=u;else{if(!(u&1073741824))return o=B!==null?B.baseLanes|u:u,I.lanes=I.childLanes=1073741824,I.memoizedState={baseLanes:o,cachePool:null,transitions:null},I.updateQueue=null,dt(ho,Qn),Qn|=o,null;I.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=B!==null?B.baseLanes:u,dt(ho,Qn),Qn|=m}else B!==null?(m=B.baseLanes|u,I.memoizedState=null):m=u,dt(ho,Qn),Qn|=m;return Bn(o,I,y,u),I.child}function qW(o,I){var u=I.ref;(o===null&&u!==null||o!==null&&o.ref!==u)&&(I.flags|=512,I.flags|=2097152)}function Ef(o,I,u,m,y){var B=Jn(u)?ni:dn.current;return B=lo(I,B),Ao(I,y),u=Rf(o,I,u,m,B,y),m=kf(),o!==null&&!Yn?(I.updateQueue=o.updateQueue,I.flags&=-2053,o.lanes&=~y,Ng(o,I,y)):(yt&&m&&Cf(I),I.flags|=1,Bn(o,I,u,y),I.child)}function $W(o,I,u,m,y){if(Jn(u)){var B=!0;nu(I)}else B=!1;if(Ao(I,y),I.stateNode===null)bu(o,I),MW(I,u,m),Ff(I,u,m,y),m=!0;else if(o===null){var k=I.stateNode,F=I.memoizedProps;k.props=F;var M=k.context,q=u.contextType;typeof q=="object"&&q!==null?q=ur(q):(q=Jn(u)?ni:dn.current,q=lo(I,q));var ae=u.getDerivedStateFromProps,oe=typeof ae=="function"||typeof k.getSnapshotBeforeUpdate=="function";oe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(F!==m||M!==q)&&DW(I,k,m,q),ya=!1;var ge=I.memoizedState;k.state=ge,cu(I,m,k,y),M=I.memoizedState,F!==m||ge!==M||Xn.current||ya?(typeof ae=="function"&&(Nf(I,u,ae,m),M=I.memoizedState),(F=ya||EW(I,u,F,m,ge,M,q))?(oe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(I.flags|=4194308)):(typeof k.componentDidMount=="function"&&(I.flags|=4194308),I.memoizedProps=m,I.memoizedState=M),k.props=m,k.state=M,k.context=q,m=F):(typeof k.componentDidMount=="function"&&(I.flags|=4194308),m=!1)}else{k=I.stateNode,AW(o,I),F=I.memoizedProps,q=I.type===I.elementType?F:Yr(I.type,F),k.props=q,oe=I.pendingProps,ge=k.context,M=u.contextType,typeof M=="object"&&M!==null?M=ur(M):(M=Jn(u)?ni:dn.current,M=lo(I,M));var Ce=u.getDerivedStateFromProps;(ae=typeof Ce=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(F!==oe||ge!==M)&&DW(I,k,m,M),ya=!1,ge=I.memoizedState,k.state=ge,cu(I,m,k,y);var pe=I.memoizedState;F!==oe||ge!==pe||Xn.current||ya?(typeof Ce=="function"&&(Nf(I,u,Ce,m),pe=I.memoizedState),(q=ya||EW(I,u,q,m,ge,pe,M)||!1)?(ae||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(m,pe,M),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(m,pe,M)),typeof k.componentDidUpdate=="function"&&(I.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(I.flags|=1024)):(typeof k.componentDidUpdate!="function"||F===o.memoizedProps&&ge===o.memoizedState||(I.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&ge===o.memoizedState||(I.flags|=1024),I.memoizedProps=m,I.memoizedState=pe),k.props=m,k.state=pe,k.context=M,m=q):(typeof k.componentDidUpdate!="function"||F===o.memoizedProps&&ge===o.memoizedState||(I.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||F===o.memoizedProps&&ge===o.memoizedState||(I.flags|=1024),m=!1)}return Mf(o,I,u,m,B,y)}function Mf(o,I,u,m,y,B){qW(o,I);var k=(I.flags&128)!==0;if(!m&&!k)return y&&gW(I,u,!1),Ng(o,I,B);m=I.stateNode,AM.current=I;var F=k&&typeof u.getDerivedStateFromError!="function"?null:m.render();return I.flags|=1,o!==null&&k?(I.child=uo(I,o.child,null,B),I.child=uo(I,null,F,B)):Bn(o,I,F,B),I.memoizedState=m.state,y&&gW(I,u,!0),I.child}function eV(o){var I=o.stateNode;I.pendingContext?nW(o,I.pendingContext,I.pendingContext!==I.context):I.context&&nW(o,I.context,!1),Bf(o,I.containerInfo)}function tV(o,I,u,m,y){return co(),ff(y),I.flags|=256,Bn(o,I,u,m),I.child}var Df={dehydrated:null,treeContext:null,retryLane:0};function Tf(o){return{baseLanes:o,cachePool:null,transitions:null}}function nV(o,I,u){var m=I.pendingProps,y=vt.current,B=!1,k=(I.flags&128)!==0,F;if((F=k)||(F=o!==null&&o.memoizedState===null?!1:(y&2)!==0),F?(B=!0,I.flags&=-129):(o===null||o.memoizedState!==null)&&(y|=1),dt(vt,y&1),o===null)return mf(I),o=I.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(I.mode&1?o.data==="$!"?I.lanes=8:I.lanes=1073741824:I.lanes=1,null):(k=m.children,o=m.fallback,B?(m=I.mode,B=I.child,k={mode:"hidden",children:k},!(m&1)&&B!==null?(B.childLanes=0,B.pendingProps=k):B=Xu(k,m,0,null),o=ui(o,m,u,null),B.return=I,o.return=I,B.sibling=o,I.child=B,I.child.memoizedState=Tf(u),I.memoizedState=Df,o):Lf(I,k));if(y=o.memoizedState,y!==null&&(F=y.dehydrated,F!==null))return mM(o,I,k,m,F,y,u);if(B){B=m.fallback,k=I.mode,y=o.child,F=y.sibling;var M={mode:"hidden",children:m.children};return!(k&1)&&I.child!==y?(m=I.child,m.childLanes=0,m.pendingProps=M,I.deletions=null):(m=Va(y,M),m.subtreeFlags=y.subtreeFlags&14680064),F!==null?B=Va(F,B):(B=ui(B,k,u,null),B.flags|=2),B.return=I,m.return=I,m.sibling=B,I.child=m,m=B,B=I.child,k=o.child.memoizedState,k=k===null?Tf(u):{baseLanes:k.baseLanes|u,cachePool:null,transitions:k.transitions},B.memoizedState=k,B.childLanes=o.childLanes&~u,I.memoizedState=Df,m}return B=o.child,o=B.sibling,m=Va(B,{mode:"visible",children:m.children}),!(I.mode&1)&&(m.lanes=u),m.return=I,m.sibling=null,o!==null&&(u=I.deletions,u===null?(I.deletions=[o],I.flags|=16):u.push(o)),I.child=m,I.memoizedState=null,m}function Lf(o,I){return I=Xu({mode:"visible",children:I},o.mode,0,null),I.return=o,o.child=I}function hu(o,I,u,m){return m!==null&&ff(m),uo(I,o.child,null,u),o=Lf(I,I.pendingProps.children),o.flags|=2,I.memoizedState=null,o}function mM(o,I,u,m,y,B,k){if(u)return I.flags&256?(I.flags&=-257,m=Kf(Error(n(422))),hu(o,I,k,m)):I.memoizedState!==null?(I.child=o.child,I.flags|=128,null):(B=m.fallback,y=I.mode,m=Xu({mode:"visible",children:m.children},y,0,null),B=ui(B,y,k,null),B.flags|=2,m.return=I,B.return=I,m.sibling=B,I.child=m,I.mode&1&&uo(I,o.child,null,k),I.child.memoizedState=Tf(k),I.memoizedState=Df,B);if(!(I.mode&1))return hu(o,I,k,null);if(y.data==="$!"){if(m=y.nextSibling&&y.nextSibling.dataset,m)var F=m.dgst;return m=F,B=Error(n(419)),m=Kf(B,m,void 0),hu(o,I,k,m)}if(F=(k&o.childLanes)!==0,Yn||F){if(m=tn,m!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(m.suspendedLanes|k)?0:y,y!==0&&y!==B.retryLane&&(B.retryLane=y,Yg(o,y),Fr(m,o,y,-1))}return ip(),m=Kf(Error(n(421))),hu(o,I,k,m)}return y.data==="$?"?(I.flags|=128,I.child=o.child,I=wM.bind(null,o),y._reactRetry=I,null):(o=B.treeContext,Pn=fa(y.nextSibling),Un=I,yt=!0,Jr=null,o!==null&&(sr[cr++]=Xg,sr[cr++]=Jg,sr[cr++]=ri,Xg=o.id,Jg=o.overflow,ri=I),I=Lf(I,m.children),I.flags|=4096,I)}function rV(o,I,u){o.lanes|=I;var m=o.alternate;m!==null&&(m.lanes|=I),yf(o.return,I,u)}function zf(o,I,u,m,y){var B=o.memoizedState;B===null?o.memoizedState={isBackwards:I,rendering:null,renderingStartTime:0,last:m,tail:u,tailMode:y}:(B.isBackwards=I,B.rendering=null,B.renderingStartTime=0,B.last=m,B.tail=u,B.tailMode=y)}function gV(o,I,u){var m=I.pendingProps,y=m.revealOrder,B=m.tail;if(Bn(o,I,m.children,u),m=vt.current,m&2)m=m&1|2,I.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=I.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&rV(o,u,I);else if(o.tag===19)rV(o,u,I);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===I)break e;for(;o.sibling===null;){if(o.return===null||o.return===I)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(dt(vt,m),!(I.mode&1))I.memoizedState=null;else switch(y){case"forwards":for(u=I.child,y=null;u!==null;)o=u.alternate,o!==null&&uu(o)===null&&(y=u),u=u.sibling;u=y,u===null?(y=I.child,I.child=null):(y=u.sibling,u.sibling=null),zf(I,!1,y,u,B);break;case"backwards":for(u=null,y=I.child,I.child=null;y!==null;){if(o=y.alternate,o!==null&&uu(o)===null){I.child=y;break}o=y.sibling,y.sibling=u,u=y,y=o}zf(I,!0,u,null,B);break;case"together":zf(I,!1,null,null,void 0);break;default:I.memoizedState=null}return I.child}function bu(o,I){!(I.mode&1)&&o!==null&&(o.alternate=null,I.alternate=null,I.flags|=2)}function Ng(o,I,u){if(o!==null&&(I.dependencies=o.dependencies),li|=I.lanes,!(u&I.childLanes))return null;if(o!==null&&I.child!==o.child)throw Error(n(153));if(I.child!==null){for(o=I.child,u=Va(o,o.pendingProps),I.child=u,u.return=I;o.sibling!==null;)o=o.sibling,u=u.sibling=Va(o,o.pendingProps),u.return=I;u.sibling=null}return I.child}function fM(o,I,u){switch(I.tag){case 3:eV(I),co();break;case 5:pW(I);break;case 1:Jn(I.type)&&nu(I);break;case 4:Bf(I,I.stateNode.containerInfo);break;case 10:var m=I.type._context,y=I.memoizedProps.value;dt(lu,m._currentValue),m._currentValue=y;break;case 13:if(m=I.memoizedState,m!==null)return m.dehydrated!==null?(dt(vt,vt.current&1),I.flags|=128,null):u&I.child.childLanes?nV(o,I,u):(dt(vt,vt.current&1),o=Ng(o,I,u),o!==null?o.sibling:null);dt(vt,vt.current&1);break;case 19:if(m=(u&I.childLanes)!==0,o.flags&128){if(m)return gV(o,I,u);I.flags|=128}if(y=I.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),dt(vt,vt.current),m)break;return null;case 22:case 23:return I.lanes=0,_W(o,I,u)}return Ng(o,I,u)}var aV,Uf,iV,oV;aV=function(o,I){for(var u=I.child;u!==null;){if(u.tag===5||u.tag===6)o.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===I)break;for(;u.sibling===null;){if(u.return===null||u.return===I)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Uf=function(){},iV=function(o,I,u,m){var y=o.memoizedProps;if(y!==m){o=I.stateNode,ii(ng.current);var B=null;switch(u){case"input":y=Fe(o,y),m=Fe(o,m),B=[];break;case"select":y=te({},y,{value:void 0}),m=te({},m,{value:void 0}),B=[];break;case"textarea":y=Rr(o,y),m=Rr(o,m),B=[];break;default:typeof y.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=$c)}vm(u,m);var k;u=null;for(q in y)if(!m.hasOwnProperty(q)&&y.hasOwnProperty(q)&&y[q]!=null)if(q==="style"){var F=y[q];for(k in F)F.hasOwnProperty(k)&&(u||(u={}),u[k]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(g.hasOwnProperty(q)?B||(B=[]):(B=B||[]).push(q,null));for(q in m){var M=m[q];if(F=y!=null?y[q]:void 0,m.hasOwnProperty(q)&&M!==F&&(M!=null||F!=null))if(q==="style")if(F){for(k in F)!F.hasOwnProperty(k)||M&&M.hasOwnProperty(k)||(u||(u={}),u[k]="");for(k in M)M.hasOwnProperty(k)&&F[k]!==M[k]&&(u||(u={}),u[k]=M[k])}else u||(B||(B=[]),B.push(q,u)),u=M;else q==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,F=F?F.__html:void 0,M!=null&&F!==M&&(B=B||[]).push(q,M)):q==="children"?typeof M!="string"&&typeof M!="number"||(B=B||[]).push(q,""+M):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(g.hasOwnProperty(q)?(M!=null&&q==="onScroll"&&ft("scroll",o),B||F===M||(B=[])):(B=B||[]).push(q,M))}u&&(B=B||[]).push("style",u);var q=B;(I.updateQueue=q)&&(I.flags|=4)}},oV=function(o,I,u,m){u!==m&&(I.flags|=4)};function SI(o,I){if(!yt)switch(o.tailMode){case"hidden":I=o.tail;for(var u=null;I!==null;)I.alternate!==null&&(u=I),I=I.sibling;u===null?o.tail=null:u.sibling=null;break;case"collapsed":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?I||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function mn(o){var I=o.alternate!==null&&o.alternate.child===o.child,u=0,m=0;if(I)for(var y=o.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags&14680064,m|=y.flags&14680064,y.return=o,y=y.sibling;else for(y=o.child;y!==null;)u|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=o,y=y.sibling;return o.subtreeFlags|=m,o.childLanes=u,I}function pM(o,I,u){var m=I.pendingProps;switch(df(I),I.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(I),null;case 1:return Jn(I.type)&&tu(),mn(I),null;case 3:return m=I.stateNode,mo(),pt(Xn),pt(dn),Wf(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(iu(I)?I.flags|=4:o===null||o.memoizedState.isDehydrated&&!(I.flags&256)||(I.flags|=1024,Jr!==null&&(rp(Jr),Jr=null))),Uf(o,I),mn(I),null;case 5:vf(I);var y=ii(yI.current);if(u=I.type,o!==null&&I.stateNode!=null)iV(o,I,u,m,y),o.ref!==I.ref&&(I.flags|=512,I.flags|=2097152);else{if(!m){if(I.stateNode===null)throw Error(n(166));return mn(I),null}if(o=ii(ng.current),iu(I)){m=I.stateNode,u=I.type;var B=I.memoizedProps;switch(m[tg]=I,m[mI]=B,o=(I.mode&1)!==0,u){case"dialog":ft("cancel",m),ft("close",m);break;case"iframe":case"object":case"embed":ft("load",m);break;case"video":case"audio":for(y=0;y<CI.length;y++)ft(CI[y],m);break;case"source":ft("error",m);break;case"img":case"image":case"link":ft("error",m),ft("load",m);break;case"details":ft("toggle",m);break;case"input":Vt(m,B),ft("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!B.multiple},ft("invalid",m);break;case"textarea":ji(m,B),ft("invalid",m)}vm(u,B),y=null;for(var k in B)if(B.hasOwnProperty(k)){var F=B[k];k==="children"?typeof F=="string"?m.textContent!==F&&(B.suppressHydrationWarning!==!0&&qc(m.textContent,F,o),y=["children",F]):typeof F=="number"&&m.textContent!==""+F&&(B.suppressHydrationWarning!==!0&&qc(m.textContent,F,o),y=["children",""+F]):g.hasOwnProperty(k)&&F!=null&&k==="onScroll"&&ft("scroll",m)}switch(u){case"input":Xe(m),wr(m,B,!0);break;case"textarea":Xe(m),Pl(m);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(m.onclick=$c)}m=y,I.updateQueue=m,m!==null&&(I.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Pv(u)),o==="http://www.w3.org/1999/xhtml"?u==="script"?(o=k.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=k.createElement(u,{is:m.is}):(o=k.createElement(u),u==="select"&&(k=o,m.multiple?k.multiple=!0:m.size&&(k.size=m.size))):o=k.createElementNS(o,u),o[tg]=I,o[mI]=m,aV(o,I,!1,!1),I.stateNode=o;e:{switch(k=Sm(u,m),u){case"dialog":ft("cancel",o),ft("close",o),y=m;break;case"iframe":case"object":case"embed":ft("load",o),y=m;break;case"video":case"audio":for(y=0;y<CI.length;y++)ft(CI[y],o);y=m;break;case"source":ft("error",o),y=m;break;case"img":case"image":case"link":ft("error",o),ft("load",o),y=m;break;case"details":ft("toggle",o),y=m;break;case"input":Vt(o,m),y=Fe(o,m),ft("invalid",o);break;case"option":y=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},y=te({},m,{value:void 0}),ft("invalid",o);break;case"textarea":ji(o,m),y=Rr(o,m),ft("invalid",o);break;default:y=m}vm(u,y),F=y;for(B in F)if(F.hasOwnProperty(B)){var M=F[B];B==="style"?jv(o,M):B==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Qv(o,M)):B==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&Ql(o,M):typeof M=="number"&&Ql(o,""+M):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(g.hasOwnProperty(B)?M!=null&&B==="onScroll"&&ft("scroll",o):M!=null&&S(o,B,M,k))}switch(u){case"input":Xe(o),wr(o,m,!1);break;case"textarea":Xe(o),Pl(o);break;case"option":m.value!=null&&o.setAttribute("value",""+ke(m.value));break;case"select":o.multiple=!!m.multiple,B=m.value,B!=null?kn(o,!!m.multiple,B,!1):m.defaultValue!=null&&kn(o,!!m.multiple,m.defaultValue,!0);break;default:typeof y.onClick=="function"&&(o.onclick=$c)}switch(u){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(I.flags|=4)}I.ref!==null&&(I.flags|=512,I.flags|=2097152)}return mn(I),null;case 6:if(o&&I.stateNode!=null)oV(o,I,o.memoizedProps,m);else{if(typeof m!="string"&&I.stateNode===null)throw Error(n(166));if(u=ii(yI.current),ii(ng.current),iu(I)){if(m=I.stateNode,u=I.memoizedProps,m[tg]=I,(B=m.nodeValue!==u)&&(o=Un,o!==null))switch(o.tag){case 3:qc(m.nodeValue,u,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&qc(m.nodeValue,u,(o.mode&1)!==0)}B&&(I.flags|=4)}else m=(u.nodeType===9?u:u.ownerDocument).createTextNode(m),m[tg]=I,I.stateNode=m}return mn(I),null;case 13:if(pt(vt),m=I.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(yt&&Pn!==null&&I.mode&1&&!(I.flags&128))sW(),co(),I.flags|=98560,B=!1;else if(B=iu(I),m!==null&&m.dehydrated!==null){if(o===null){if(!B)throw Error(n(318));if(B=I.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[tg]=I}else co(),!(I.flags&128)&&(I.memoizedState=null),I.flags|=4;mn(I),B=!1}else Jr!==null&&(rp(Jr),Jr=null),B=!0;if(!B)return I.flags&65536?I:null}return I.flags&128?(I.lanes=u,I):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(I.child.flags|=8192,I.mode&1&&(o===null||vt.current&1?Qt===0&&(Qt=3):ip())),I.updateQueue!==null&&(I.flags|=4),mn(I),null);case 4:return mo(),Uf(o,I),o===null&&dI(I.stateNode.containerInfo),mn(I),null;case 10:return bf(I.type._context),mn(I),null;case 17:return Jn(I.type)&&tu(),mn(I),null;case 19:if(pt(vt),B=I.memoizedState,B===null)return mn(I),null;if(m=(I.flags&128)!==0,k=B.rendering,k===null)if(m)SI(B,!1);else{if(Qt!==0||o!==null&&o.flags&128)for(o=I.child;o!==null;){if(k=uu(o),k!==null){for(I.flags|=128,SI(B,!1),m=k.updateQueue,m!==null&&(I.updateQueue=m,I.flags|=4),I.subtreeFlags=0,m=u,u=I.child;u!==null;)B=u,o=m,B.flags&=14680066,k=B.alternate,k===null?(B.childLanes=0,B.lanes=o,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=k.childLanes,B.lanes=k.lanes,B.child=k.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=k.memoizedProps,B.memoizedState=k.memoizedState,B.updateQueue=k.updateQueue,B.type=k.type,o=k.dependencies,B.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),u=u.sibling;return dt(vt,vt.current&1|2),I.child}o=o.sibling}B.tail!==null&&Ht()>bo&&(I.flags|=128,m=!0,SI(B,!1),I.lanes=4194304)}else{if(!m)if(o=uu(k),o!==null){if(I.flags|=128,m=!0,u=o.updateQueue,u!==null&&(I.updateQueue=u,I.flags|=4),SI(B,!0),B.tail===null&&B.tailMode==="hidden"&&!k.alternate&&!yt)return mn(I),null}else 2*Ht()-B.renderingStartTime>bo&&u!==1073741824&&(I.flags|=128,m=!0,SI(B,!1),I.lanes=4194304);B.isBackwards?(k.sibling=I.child,I.child=k):(u=B.last,u!==null?u.sibling=k:I.child=k,B.last=k)}return B.tail!==null?(I=B.tail,B.rendering=I,B.tail=I.sibling,B.renderingStartTime=Ht(),I.sibling=null,u=vt.current,dt(vt,m?u&1|2:u&1),I):(mn(I),null);case 22:case 23:return ap(),m=I.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(I.flags|=8192),m&&I.mode&1?Qn&1073741824&&(mn(I),I.subtreeFlags&6&&(I.flags|=8192)):mn(I),null;case 24:return null;case 25:return null}throw Error(n(156,I.tag))}function hM(o,I){switch(df(I),I.tag){case 1:return Jn(I.type)&&tu(),o=I.flags,o&65536?(I.flags=o&-65537|128,I):null;case 3:return mo(),pt(Xn),pt(dn),Wf(),o=I.flags,o&65536&&!(o&128)?(I.flags=o&-65537|128,I):null;case 5:return vf(I),null;case 13:if(pt(vt),o=I.memoizedState,o!==null&&o.dehydrated!==null){if(I.alternate===null)throw Error(n(340));co()}return o=I.flags,o&65536?(I.flags=o&-65537|128,I):null;case 19:return pt(vt),null;case 4:return mo(),null;case 10:return bf(I.type._context),null;case 22:case 23:return ap(),null;case 24:return null;default:return null}}var yu=!1,fn=!1,bM=typeof WeakSet=="function"?WeakSet:Set,me=null;function po(o,I){var u=o.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(m){Rt(o,I,m)}else u.current=null}function Pf(o,I,u){try{u()}catch(m){Rt(o,I,m)}}var lV=!1;function yM(o,I){if(gf=Mc,o=ES(),jm(o)){if("selectionStart"in o)var u={start:o.selectionStart,end:o.selectionEnd};else e:{u=(u=o.ownerDocument)&&u.defaultView||window;var m=u.getSelection&&u.getSelection();if(m&&m.rangeCount!==0){u=m.anchorNode;var y=m.anchorOffset,B=m.focusNode;m=m.focusOffset;try{u.nodeType,B.nodeType}catch{u=null;break e}var k=0,F=-1,M=-1,q=0,ae=0,oe=o,ge=null;t:for(;;){for(var Ce;oe!==u||y!==0&&oe.nodeType!==3||(F=k+y),oe!==B||m!==0&&oe.nodeType!==3||(M=k+m),oe.nodeType===3&&(k+=oe.nodeValue.length),(Ce=oe.firstChild)!==null;)ge=oe,oe=Ce;for(;;){if(oe===o)break t;if(ge===u&&++q===y&&(F=k),ge===B&&++ae===m&&(M=k),(Ce=oe.nextSibling)!==null)break;oe=ge,ge=oe.parentNode}oe=Ce}u=F===-1||M===-1?null:{start:F,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(af={focusedElem:o,selectionRange:u},Mc=!1,me=I;me!==null;)if(I=me,o=I.child,(I.subtreeFlags&1028)!==0&&o!==null)o.return=I,me=o;else for(;me!==null;){I=me;try{var pe=I.alternate;if(I.flags&1024)switch(I.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var be=pe.memoizedProps,Nt=pe.memoizedState,Q=I.stateNode,T=Q.getSnapshotBeforeUpdate(I.elementType===I.type?be:Yr(I.type,be),Nt);Q.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var j=I.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ie){Rt(I,I.return,Ie)}if(o=I.sibling,o!==null){o.return=I.return,me=o;break}me=I.return}return pe=lV,lV=!1,pe}function WI(o,I,u){var m=I.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var y=m=m.next;do{if((y.tag&o)===o){var B=y.destroy;y.destroy=void 0,B!==void 0&&Pf(I,u,B)}y=y.next}while(y!==m)}}function Zu(o,I){if(I=I.updateQueue,I=I!==null?I.lastEffect:null,I!==null){var u=I=I.next;do{if((u.tag&o)===o){var m=u.create;u.destroy=m()}u=u.next}while(u!==I)}}function Qf(o){var I=o.ref;if(I!==null){var u=o.stateNode;switch(o.tag){case 5:o=u;break;default:o=u}typeof I=="function"?I(o):I.current=o}}function IV(o){var I=o.alternate;I!==null&&(o.alternate=null,IV(I)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(I=o.stateNode,I!==null&&(delete I[tg],delete I[mI],delete I[sf],delete I[rM],delete I[gM])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function sV(o){return o.tag===5||o.tag===3||o.tag===4}function cV(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||sV(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Of(o,I,u){var m=o.tag;if(m===5||m===6)o=o.stateNode,I?u.nodeType===8?u.parentNode.insertBefore(o,I):u.insertBefore(o,I):(u.nodeType===8?(I=u.parentNode,I.insertBefore(o,u)):(I=u,I.appendChild(o)),u=u._reactRootContainer,u!=null||I.onclick!==null||(I.onclick=$c));else if(m!==4&&(o=o.child,o!==null))for(Of(o,I,u),o=o.sibling;o!==null;)Of(o,I,u),o=o.sibling}function jf(o,I,u){var m=o.tag;if(m===5||m===6)o=o.stateNode,I?u.insertBefore(o,I):u.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(jf(o,I,u),o=o.sibling;o!==null;)jf(o,I,u),o=o.sibling}var In=null,Hr=!1;function Ga(o,I,u){for(u=u.child;u!==null;)uV(o,I,u),u=u.sibling}function uV(o,I,u){if(eg&&typeof eg.onCommitFiberUnmount=="function")try{eg.onCommitFiberUnmount(Hc,u)}catch{}switch(u.tag){case 5:fn||po(u,I);case 6:var m=In,y=Hr;In=null,Ga(o,I,u),In=m,Hr=y,In!==null&&(Hr?(o=In,u=u.stateNode,o.nodeType===8?o.parentNode.removeChild(u):o.removeChild(u)):In.removeChild(u.stateNode));break;case 18:In!==null&&(Hr?(o=In,u=u.stateNode,o.nodeType===8?If(o.parentNode,u):o.nodeType===1&&If(o,u),aI(o)):If(In,u.stateNode));break;case 4:m=In,y=Hr,In=u.stateNode.containerInfo,Hr=!0,Ga(o,I,u),In=m,Hr=y;break;case 0:case 11:case 14:case 15:if(!fn&&(m=u.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){y=m=m.next;do{var B=y,k=B.destroy;B=B.tag,k!==void 0&&(B&2||B&4)&&Pf(u,I,k),y=y.next}while(y!==m)}Ga(o,I,u);break;case 1:if(!fn&&(po(u,I),m=u.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=u.memoizedProps,m.state=u.memoizedState,m.componentWillUnmount()}catch(F){Rt(u,I,F)}Ga(o,I,u);break;case 21:Ga(o,I,u);break;case 22:u.mode&1?(fn=(m=fn)||u.memoizedState!==null,Ga(o,I,u),fn=m):Ga(o,I,u);break;default:Ga(o,I,u)}}function CV(o){var I=o.updateQueue;if(I!==null){o.updateQueue=null;var u=o.stateNode;u===null&&(u=o.stateNode=new bM),I.forEach(function(m){var y=RM.bind(null,o,m);u.has(m)||(u.add(m),m.then(y,y))})}}function Nr(o,I){var u=I.deletions;if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];try{var B=o,k=I,F=k;e:for(;F!==null;){switch(F.tag){case 5:In=F.stateNode,Hr=!1;break e;case 3:In=F.stateNode.containerInfo,Hr=!0;break e;case 4:In=F.stateNode.containerInfo,Hr=!0;break e}F=F.return}if(In===null)throw Error(n(160));uV(B,k,y),In=null,Hr=!1;var M=y.alternate;M!==null&&(M.return=null),y.return=null}catch(q){Rt(y,I,q)}}if(I.subtreeFlags&12854)for(I=I.child;I!==null;)dV(I,o),I=I.sibling}function dV(o,I){var u=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Nr(I,o),gg(o),m&4){try{WI(3,o,o.return),Zu(3,o)}catch(be){Rt(o,o.return,be)}try{WI(5,o,o.return)}catch(be){Rt(o,o.return,be)}}break;case 1:Nr(I,o),gg(o),m&512&&u!==null&&po(u,u.return);break;case 5:if(Nr(I,o),gg(o),m&512&&u!==null&&po(u,u.return),o.flags&32){var y=o.stateNode;try{Ql(y,"")}catch(be){Rt(o,o.return,be)}}if(m&4&&(y=o.stateNode,y!=null)){var B=o.memoizedProps,k=u!==null?u.memoizedProps:B,F=o.type,M=o.updateQueue;if(o.updateQueue=null,M!==null)try{F==="input"&&B.type==="radio"&&B.name!=null&&wt(y,B),Sm(F,k);var q=Sm(F,B);for(k=0;k<M.length;k+=2){var ae=M[k],oe=M[k+1];ae==="style"?jv(y,oe):ae==="dangerouslySetInnerHTML"?Qv(y,oe):ae==="children"?Ql(y,oe):S(y,ae,oe,q)}switch(F){case"input":$t(y,B);break;case"textarea":Ul(y,B);break;case"select":var ge=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!B.multiple;var Ce=B.value;Ce!=null?kn(y,!!B.multiple,Ce,!1):ge!==!!B.multiple&&(B.defaultValue!=null?kn(y,!!B.multiple,B.defaultValue,!0):kn(y,!!B.multiple,B.multiple?[]:"",!1))}y[mI]=B}catch(be){Rt(o,o.return,be)}}break;case 6:if(Nr(I,o),gg(o),m&4){if(o.stateNode===null)throw Error(n(162));y=o.stateNode,B=o.memoizedProps;try{y.nodeValue=B}catch(be){Rt(o,o.return,be)}}break;case 3:if(Nr(I,o),gg(o),m&4&&u!==null&&u.memoizedState.isDehydrated)try{aI(I.containerInfo)}catch(be){Rt(o,o.return,be)}break;case 4:Nr(I,o),gg(o);break;case 13:Nr(I,o),gg(o),y=o.child,y.flags&8192&&(B=y.memoizedState!==null,y.stateNode.isHidden=B,!B||y.alternate!==null&&y.alternate.memoizedState!==null||($f=Ht())),m&4&&CV(o);break;case 22:if(ae=u!==null&&u.memoizedState!==null,o.mode&1?(fn=(q=fn)||ae,Nr(I,o),fn=q):Nr(I,o),gg(o),m&8192){if(q=o.memoizedState!==null,(o.stateNode.isHidden=q)&&!ae&&o.mode&1)for(me=o,ae=o.child;ae!==null;){for(oe=me=ae;me!==null;){switch(ge=me,Ce=ge.child,ge.tag){case 0:case 11:case 14:case 15:WI(4,ge,ge.return);break;case 1:po(ge,ge.return);var pe=ge.stateNode;if(typeof pe.componentWillUnmount=="function"){m=ge,u=ge.return;try{I=m,pe.props=I.memoizedProps,pe.state=I.memoizedState,pe.componentWillUnmount()}catch(be){Rt(m,u,be)}}break;case 5:po(ge,ge.return);break;case 22:if(ge.memoizedState!==null){fV(oe);continue}}Ce!==null?(Ce.return=ge,me=Ce):fV(oe)}ae=ae.sibling}e:for(ae=null,oe=o;;){if(oe.tag===5){if(ae===null){ae=oe;try{y=oe.stateNode,q?(B=y.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(F=oe.stateNode,M=oe.memoizedProps.style,k=M!=null&&M.hasOwnProperty("display")?M.display:null,F.style.display=Ov("display",k))}catch(be){Rt(o,o.return,be)}}}else if(oe.tag===6){if(ae===null)try{oe.stateNode.nodeValue=q?"":oe.memoizedProps}catch(be){Rt(o,o.return,be)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===o)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===o)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===o)break e;ae===oe&&(ae=null),oe=oe.return}ae===oe&&(ae=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Nr(I,o),gg(o),m&4&&CV(o);break;case 21:break;default:Nr(I,o),gg(o)}}function gg(o){var I=o.flags;if(I&2){try{e:{for(var u=o.return;u!==null;){if(sV(u)){var m=u;break e}u=u.return}throw Error(n(160))}switch(m.tag){case 5:var y=m.stateNode;m.flags&32&&(Ql(y,""),m.flags&=-33);var B=cV(o);jf(o,B,y);break;case 3:case 4:var k=m.stateNode.containerInfo,F=cV(o);Of(o,F,k);break;default:throw Error(n(161))}}catch(M){Rt(o,o.return,M)}o.flags&=-3}I&4096&&(o.flags&=-4097)}function ZM(o,I,u){me=o,AV(o)}function AV(o,I,u){for(var m=(o.mode&1)!==0;me!==null;){var y=me,B=y.child;if(y.tag===22&&m){var k=y.memoizedState!==null||yu;if(!k){var F=y.alternate,M=F!==null&&F.memoizedState!==null||fn;F=yu;var q=fn;if(yu=k,(fn=M)&&!q)for(me=y;me!==null;)k=me,M=k.child,k.tag===22&&k.memoizedState!==null?pV(y):M!==null?(M.return=k,me=M):pV(y);for(;B!==null;)me=B,AV(B),B=B.sibling;me=y,yu=F,fn=q}mV(o)}else y.subtreeFlags&8772&&B!==null?(B.return=y,me=B):mV(o)}}function mV(o){for(;me!==null;){var I=me;if(I.flags&8772){var u=I.alternate;try{if(I.flags&8772)switch(I.tag){case 0:case 11:case 15:fn||Zu(5,I);break;case 1:var m=I.stateNode;if(I.flags&4&&!fn)if(u===null)m.componentDidMount();else{var y=I.elementType===I.type?u.memoizedProps:Yr(I.type,u.memoizedProps);m.componentDidUpdate(y,u.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var B=I.updateQueue;B!==null&&fW(I,B,m);break;case 3:var k=I.updateQueue;if(k!==null){if(u=null,I.child!==null)switch(I.child.tag){case 5:u=I.child.stateNode;break;case 1:u=I.child.stateNode}fW(I,k,u)}break;case 5:var F=I.stateNode;if(u===null&&I.flags&4){u=F;var M=I.memoizedProps;switch(I.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(I.memoizedState===null){var q=I.alternate;if(q!==null){var ae=q.memoizedState;if(ae!==null){var oe=ae.dehydrated;oe!==null&&aI(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fn||I.flags&512&&Qf(I)}catch(ge){Rt(I,I.return,ge)}}if(I===o){me=null;break}if(u=I.sibling,u!==null){u.return=I.return,me=u;break}me=I.return}}function fV(o){for(;me!==null;){var I=me;if(I===o){me=null;break}var u=I.sibling;if(u!==null){u.return=I.return,me=u;break}me=I.return}}function pV(o){for(;me!==null;){var I=me;try{switch(I.tag){case 0:case 11:case 15:var u=I.return;try{Zu(4,I)}catch(M){Rt(I,u,M)}break;case 1:var m=I.stateNode;if(typeof m.componentDidMount=="function"){var y=I.return;try{m.componentDidMount()}catch(M){Rt(I,y,M)}}var B=I.return;try{Qf(I)}catch(M){Rt(I,B,M)}break;case 5:var k=I.return;try{Qf(I)}catch(M){Rt(I,k,M)}}}catch(M){Rt(I,I.return,M)}if(I===o){me=null;break}var F=I.sibling;if(F!==null){F.return=I.return,me=F;break}me=I.return}}var GM=Math.ceil,Gu=V.ReactCurrentDispatcher,_f=V.ReactCurrentOwner,dr=V.ReactCurrentBatchConfig,Te=0,tn=null,Tt=null,sn=0,Qn=0,ho=pa(0),Qt=0,VI=null,li=0,Bu=0,qf=0,wI=null,Hn=null,$f=0,bo=1/0,Fg=null,vu=!1,ep=null,Ba=null,Su=!1,va=null,Wu=0,RI=0,tp=null,Vu=-1,wu=0;function vn(){return Te&6?Ht():Vu!==-1?Vu:Vu=Ht()}function Sa(o){return o.mode&1?Te&2&&sn!==0?sn&-sn:iM.transition!==null?(wu===0&&(wu=cS()),wu):(o=tt,o!==0||(o=window.event,o=o===void 0?16:bS(o.type)),o):1}function Fr(o,I,u,m){if(50<RI)throw RI=0,tp=null,Error(n(185));eI(o,u,m),(!(Te&2)||o!==tn)&&(o===tn&&(!(Te&2)&&(Bu|=u),Qt===4&&Wa(o,sn)),Nn(o,m),u===1&&Te===0&&!(I.mode&1)&&(bo=Ht()+500,ru&&ba()))}function Nn(o,I){var u=o.callbackNode;iE(o,I);var m=Kc(o,o===tn?sn:0);if(m===0)u!==null&&lS(u),o.callbackNode=null,o.callbackPriority=0;else if(I=m&-m,o.callbackPriority!==I){if(u!=null&&lS(u),I===1)o.tag===0?aM(bV.bind(null,o)):aW(bV.bind(null,o)),tM(function(){!(Te&6)&&ba()}),u=null;else{switch(uS(m)){case 1:u=Jm;break;case 4:u=IS;break;case 16:u=Yc;break;case 536870912:u=sS;break;default:u=Yc}u=VV(u,hV.bind(null,o))}o.callbackPriority=I,o.callbackNode=u}}function hV(o,I){if(Vu=-1,wu=0,Te&6)throw Error(n(327));var u=o.callbackNode;if(yo()&&o.callbackNode!==u)return null;var m=Kc(o,o===tn?sn:0);if(m===0)return null;if(m&30||m&o.expiredLanes||I)I=Ru(o,m);else{I=m;var y=Te;Te|=2;var B=ZV();(tn!==o||sn!==I)&&(Fg=null,bo=Ht()+500,si(o,I));do try{SM();break}catch(F){yV(o,F)}while(!0);hf(),Gu.current=B,Te=y,Tt!==null?I=0:(tn=null,sn=0,I=Qt)}if(I!==0){if(I===2&&(y=Ym(o),y!==0&&(m=y,I=np(o,y))),I===1)throw u=VI,si(o,0),Wa(o,m),Nn(o,Ht()),u;if(I===6)Wa(o,m);else{if(y=o.current.alternate,!(m&30)&&!BM(y)&&(I=Ru(o,m),I===2&&(B=Ym(o),B!==0&&(m=B,I=np(o,B))),I===1))throw u=VI,si(o,0),Wa(o,m),Nn(o,Ht()),u;switch(o.finishedWork=y,o.finishedLanes=m,I){case 0:case 1:throw Error(n(345));case 2:ci(o,Hn,Fg);break;case 3:if(Wa(o,m),(m&130023424)===m&&(I=$f+500-Ht(),10<I)){if(Kc(o,0)!==0)break;if(y=o.suspendedLanes,(y&m)!==m){vn(),o.pingedLanes|=o.suspendedLanes&y;break}o.timeoutHandle=lf(ci.bind(null,o,Hn,Fg),I);break}ci(o,Hn,Fg);break;case 4:if(Wa(o,m),(m&4194240)===m)break;for(I=o.eventTimes,y=-1;0<m;){var k=31-kr(m);B=1<<k,k=I[k],k>y&&(y=k),m&=~B}if(m=y,m=Ht()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*GM(m/1960))-m,10<m){o.timeoutHandle=lf(ci.bind(null,o,Hn,Fg),m);break}ci(o,Hn,Fg);break;case 5:ci(o,Hn,Fg);break;default:throw Error(n(329))}}}return Nn(o,Ht()),o.callbackNode===u?hV.bind(null,o):null}function np(o,I){var u=wI;return o.current.memoizedState.isDehydrated&&(si(o,I).flags|=256),o=Ru(o,I),o!==2&&(I=Hn,Hn=u,I!==null&&rp(I)),o}function rp(o){Hn===null?Hn=o:Hn.push.apply(Hn,o)}function BM(o){for(var I=o;;){if(I.flags&16384){var u=I.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var m=0;m<u.length;m++){var y=u[m],B=y.getSnapshot;y=y.value;try{if(!Xr(B(),y))return!1}catch{return!1}}}if(u=I.child,I.subtreeFlags&16384&&u!==null)u.return=I,I=u;else{if(I===o)break;for(;I.sibling===null;){if(I.return===null||I.return===o)return!0;I=I.return}I.sibling.return=I.return,I=I.sibling}}return!0}function Wa(o,I){for(I&=~qf,I&=~Bu,o.suspendedLanes|=I,o.pingedLanes&=~I,o=o.expirationTimes;0<I;){var u=31-kr(I),m=1<<u;o[u]=-1,I&=~m}}function bV(o){if(Te&6)throw Error(n(327));yo();var I=Kc(o,0);if(!(I&1))return Nn(o,Ht()),null;var u=Ru(o,I);if(o.tag!==0&&u===2){var m=Ym(o);m!==0&&(I=m,u=np(o,m))}if(u===1)throw u=VI,si(o,0),Wa(o,I),Nn(o,Ht()),u;if(u===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=I,ci(o,Hn,Fg),Nn(o,Ht()),null}function gp(o,I){var u=Te;Te|=1;try{return o(I)}finally{Te=u,Te===0&&(bo=Ht()+500,ru&&ba())}}function Ii(o){va!==null&&va.tag===0&&!(Te&6)&&yo();var I=Te;Te|=1;var u=dr.transition,m=tt;try{if(dr.transition=null,tt=1,o)return o()}finally{tt=m,dr.transition=u,Te=I,!(Te&6)&&ba()}}function ap(){Qn=ho.current,pt(ho)}function si(o,I){o.finishedWork=null,o.finishedLanes=0;var u=o.timeoutHandle;if(u!==-1&&(o.timeoutHandle=-1,eM(u)),Tt!==null)for(u=Tt.return;u!==null;){var m=u;switch(df(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&tu();break;case 3:mo(),pt(Xn),pt(dn),Wf();break;case 5:vf(m);break;case 4:mo();break;case 13:pt(vt);break;case 19:pt(vt);break;case 10:bf(m.type._context);break;case 22:case 23:ap()}u=u.return}if(tn=o,Tt=o=Va(o.current,null),sn=Qn=I,Qt=0,VI=null,qf=Bu=li=0,Hn=wI=null,ai!==null){for(I=0;I<ai.length;I++)if(u=ai[I],m=u.interleaved,m!==null){u.interleaved=null;var y=m.next,B=u.pending;if(B!==null){var k=B.next;B.next=y,m.next=k}u.pending=m}ai=null}return o}function yV(o,I){do{var u=Tt;try{if(hf(),Cu.current=fu,du){for(var m=St.memoizedState;m!==null;){var y=m.queue;y!==null&&(y.pending=null),m=m.next}du=!1}if(oi=0,en=Pt=St=null,ZI=!1,GI=0,_f.current=null,u===null||u.return===null){Qt=1,VI=I,Tt=null;break}e:{var B=o,k=u.return,F=u,M=I;if(I=sn,F.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var q=M,ae=F,oe=ae.tag;if(!(ae.mode&1)&&(oe===0||oe===11||oe===15)){var ge=ae.alternate;ge?(ae.updateQueue=ge.updateQueue,ae.memoizedState=ge.memoizedState,ae.lanes=ge.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var Ce=UW(k);if(Ce!==null){Ce.flags&=-257,PW(Ce,k,F,B,I),Ce.mode&1&&zW(B,q,I),I=Ce,M=q;var pe=I.updateQueue;if(pe===null){var be=new Set;be.add(M),I.updateQueue=be}else pe.add(M);break e}else{if(!(I&1)){zW(B,q,I),ip();break e}M=Error(n(426))}}else if(yt&&F.mode&1){var Nt=UW(k);if(Nt!==null){!(Nt.flags&65536)&&(Nt.flags|=256),PW(Nt,k,F,B,I),ff(fo(M,F));break e}}B=M=fo(M,F),Qt!==4&&(Qt=2),wI===null?wI=[B]:wI.push(B),B=k;do{switch(B.tag){case 3:B.flags|=65536,I&=-I,B.lanes|=I;var Q=TW(B,M,I);mW(B,Q);break e;case 1:F=M;var T=B.type,j=B.stateNode;if(!(B.flags&128)&&(typeof T.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Ba===null||!Ba.has(j)))){B.flags|=65536,I&=-I,B.lanes|=I;var Ie=LW(B,F,I);mW(B,Ie);break e}}B=B.return}while(B!==null)}BV(u)}catch(ye){I=ye,Tt===u&&u!==null&&(Tt=u=u.return);continue}break}while(!0)}function ZV(){var o=Gu.current;return Gu.current=fu,o===null?fu:o}function ip(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),tn===null||!(li&268435455)&&!(Bu&268435455)||Wa(tn,sn)}function Ru(o,I){var u=Te;Te|=2;var m=ZV();(tn!==o||sn!==I)&&(Fg=null,si(o,I));do try{vM();break}catch(y){yV(o,y)}while(!0);if(hf(),Te=u,Gu.current=m,Tt!==null)throw Error(n(261));return tn=null,sn=0,Qt}function vM(){for(;Tt!==null;)GV(Tt)}function SM(){for(;Tt!==null&&!_5();)GV(Tt)}function GV(o){var I=WV(o.alternate,o,Qn);o.memoizedProps=o.pendingProps,I===null?BV(o):Tt=I,_f.current=null}function BV(o){var I=o;do{var u=I.alternate;if(o=I.return,I.flags&32768){if(u=hM(u,I),u!==null){u.flags&=32767,Tt=u;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Qt=6,Tt=null;return}}else if(u=pM(u,I,Qn),u!==null){Tt=u;return}if(I=I.sibling,I!==null){Tt=I;return}Tt=I=o}while(I!==null);Qt===0&&(Qt=5)}function ci(o,I,u){var m=tt,y=dr.transition;try{dr.transition=null,tt=1,WM(o,I,u,m)}finally{dr.transition=y,tt=m}return null}function WM(o,I,u,m){do yo();while(va!==null);if(Te&6)throw Error(n(327));u=o.finishedWork;var y=o.finishedLanes;if(u===null)return null;if(o.finishedWork=null,o.finishedLanes=0,u===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var B=u.lanes|u.childLanes;if(oE(o,B),o===tn&&(Tt=tn=null,sn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Su||(Su=!0,VV(Yc,function(){return yo(),null})),B=(u.flags&15990)!==0,u.subtreeFlags&15990||B){B=dr.transition,dr.transition=null;var k=tt;tt=1;var F=Te;Te|=4,_f.current=null,yM(o,u),dV(u,o),PE(af),Mc=!!gf,af=gf=null,o.current=u,ZM(u),q5(),Te=F,tt=k,dr.transition=B}else o.current=u;if(Su&&(Su=!1,va=o,Wu=y),B=o.pendingLanes,B===0&&(Ba=null),tE(u.stateNode),Nn(o,Ht()),I!==null)for(m=o.onRecoverableError,u=0;u<I.length;u++)y=I[u],m(y.value,{componentStack:y.stack,digest:y.digest});if(vu)throw vu=!1,o=ep,ep=null,o;return Wu&1&&o.tag!==0&&yo(),B=o.pendingLanes,B&1?o===tp?RI++:(RI=0,tp=o):RI=0,ba(),null}function yo(){if(va!==null){var o=uS(Wu),I=dr.transition,u=tt;try{if(dr.transition=null,tt=16>o?16:o,va===null)var m=!1;else{if(o=va,va=null,Wu=0,Te&6)throw Error(n(331));var y=Te;for(Te|=4,me=o.current;me!==null;){var B=me,k=B.child;if(me.flags&16){var F=B.deletions;if(F!==null){for(var M=0;M<F.length;M++){var q=F[M];for(me=q;me!==null;){var ae=me;switch(ae.tag){case 0:case 11:case 15:WI(8,ae,B)}var oe=ae.child;if(oe!==null)oe.return=ae,me=oe;else for(;me!==null;){ae=me;var ge=ae.sibling,Ce=ae.return;if(IV(ae),ae===q){me=null;break}if(ge!==null){ge.return=Ce,me=ge;break}me=Ce}}}var pe=B.alternate;if(pe!==null){var be=pe.child;if(be!==null){pe.child=null;do{var Nt=be.sibling;be.sibling=null,be=Nt}while(be!==null)}}me=B}}if(B.subtreeFlags&2064&&k!==null)k.return=B,me=k;else e:for(;me!==null;){if(B=me,B.flags&2048)switch(B.tag){case 0:case 11:case 15:WI(9,B,B.return)}var Q=B.sibling;if(Q!==null){Q.return=B.return,me=Q;break e}me=B.return}}var T=o.current;for(me=T;me!==null;){k=me;var j=k.child;if(k.subtreeFlags&2064&&j!==null)j.return=k,me=j;else e:for(k=T;me!==null;){if(F=me,F.flags&2048)try{switch(F.tag){case 0:case 11:case 15:Zu(9,F)}}catch(ye){Rt(F,F.return,ye)}if(F===k){me=null;break e}var Ie=F.sibling;if(Ie!==null){Ie.return=F.return,me=Ie;break e}me=F.return}}if(Te=y,ba(),eg&&typeof eg.onPostCommitFiberRoot=="function")try{eg.onPostCommitFiberRoot(Hc,o)}catch{}m=!0}return m}finally{tt=u,dr.transition=I}}return!1}function vV(o,I,u){I=fo(u,I),I=TW(o,I,1),o=Za(o,I,1),I=vn(),o!==null&&(eI(o,1,I),Nn(o,I))}function Rt(o,I,u){if(o.tag===3)vV(o,o,u);else for(;I!==null;){if(I.tag===3){vV(I,o,u);break}else if(I.tag===1){var m=I.stateNode;if(typeof I.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ba===null||!Ba.has(m))){o=fo(u,o),o=LW(I,o,1),I=Za(I,o,1),o=vn(),I!==null&&(eI(I,1,o),Nn(I,o));break}}I=I.return}}function VM(o,I,u){var m=o.pingCache;m!==null&&m.delete(I),I=vn(),o.pingedLanes|=o.suspendedLanes&u,tn===o&&(sn&u)===u&&(Qt===4||Qt===3&&(sn&130023424)===sn&&500>Ht()-$f?si(o,0):qf|=u),Nn(o,I)}function SV(o,I){I===0&&(o.mode&1?(I=Fc,Fc<<=1,!(Fc&130023424)&&(Fc=4194304)):I=1);var u=vn();o=Yg(o,I),o!==null&&(eI(o,I,u),Nn(o,u))}function wM(o){var I=o.memoizedState,u=0;I!==null&&(u=I.retryLane),SV(o,u)}function RM(o,I){var u=0;switch(o.tag){case 13:var m=o.stateNode,y=o.memoizedState;y!==null&&(u=y.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(n(314))}m!==null&&m.delete(I),SV(o,u)}var WV;WV=function(o,I,u){if(o!==null)if(o.memoizedProps!==I.pendingProps||Xn.current)Yn=!0;else{if(!(o.lanes&u)&&!(I.flags&128))return Yn=!1,fM(o,I,u);Yn=!!(o.flags&131072)}else Yn=!1,yt&&I.flags&1048576&&iW(I,au,I.index);switch(I.lanes=0,I.tag){case 2:var m=I.type;bu(o,I),o=I.pendingProps;var y=lo(I,dn.current);Ao(I,u),y=Rf(null,I,m,o,y,u);var B=kf();return I.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(I.tag=1,I.memoizedState=null,I.updateQueue=null,Jn(m)?(B=!0,nu(I)):B=!1,I.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Gf(I),y.updater=pu,I.stateNode=y,y._reactInternals=I,Ff(I,m,o,u),I=Mf(null,I,m,!0,B,u)):(I.tag=0,yt&&B&&Cf(I),Bn(null,I,y,u),I=I.child),I;case 16:m=I.elementType;e:{switch(bu(o,I),o=I.pendingProps,y=m._init,m=y(m._payload),I.type=m,y=I.tag=XM(m),o=Yr(m,o),y){case 0:I=Ef(null,I,m,o,u);break e;case 1:I=$W(null,I,m,o,u);break e;case 11:I=QW(null,I,m,o,u);break e;case 14:I=OW(null,I,m,Yr(m.type,o),u);break e}throw Error(n(306,m,""))}return I;case 0:return m=I.type,y=I.pendingProps,y=I.elementType===m?y:Yr(m,y),Ef(o,I,m,y,u);case 1:return m=I.type,y=I.pendingProps,y=I.elementType===m?y:Yr(m,y),$W(o,I,m,y,u);case 3:e:{if(eV(I),o===null)throw Error(n(387));m=I.pendingProps,B=I.memoizedState,y=B.element,AW(o,I),cu(I,m,null,u);var k=I.memoizedState;if(m=k.element,B.isDehydrated)if(B={element:m,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},I.updateQueue.baseState=B,I.memoizedState=B,I.flags&256){y=fo(Error(n(423)),I),I=tV(o,I,m,u,y);break e}else if(m!==y){y=fo(Error(n(424)),I),I=tV(o,I,m,u,y);break e}else for(Pn=fa(I.stateNode.containerInfo.firstChild),Un=I,yt=!0,Jr=null,u=CW(I,null,m,u),I.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(co(),m===y){I=Ng(o,I,u);break e}Bn(o,I,m,u)}I=I.child}return I;case 5:return pW(I),o===null&&mf(I),m=I.type,y=I.pendingProps,B=o!==null?o.memoizedProps:null,k=y.children,of(m,y)?k=null:B!==null&&of(m,B)&&(I.flags|=32),qW(o,I),Bn(o,I,k,u),I.child;case 6:return o===null&&mf(I),null;case 13:return nV(o,I,u);case 4:return Bf(I,I.stateNode.containerInfo),m=I.pendingProps,o===null?I.child=uo(I,null,m,u):Bn(o,I,m,u),I.child;case 11:return m=I.type,y=I.pendingProps,y=I.elementType===m?y:Yr(m,y),QW(o,I,m,y,u);case 7:return Bn(o,I,I.pendingProps,u),I.child;case 8:return Bn(o,I,I.pendingProps.children,u),I.child;case 12:return Bn(o,I,I.pendingProps.children,u),I.child;case 10:e:{if(m=I.type._context,y=I.pendingProps,B=I.memoizedProps,k=y.value,dt(lu,m._currentValue),m._currentValue=k,B!==null)if(Xr(B.value,k)){if(B.children===y.children&&!Xn.current){I=Ng(o,I,u);break e}}else for(B=I.child,B!==null&&(B.return=I);B!==null;){var F=B.dependencies;if(F!==null){k=B.child;for(var M=F.firstContext;M!==null;){if(M.context===m){if(B.tag===1){M=Hg(-1,u&-u),M.tag=2;var q=B.updateQueue;if(q!==null){q=q.shared;var ae=q.pending;ae===null?M.next=M:(M.next=ae.next,ae.next=M),q.pending=M}}B.lanes|=u,M=B.alternate,M!==null&&(M.lanes|=u),yf(B.return,u,I),F.lanes|=u;break}M=M.next}}else if(B.tag===10)k=B.type===I.type?null:B.child;else if(B.tag===18){if(k=B.return,k===null)throw Error(n(341));k.lanes|=u,F=k.alternate,F!==null&&(F.lanes|=u),yf(k,u,I),k=B.sibling}else k=B.child;if(k!==null)k.return=B;else for(k=B;k!==null;){if(k===I){k=null;break}if(B=k.sibling,B!==null){B.return=k.return,k=B;break}k=k.return}B=k}Bn(o,I,y.children,u),I=I.child}return I;case 9:return y=I.type,m=I.pendingProps.children,Ao(I,u),y=ur(y),m=m(y),I.flags|=1,Bn(o,I,m,u),I.child;case 14:return m=I.type,y=Yr(m,I.pendingProps),y=Yr(m.type,y),OW(o,I,m,y,u);case 15:return jW(o,I,I.type,I.pendingProps,u);case 17:return m=I.type,y=I.pendingProps,y=I.elementType===m?y:Yr(m,y),bu(o,I),I.tag=1,Jn(m)?(o=!0,nu(I)):o=!1,Ao(I,u),MW(I,m,y),Ff(I,m,y,u),Mf(null,I,m,!0,o,u);case 19:return gV(o,I,u);case 22:return _W(o,I,u)}throw Error(n(156,I.tag))};function VV(o,I){return oS(o,I)}function kM(o,I,u,m){this.tag=o,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=I,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(o,I,u,m){return new kM(o,I,u,m)}function op(o){return o=o.prototype,!(!o||!o.isReactComponent)}function XM(o){if(typeof o=="function")return op(o)?1:0;if(o!=null){if(o=o.$$typeof,o===K)return 11;if(o===z)return 14}return 2}function Va(o,I){var u=o.alternate;return u===null?(u=Ar(o.tag,I,o.key,o.mode),u.elementType=o.elementType,u.type=o.type,u.stateNode=o.stateNode,u.alternate=o,o.alternate=u):(u.pendingProps=I,u.type=o.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=o.flags&14680064,u.childLanes=o.childLanes,u.lanes=o.lanes,u.child=o.child,u.memoizedProps=o.memoizedProps,u.memoizedState=o.memoizedState,u.updateQueue=o.updateQueue,I=o.dependencies,u.dependencies=I===null?null:{lanes:I.lanes,firstContext:I.firstContext},u.sibling=o.sibling,u.index=o.index,u.ref=o.ref,u}function ku(o,I,u,m,y,B){var k=2;if(m=o,typeof o=="function")op(o)&&(k=1);else if(typeof o=="string")k=5;else e:switch(o){case w:return ui(u.children,y,B,I);case X:k=8,y|=8;break;case N:return o=Ar(12,u,I,y|2),o.elementType=N,o.lanes=B,o;case E:return o=Ar(13,u,I,y),o.elementType=E,o.lanes=B,o;case L:return o=Ar(19,u,I,y),o.elementType=L,o.lanes=B,o;case O:return Xu(u,y,B,I);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:k=10;break e;case Y:k=9;break e;case K:k=11;break e;case z:k=14;break e;case U:k=16,m=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return I=Ar(k,u,I,y),I.elementType=o,I.type=m,I.lanes=B,I}function ui(o,I,u,m){return o=Ar(7,o,m,I),o.lanes=u,o}function Xu(o,I,u,m){return o=Ar(22,o,m,I),o.elementType=O,o.lanes=u,o.stateNode={isHidden:!1},o}function lp(o,I,u){return o=Ar(6,o,null,I),o.lanes=u,o}function Ip(o,I,u){return I=Ar(4,o.children!==null?o.children:[],o.key,I),I.lanes=u,I.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},I}function JM(o,I,u,m,y){this.tag=I,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hm(0),this.expirationTimes=Hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hm(0),this.identifierPrefix=m,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function sp(o,I,u,m,y,B,k,F,M){return o=new JM(o,I,u,F,M),I===1?(I=1,B===!0&&(I|=8)):I=0,B=Ar(3,null,null,I),o.current=B,B.stateNode=o,B.memoizedState={element:m,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gf(B),o}function YM(o,I,u){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:o,containerInfo:I,implementation:u}}function wV(o){if(!o)return ha;o=o._reactInternals;e:{if(ei(o)!==o||o.tag!==1)throw Error(n(170));var I=o;do{switch(I.tag){case 3:I=I.stateNode.context;break e;case 1:if(Jn(I.type)){I=I.stateNode.__reactInternalMemoizedMergedChildContext;break e}}I=I.return}while(I!==null);throw Error(n(171))}if(o.tag===1){var u=o.type;if(Jn(u))return rW(o,u,I)}return I}function RV(o,I,u,m,y,B,k,F,M){return o=sp(u,m,!0,o,y,B,k,F,M),o.context=wV(null),u=o.current,m=vn(),y=Sa(u),B=Hg(m,y),B.callback=I??null,Za(u,B,y),o.current.lanes=y,eI(o,y,m),Nn(o,m),o}function Ju(o,I,u,m){var y=I.current,B=vn(),k=Sa(y);return u=wV(u),I.context===null?I.context=u:I.pendingContext=u,I=Hg(B,k),I.payload={element:o},m=m===void 0?null:m,m!==null&&(I.callback=m),o=Za(y,I,k),o!==null&&(Fr(o,y,k,B),su(o,y,k)),k}function Yu(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function kV(o,I){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var u=o.retryLane;o.retryLane=u!==0&&u<I?u:I}}function cp(o,I){kV(o,I),(o=o.alternate)&&kV(o,I)}var XV=typeof reportError=="function"?reportError:function(o){console.error(o)};function up(o){this._internalRoot=o}Hu.prototype.render=up.prototype.render=function(o){var I=this._internalRoot;if(I===null)throw Error(n(409));Ju(o,I,null,null)},Hu.prototype.unmount=up.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var I=o.containerInfo;Ii(function(){Ju(null,o,null,null)}),I[Rg]=null}};function Hu(o){this._internalRoot=o}Hu.prototype.unstable_scheduleHydration=function(o){if(o){var I=AS();o={blockedOn:null,target:o,priority:I};for(var u=0;u<da.length&&I!==0&&I<da[u].priority;u++);da.splice(u,0,o),u===0&&pS(o)}};function Cp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Nu(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function JV(){}function HM(o,I,u,m,y){if(y){if(typeof m=="function"){var B=m;m=function(){var q=Yu(k);B.call(q)}}var k=RV(I,m,o,0,null,!1,!1,"",JV);return o._reactRootContainer=k,o[Rg]=k.current,dI(o.nodeType===8?o.parentNode:o),Ii(),k}for(;y=o.lastChild;)o.removeChild(y);if(typeof m=="function"){var F=m;m=function(){var q=Yu(M);F.call(q)}}var M=sp(o,0,!1,null,null,!1,!1,"",JV);return o._reactRootContainer=M,o[Rg]=M.current,dI(o.nodeType===8?o.parentNode:o),Ii(function(){Ju(I,M,u,m)}),M}function Fu(o,I,u,m,y){var B=u._reactRootContainer;if(B){var k=B;if(typeof y=="function"){var F=y;y=function(){var M=Yu(k);F.call(M)}}Ju(I,k,o,y)}else k=HM(u,I,o,y,m);return Yu(k)}CS=function(o){switch(o.tag){case 3:var I=o.stateNode;if(I.current.memoizedState.isDehydrated){var u=$l(I.pendingLanes);u!==0&&(Nm(I,u|1),Nn(I,Ht()),!(Te&6)&&(bo=Ht()+500,ba()))}break;case 13:Ii(function(){var m=Yg(o,1);if(m!==null){var y=vn();Fr(m,o,1,y)}}),cp(o,1)}},Fm=function(o){if(o.tag===13){var I=Yg(o,134217728);if(I!==null){var u=vn();Fr(I,o,134217728,u)}cp(o,134217728)}},dS=function(o){if(o.tag===13){var I=Sa(o),u=Yg(o,I);if(u!==null){var m=vn();Fr(u,o,I,m)}cp(o,I)}},AS=function(){return tt},mS=function(o,I){var u=tt;try{return tt=o,I()}finally{tt=u}},wm=function(o,I,u){switch(I){case"input":if($t(o,u),I=u.name,u.type==="radio"&&I!=null){for(u=o;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+I)+'][type="radio"]'),I=0;I<u.length;I++){var m=u[I];if(m!==o&&m.form===o.form){var y=eu(m);if(!y)throw Error(n(90));ie(m),$t(m,y)}}}break;case"textarea":Ul(o,u);break;case"select":I=u.value,I!=null&&kn(o,!!u.multiple,I,!1)}},eS=gp,tS=Ii;var NM={usingClientEntryPoint:!1,Events:[fI,io,eu,qv,$v,gp]},kI={findFiberByHostInstance:ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FM={bundleType:kI.bundleType,version:kI.version,rendererPackageName:kI.rendererPackageName,rendererConfig:kI.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=aS(o),o===null?null:o.stateNode},findFiberByHostInstance:kI.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Hc=Ku.inject(FM),eg=Ku}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NM,Fn.createPortal=function(o,I){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cp(I))throw Error(n(200));return YM(o,I,null,u)},Fn.createRoot=function(o,I){if(!Cp(o))throw Error(n(299));var u=!1,m="",y=XV;return I!=null&&(I.unstable_strictMode===!0&&(u=!0),I.identifierPrefix!==void 0&&(m=I.identifierPrefix),I.onRecoverableError!==void 0&&(y=I.onRecoverableError)),I=sp(o,1,!1,null,null,u,!1,m,y),o[Rg]=I.current,dI(o.nodeType===8?o.parentNode:o),new up(I)},Fn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var I=o._reactInternals;if(I===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=aS(I),o=o===null?null:o.stateNode,o},Fn.flushSync=function(o){return Ii(o)},Fn.hydrate=function(o,I,u){if(!Nu(I))throw Error(n(200));return Fu(null,o,I,!0,u)},Fn.hydrateRoot=function(o,I,u){if(!Cp(o))throw Error(n(405));var m=u!=null&&u.hydratedSources||null,y=!1,B="",k=XV;if(u!=null&&(u.unstable_strictMode===!0&&(y=!0),u.identifierPrefix!==void 0&&(B=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),I=RV(I,null,o,1,u??null,y,!1,B,k),o[Rg]=I.current,dI(o),m)for(o=0;o<m.length;o++)u=m[o],y=u._getVersion,y=y(u._source),I.mutableSourceEagerHydrationData==null?I.mutableSourceEagerHydrationData=[u,y]:I.mutableSourceEagerHydrationData.push(u,y);return new Hu(I)},Fn.render=function(o,I,u){if(!Nu(I))throw Error(n(200));return Fu(null,o,I,!1,u)},Fn.unmountComponentAtNode=function(o){if(!Nu(o))throw Error(n(40));return o._reactRootContainer?(Ii(function(){Fu(null,null,o,!1,function(){o._reactRootContainer=null,o[Rg]=null})}),!0):!1},Fn.unstable_batchedUpdates=gp,Fn.unstable_renderSubtreeIntoContainer=function(o,I,u,m){if(!Nu(u))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Fu(o,I,u,!1,m)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var MV;function RH(){if(MV)return mp.exports;MV=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mp.exports=PM(),mp.exports}var DV;function QM(){if(DV)return Eu;DV=1;var e=RH();return Eu.createRoot=e.createRoot,Eu.hydrateRoot=e.hydrateRoot,Eu}var Cme=QM(),JI={},TV;function OM(){if(TV)return JI;TV=1,Object.defineProperty(JI,"__esModule",{value:!0}),JI.parse=i,JI.serialize=c;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,g=Object.prototype.toString,a=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function i(A,f){const b=new a,p=A.length;if(p<2)return b;const h=(f==null?void 0:f.decode)||C;let G=0;do{const v=A.indexOf("=",G);if(v===-1)break;const S=A.indexOf(";",G),V=S===-1?p:S;if(v>V){G=A.lastIndexOf(";",v-1)+1;continue}const Z=l(A,G,v),W=s(A,v,Z),w=A.slice(Z,W);if(b[w]===void 0){let X=l(A,v+1,V),N=s(A,V,X);const R=h(A.slice(X,N));b[w]=R}G=V+1}while(G<p);return b}function l(A,f,b){do{const p=A.charCodeAt(f);if(p!==32&&p!==9)return f}while(++f<b);return b}function s(A,f,b){for(;f>b;){const p=A.charCodeAt(--f);if(p!==32&&p!==9)return f+1}return b}function c(A,f,b){const p=(b==null?void 0:b.encode)||encodeURIComponent;if(!e.test(A))throw new TypeError(`argument name is invalid: ${A}`);const h=p(f);if(!t.test(h))throw new TypeError(`argument val is invalid: ${f}`);let G=A+"="+h;if(!b)return G;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);G+="; Max-Age="+b.maxAge}if(b.domain){if(!n.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);G+="; Domain="+b.domain}if(b.path){if(!r.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);G+="; Path="+b.path}if(b.expires){if(!d(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);G+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(G+="; HttpOnly"),b.secure&&(G+="; Secure"),b.partitioned&&(G+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return G}function C(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function d(A){return g.call(A)==="[object Date]"}return JI}OM();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LV="popstate";function jM(e={}){function t(r,g){let{pathname:a,search:i,hash:l}=r.location;return L0("",{pathname:a,search:i,hash:l},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function n(r,g){return typeof g=="string"?g:cs(g)}return qM(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ur(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _M(){return Math.random().toString(36).substring(2,10)}function zV(e,t){return{usr:e.state,key:e.key,idx:t}}function L0(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Vl(t):t,state:n,key:t&&t.key||r||_M()}}function cs({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Vl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function qM(e,t,n,r={}){let{window:g=document.defaultView,v5Compat:a=!1}=r,i=g.history,l="POP",s=null,c=C();c==null&&(c=0,i.replaceState({...i.state,idx:c},""));function C(){return(i.state||{idx:null}).idx}function d(){l="POP";let h=C(),G=h==null?null:h-c;c=h,s&&s({action:l,location:p.location,delta:G})}function A(h,G){l="PUSH";let v=L0(p.location,h,G);c=C()+1;let S=zV(v,c),V=p.createHref(v);try{i.pushState(S,"",V)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;g.location.assign(V)}a&&s&&s({action:l,location:p.location,delta:1})}function f(h,G){l="REPLACE";let v=L0(p.location,h,G);c=C();let S=zV(v,c),V=p.createHref(v);i.replaceState(S,"",V),a&&s&&s({action:l,location:p.location,delta:0})}function b(h){let G=g.location.origin!=="null"?g.location.origin:g.location.href,v=typeof h=="string"?h:cs(h);return v=v.replace(/ $/,"%20"),Bt(G,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,G)}let p={get action(){return l},get location(){return e(g,i)},listen(h){if(s)throw new Error("A history only accepts one active listener");return g.addEventListener(LV,d),s=h,()=>{g.removeEventListener(LV,d),s=null}},createHref(h){return t(g,h)},createURL:b,encodeLocation(h){let G=b(h);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:f,go(h){return i.go(h)}};return p}function kH(e,t,n="/"){return $M(e,t,n,!1)}function $M(e,t,n,r){let g=typeof t=="string"?Vl(t):t,a=Ta(g.pathname||"/",n);if(a==null)return null;let i=XH(e);e3(i);let l=null;for(let s=0;l==null&&s<i.length;++s){let c=c3(a);l=I3(i[s],c,r)}return l}function XH(e,t=[],n=[],r=""){let g=(a,i,l)=>{let s={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:i,route:a};s.relativePath.startsWith("/")&&(Bt(s.relativePath.startsWith(r),`Absolute route path "${s.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),s.relativePath=s.relativePath.slice(r.length));let c=Ug([r,s.relativePath]),C=n.concat(s);a.children&&a.children.length>0&&(Bt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),XH(a.children,t,C,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:o3(c,a.index),routesMeta:C})};return e.forEach((a,i)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))g(a,i);else for(let s of JH(a.path))g(a,i,s)}),t}function JH(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,g=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return g?[a,""]:[a];let i=JH(r.join("/")),l=[];return l.push(...i.map(s=>s===""?a:[a,s].join("/"))),g&&l.push(...i),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function e3(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:l3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var t3=/^:[\w-]+$/,n3=3,r3=2,g3=1,a3=10,i3=-2,UV=e=>e==="*";function o3(e,t){let n=e.split("/"),r=n.length;return n.some(UV)&&(r+=i3),t&&(r+=r3),n.filter(g=>!UV(g)).reduce((g,a)=>g+(t3.test(a)?n3:a===""?g3:a3),r)}function l3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,g)=>r===t[g])?e[e.length-1]-t[t.length-1]:0}function I3(e,t,n=!1){let{routesMeta:r}=e,g={},a="/",i=[];for(let l=0;l<r.length;++l){let s=r[l],c=l===r.length-1,C=a==="/"?t:t.slice(a.length)||"/",d=WC({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},C),A=s.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=WC({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},C)),!d)return null;Object.assign(g,d.params),i.push({params:g,pathname:Ug([a,d.pathname]),pathnameBase:A3(Ug([a,d.pathnameBase])),route:A}),d.pathnameBase!=="/"&&(a=Ug([a,d.pathnameBase]))}return i}function WC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s3(e.path,e.caseSensitive,e.end),g=t.match(n);if(!g)return null;let a=g[0],i=a.replace(/(.)\/+$/,"$1"),l=g.slice(1);return{params:r.reduce((c,{paramName:C,isOptional:d},A)=>{if(C==="*"){let b=l[A]||"";i=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const f=l[A];return d&&!f?c[C]=void 0:c[C]=(f||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:i,pattern:e}}function s3(e,t=!1,n=!0){Ur(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],g="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,l,s)=>(r.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),g+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?g+="\\/*$":e!==""&&e!=="/"&&(g+="(?:(?=\\/|$))"),[new RegExp(g,t?void 0:"i"),r]}function c3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ur(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ta(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function u3(e,t="/"){let{pathname:n,search:r="",hash:g=""}=typeof e=="string"?Vl(e):e;return{pathname:n?n.startsWith("/")?n:C3(n,t):t,search:m3(r),hash:f3(g)}}function C3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(g=>{g===".."?n.length>1&&n.pop():g!=="."&&n.push(g)}),n.length>1?n.join("/"):"/"}function hp(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function FG(e){let t=d3(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function KG(e,t,n,r=!1){let g;typeof e=="string"?g=Vl(e):(g={...e},Bt(!g.pathname||!g.pathname.includes("?"),hp("?","pathname","search",g)),Bt(!g.pathname||!g.pathname.includes("#"),hp("#","pathname","hash",g)),Bt(!g.search||!g.search.includes("#"),hp("#","search","hash",g)));let a=e===""||g.pathname==="",i=a?"/":g.pathname,l;if(i==null)l=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let A=i.split("/");for(;A[0]==="..";)A.shift(),d-=1;g.pathname=A.join("/")}l=d>=0?t[d]:"/"}let s=u3(g,l),c=i&&i!=="/"&&i.endsWith("/"),C=(a||i===".")&&n.endsWith("/");return!s.pathname.endsWith("/")&&(c||C)&&(s.pathname+="/"),s}var Ug=e=>e.join("/").replace(/\/\/+/g,"/"),A3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),m3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,f3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function p3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var YH=["POST","PUT","PATCH","DELETE"];new Set(YH);var h3=["GET",...YH];new Set(h3);var wl=J.createContext(null);wl.displayName="DataRouter";var tA=J.createContext(null);tA.displayName="DataRouterState";var HH=J.createContext({isTransitioning:!1});HH.displayName="ViewTransition";var b3=J.createContext(new Map);b3.displayName="Fetchers";var y3=J.createContext(null);y3.displayName="Await";var Qr=J.createContext(null);Qr.displayName="Navigation";var rc=J.createContext(null);rc.displayName="Location";var Wg=J.createContext({outlet:null,matches:[],isDataRoute:!1});Wg.displayName="Route";var xG=J.createContext(null);xG.displayName="RouteError";function Z3(e,{relative:t}={}){Bt(Rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=J.useContext(Qr),{hash:g,pathname:a,search:i}=gc(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Ug([n,a])),r.createHref({pathname:l,search:i,hash:g})}function Rl(){return J.useContext(rc)!=null}function Qa(){return Bt(Rl(),"useLocation() may be used only in the context of a <Router> component."),J.useContext(rc).location}var NH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FH(e){J.useContext(Qr).static||J.useLayoutEffect(e)}function KH(){let{isDataRoute:e}=J.useContext(Wg);return e?H3():G3()}function G3(){Bt(Rl(),"useNavigate() may be used only in the context of a <Router> component.");let e=J.useContext(wl),{basename:t,navigator:n}=J.useContext(Qr),{matches:r}=J.useContext(Wg),{pathname:g}=Qa(),a=JSON.stringify(FG(r)),i=J.useRef(!1);return FH(()=>{i.current=!0}),J.useCallback((s,c={})=>{if(Ur(i.current,NH),!i.current)return;if(typeof s=="number"){n.go(s);return}let C=KG(s,JSON.parse(a),g,c.relative==="path");e==null&&t!=="/"&&(C.pathname=C.pathname==="/"?t:Ug([t,C.pathname])),(c.replace?n.replace:n.push)(C,c.state,c)},[t,n,a,g,e])}J.createContext(null);function gc(e,{relative:t}={}){let{matches:n}=J.useContext(Wg),{pathname:r}=Qa(),g=JSON.stringify(FG(n));return J.useMemo(()=>KG(e,JSON.parse(g),r,t==="path"),[e,g,r,t])}function B3(e,t){return xH(e,t)}function xH(e,t,n,r){var G;Bt(Rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:g}=J.useContext(Qr),{matches:a}=J.useContext(Wg),i=a[a.length-1],l=i?i.params:{},s=i?i.pathname:"/",c=i?i.pathnameBase:"/",C=i&&i.route;{let v=C&&C.path||"";EH(s,!C||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${s}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let d=Qa(),A;if(t){let v=typeof t=="string"?Vl(t):t;Bt(c==="/"||((G=v.pathname)==null?void 0:G.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),A=v}else A=d;let f=A.pathname||"/",b=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");b="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=kH(e,{pathname:b});Ur(C||p!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Ur(p==null||p[p.length-1].route.element!==void 0||p[p.length-1].route.Component!==void 0||p[p.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let h=w3(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Ug([c,g.encodeLocation?g.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Ug([c,g.encodeLocation?g.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),a,n,r);return t&&h?J.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},h):h}function v3(){let e=Y3(),t=p3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",g={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=J.createElement(J.Fragment,null,J.createElement("p",null," Hey developer "),J.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",J.createElement("code",{style:a},"ErrorBoundary")," or"," ",J.createElement("code",{style:a},"errorElement")," prop on your route.")),J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},t),n?J.createElement("pre",{style:g},n):null,i)}var S3=J.createElement(v3,null),W3=class extends J.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?J.createElement(Wg.Provider,{value:this.props.routeContext},J.createElement(xG.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V3({routeContext:e,match:t,children:n}){let r=J.useContext(wl);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),J.createElement(Wg.Provider,{value:e},n)}function w3(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let g=e,a=n==null?void 0:n.errors;if(a!=null){let s=g.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);Bt(s>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),g=g.slice(0,Math.min(g.length,s+1))}let i=!1,l=-1;if(n)for(let s=0;s<g.length;s++){let c=g[s];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=s),c.route.id){let{loaderData:C,errors:d}=n,A=c.route.loader&&!C.hasOwnProperty(c.route.id)&&(!d||d[c.route.id]===void 0);if(c.route.lazy||A){i=!0,l>=0?g=g.slice(0,l+1):g=[g[0]];break}}}return g.reduceRight((s,c,C)=>{let d,A=!1,f=null,b=null;n&&(d=a&&c.route.id?a[c.route.id]:void 0,f=c.route.errorElement||S3,i&&(l<0&&C===0?(EH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,b=null):l===C&&(A=!0,b=c.route.hydrateFallbackElement||null)));let p=t.concat(g.slice(0,C+1)),h=()=>{let G;return d?G=f:A?G=b:c.route.Component?G=J.createElement(c.route.Component,null):c.route.element?G=c.route.element:G=s,J.createElement(V3,{match:c,routeContext:{outlet:s,matches:p,isDataRoute:n!=null},children:G})};return n&&(c.route.ErrorBoundary||c.route.errorElement||C===0)?J.createElement(W3,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}function EG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R3(e){let t=J.useContext(wl);return Bt(t,EG(e)),t}function k3(e){let t=J.useContext(tA);return Bt(t,EG(e)),t}function X3(e){let t=J.useContext(Wg);return Bt(t,EG(e)),t}function MG(e){let t=X3(e),n=t.matches[t.matches.length-1];return Bt(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function J3(){return MG("useRouteId")}function Y3(){var r;let e=J.useContext(xG),t=k3("useRouteError"),n=MG("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function H3(){let{router:e}=R3("useNavigate"),t=MG("useNavigate"),n=J.useRef(!1);return FH(()=>{n.current=!0}),J.useCallback(async(g,a={})=>{Ur(n.current,NH),n.current&&(typeof g=="number"?e.navigate(g):await e.navigate(g,{fromRouteId:t,...a}))},[e,t])}var PV={};function EH(e,t,n){!t&&!PV[e]&&(PV[e]=!0,Ur(!1,n))}J.memo(N3);function N3({routes:e,future:t,state:n}){return xH(e,void 0,n,t)}function dme({to:e,replace:t,state:n,relative:r}){Bt(Rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:g}=J.useContext(Qr);Ur(!g,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=J.useContext(Wg),{pathname:i}=Qa(),l=KH(),s=KG(e,FG(a),i,r==="path"),c=JSON.stringify(s);return J.useEffect(()=>{l(JSON.parse(c),{replace:t,state:n,relative:r})},[l,c,r,t,n]),null}function F3(e){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:g,static:a=!1}){Bt(!Rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),l=J.useMemo(()=>({basename:i,navigator:g,static:a,future:{}}),[i,g,a]);typeof n=="string"&&(n=Vl(n));let{pathname:s="/",search:c="",hash:C="",state:d=null,key:A="default"}=n,f=J.useMemo(()=>{let b=Ta(s,i);return b==null?null:{location:{pathname:b,search:c,hash:C,state:d,key:A},navigationType:r}},[i,s,c,C,d,A,r]);return Ur(f!=null,`<Router basename="${i}"> is not able to match the URL "${s}${c}${C}" because it does not start with the basename, so the <Router> won't render anything.`),f==null?null:J.createElement(Qr.Provider,{value:l},J.createElement(rc.Provider,{children:t,value:f}))}function Ame({children:e,location:t}){return B3(z0(e),t)}function z0(e,t=[]){let n=[];return J.Children.forEach(e,(r,g)=>{if(!J.isValidElement(r))return;let a=[...t,g];if(r.type===J.Fragment){n.push.apply(n,z0(r.props.children,a));return}Bt(r.type===F3,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=z0(r.props.children,a)),n.push(i)}),n}var uC="get",CC="application/x-www-form-urlencoded";function nA(e){return e!=null&&typeof e.tagName=="string"}function x3(e){return nA(e)&&e.tagName.toLowerCase()==="button"}function E3(e){return nA(e)&&e.tagName.toLowerCase()==="form"}function M3(e){return nA(e)&&e.tagName.toLowerCase()==="input"}function D3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T3(e,t){return e.button===0&&(!t||t==="_self")&&!D3(e)}var Mu=null;function L3(){if(Mu===null)try{new FormData(document.createElement("form"),0),Mu=!1}catch{Mu=!0}return Mu}var z3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(e){return e!=null&&!z3.has(e)?(Ur(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${CC}"`),null):e}function U3(e,t){let n,r,g,a,i;if(E3(e)){let l=e.getAttribute("action");r=l?Ta(l,t):null,n=e.getAttribute("method")||uC,g=bp(e.getAttribute("enctype"))||CC,a=new FormData(e)}else if(x3(e)||M3(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||l.getAttribute("action");if(r=s?Ta(s,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||uC,g=bp(e.getAttribute("formenctype"))||bp(l.getAttribute("enctype"))||CC,a=new FormData(l,e),!L3()){let{name:c,type:C,value:d}=e;if(C==="image"){let A=c?`${c}.`:"";a.append(`${A}x`,"0"),a.append(`${A}y`,"0")}else c&&a.append(c,d)}}else{if(nA(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=uC,r=null,g=CC,i=e}return a&&g==="text/plain"&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:g,formData:a,body:i}}function DG(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function P3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function O3(e,t,n){let r=await Promise.all(e.map(async g=>{let a=t.routes[g.route.id];if(a){let i=await P3(a,n);return i.links?i.links():[]}return[]}));return $3(r.flat(1).filter(Q3).filter(g=>g.rel==="stylesheet"||g.rel==="preload").map(g=>g.rel==="stylesheet"?{...g,rel:"prefetch",as:"style"}:{...g,rel:"prefetch"}))}function QV(e,t,n,r,g,a){let i=(s,c)=>n[c]?s.route.id!==n[c].route.id:!0,l=(s,c)=>{var C;return n[c].pathname!==s.pathname||((C=n[c].route.path)==null?void 0:C.endsWith("*"))&&n[c].params["*"]!==s.params["*"]};return a==="assets"?t.filter((s,c)=>i(s,c)||l(s,c)):a==="data"?t.filter((s,c)=>{var d;let C=r.routes[s.route.id];if(!C||!C.hasLoader)return!1;if(i(s,c)||l(s,c))return!0;if(s.route.shouldRevalidate){let A=s.route.shouldRevalidate({currentUrl:new URL(g.pathname+g.search+g.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:s.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function j3(e,t){return _3(e.map(n=>{let r=t.routes[n.route.id];if(!r)return[];let g=[r.module];return r.imports&&(g=g.concat(r.imports)),g}).flat(1))}function _3(e){return[...new Set(e)]}function q3(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function $3(e,t){let n=new Set;return new Set(t),e.reduce((r,g)=>{let a=JSON.stringify(q3(g));return n.has(a)||(n.add(a),r.push({key:a,link:g})),r},[])}function eD(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function tD(){let e=J.useContext(wl);return DG(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nD(){let e=J.useContext(tA);return DG(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var TG=J.createContext(void 0);TG.displayName="FrameworkContext";function MH(){let e=J.useContext(TG);return DG(e,"You must render this element inside a <HydratedRouter> element"),e}function rD(e,t){let n=J.useContext(TG),[r,g]=J.useState(!1),[a,i]=J.useState(!1),{onFocus:l,onBlur:s,onMouseEnter:c,onMouseLeave:C,onTouchStart:d}=t,A=J.useRef(null);J.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let p=G=>{G.forEach(v=>{i(v.isIntersecting)})},h=new IntersectionObserver(p,{threshold:.5});return A.current&&h.observe(A.current),()=>{h.disconnect()}}},[e]),J.useEffect(()=>{if(r){let p=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(p)}}},[r]);let f=()=>{g(!0)},b=()=>{g(!1),i(!1)};return n?e!=="intent"?[a,A,{}]:[a,A,{onFocus:YI(l,f),onBlur:YI(s,b),onMouseEnter:YI(c,f),onMouseLeave:YI(C,b),onTouchStart:YI(d,f)}]:[!1,A,{}]}function YI(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gD({page:e,...t}){let{router:n}=tD(),r=J.useMemo(()=>kH(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?J.createElement(iD,{page:e,matches:r,...t}):null}function aD(e){let{manifest:t,routeModules:n}=MH(),[r,g]=J.useState([]);return J.useEffect(()=>{let a=!1;return O3(e,t,n).then(i=>{a||g(i)}),()=>{a=!0}},[e,t,n]),r}function iD({page:e,matches:t,...n}){let r=Qa(),{manifest:g,routeModules:a}=MH(),{loaderData:i,matches:l}=nD(),s=J.useMemo(()=>QV(e,t,l,g,r,"data"),[e,t,l,g,r]),c=J.useMemo(()=>QV(e,t,l,g,r,"assets"),[e,t,l,g,r]),C=J.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let f=new Set,b=!1;if(t.forEach(h=>{var v;let G=g.routes[h.route.id];!G||!G.hasLoader||(!s.some(S=>S.route.id===h.route.id)&&h.route.id in i&&((v=a[h.route.id])!=null&&v.shouldRevalidate)||G.hasClientLoader?b=!0:f.add(h.route.id))}),f.size===0)return[];let p=eD(e);return b&&f.size>0&&p.searchParams.set("_routes",t.filter(h=>f.has(h.route.id)).map(h=>h.route.id).join(",")),[p.pathname+p.search]},[i,r,g,s,t,e,a]),d=J.useMemo(()=>j3(c,g),[c,g]),A=aD(c);return J.createElement(J.Fragment,null,C.map(f=>J.createElement("link",{key:f,rel:"prefetch",as:"fetch",href:f,...n})),d.map(f=>J.createElement("link",{key:f,rel:"modulepreload",href:f,...n})),A.map(({key:f,link:b})=>J.createElement("link",{key:f,...b})))}function oD(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var DH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DH&&(window.__reactRouterVersion="7.1.1")}catch{}function mme({basename:e,children:t,window:n}){let r=J.useRef();r.current==null&&(r.current=jM({window:n,v5Compat:!0}));let g=r.current,[a,i]=J.useState({action:g.action,location:g.location}),l=J.useCallback(s=>{J.startTransition(()=>i(s))},[i]);return J.useLayoutEffect(()=>g.listen(l),[g,l]),J.createElement(K3,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:g})}var TH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,LH=J.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:g,reloadDocument:a,replace:i,state:l,target:s,to:c,preventScrollReset:C,viewTransition:d,...A},f){let{basename:b}=J.useContext(Qr),p=typeof c=="string"&&TH.test(c),h,G=!1;if(typeof c=="string"&&p&&(h=c,DH))try{let N=new URL(window.location.href),R=c.startsWith("//")?new URL(N.protocol+c):new URL(c),Y=Ta(R.pathname,b);R.origin===N.origin&&Y!=null?c=Y+R.search+R.hash:G=!0}catch{Ur(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=Z3(c,{relative:g}),[S,V,Z]=rD(r,A),W=cD(c,{replace:i,state:l,target:s,preventScrollReset:C,relative:g,viewTransition:d});function w(N){t&&t(N),N.defaultPrevented||W(N)}let X=J.createElement("a",{...A,...Z,href:h||v,onClick:G||a?t:w,ref:oD(f,V),target:s,"data-discover":!p&&n==="render"?"true":void 0});return S&&!p?J.createElement(J.Fragment,null,X,J.createElement(gD,{page:v})):X});LH.displayName="Link";var lD=J.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:g=!1,style:a,to:i,viewTransition:l,children:s,...c},C){let d=gc(i,{relative:c.relative}),A=Qa(),f=J.useContext(tA),{navigator:b,basename:p}=J.useContext(Qr),h=f!=null&&mD(d)&&l===!0,G=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,v=A.pathname,S=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;n||(v=v.toLowerCase(),S=S?S.toLowerCase():null,G=G.toLowerCase()),S&&p&&(S=Ta(S,p)||S);const V=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Z=v===G||!g&&v.startsWith(G)&&v.charAt(V)==="/",W=S!=null&&(S===G||!g&&S.startsWith(G)&&S.charAt(G.length)==="/"),w={isActive:Z,isPending:W,isTransitioning:h},X=Z?t:void 0,N;typeof r=="function"?N=r(w):N=[r,Z?"active":null,W?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(w):a;return J.createElement(LH,{...c,"aria-current":X,className:N,ref:C,style:R,to:i,viewTransition:l},typeof s=="function"?s(w):s)});lD.displayName="NavLink";var ID=J.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:g,state:a,method:i=uC,action:l,onSubmit:s,relative:c,preventScrollReset:C,viewTransition:d,...A},f)=>{let b=dD(),p=AD(l,{relative:c}),h=i.toLowerCase()==="get"?"get":"post",G=typeof l=="string"&&TH.test(l),v=S=>{if(s&&s(S),S.defaultPrevented)return;S.preventDefault();let V=S.nativeEvent.submitter,Z=(V==null?void 0:V.getAttribute("formmethod"))||i;b(V||S.currentTarget,{fetcherKey:t,method:Z,navigate:n,replace:g,state:a,relative:c,preventScrollReset:C,viewTransition:d})};return J.createElement("form",{ref:f,method:h,action:p,onSubmit:r?s:v,...A,"data-discover":!G&&e==="render"?"true":void 0})});ID.displayName="Form";function sD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zH(e){let t=J.useContext(wl);return Bt(t,sD(e)),t}function cD(e,{target:t,replace:n,state:r,preventScrollReset:g,relative:a,viewTransition:i}={}){let l=KH(),s=Qa(),c=gc(e,{relative:a});return J.useCallback(C=>{if(T3(C,t)){C.preventDefault();let d=n!==void 0?n:cs(s)===cs(c);l(e,{replace:d,state:r,preventScrollReset:g,relative:a,viewTransition:i})}},[s,l,c,n,r,t,e,g,a,i])}var uD=0,CD=()=>`__${String(++uD)}__`;function dD(){let{router:e}=zH("useSubmit"),{basename:t}=J.useContext(Qr),n=J3();return J.useCallback(async(r,g={})=>{let{action:a,method:i,encType:l,formData:s,body:c}=U3(r,t);if(g.navigate===!1){let C=g.fetcherKey||CD();await e.fetch(C,n,g.action||a,{preventScrollReset:g.preventScrollReset,formData:s,body:c,formMethod:g.method||i,formEncType:g.encType||l,flushSync:g.flushSync})}else await e.navigate(g.action||a,{preventScrollReset:g.preventScrollReset,formData:s,body:c,formMethod:g.method||i,formEncType:g.encType||l,replace:g.replace,state:g.state,fromRouteId:n,flushSync:g.flushSync,viewTransition:g.viewTransition})},[e,t,n])}function AD(e,{relative:t}={}){let{basename:n}=J.useContext(Qr),r=J.useContext(Wg);Bt(r,"useFormAction must be used inside a RouteContext");let[g]=r.matches.slice(-1),a={...gc(e||".",{relative:t})},i=Qa();if(e==null){a.search=i.search;let l=new URLSearchParams(a.search),s=l.getAll("index");if(s.some(C=>C==="")){l.delete("index"),s.filter(d=>d).forEach(d=>l.append("index",d));let C=l.toString();a.search=C?`?${C}`:""}}return(!e||e===".")&&g.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ug([n,a.pathname])),cs(a)}function mD(e,t={}){let n=J.useContext(HH);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zH("useViewTransitionState"),g=gc(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return WC(g.pathname,i)!=null||WC(g.pathname,a)!=null}new TextEncoder;var UH=RH();const fD=lt(UH);function PH(e,t){return function(){return e.apply(t,arguments)}}const{toString:pD}=Object.prototype,{getPrototypeOf:LG}=Object,rA=(e=>t=>{const n=pD.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Or=e=>(e=e.toLowerCase(),t=>rA(t)===e),gA=e=>t=>typeof t===e,{isArray:kl}=Array,us=gA("undefined");function hD(e){return e!==null&&!us(e)&&e.constructor!==null&&!us(e.constructor)&&tr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const QH=Or("ArrayBuffer");function bD(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&QH(e.buffer),t}const yD=gA("string"),tr=gA("function"),OH=gA("number"),aA=e=>e!==null&&typeof e=="object",ZD=e=>e===!0||e===!1,dC=e=>{if(rA(e)!=="object")return!1;const t=LG(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},GD=Or("Date"),BD=Or("File"),vD=Or("Blob"),SD=Or("FileList"),WD=e=>aA(e)&&tr(e.pipe),VD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||tr(e.append)&&((t=rA(e))==="formdata"||t==="object"&&tr(e.toString)&&e.toString()==="[object FormData]"))},wD=Or("URLSearchParams"),[RD,kD,XD,JD]=["ReadableStream","Request","Response","Headers"].map(Or),YD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ac(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,g;if(typeof e!="object"&&(e=[e]),kl(e))for(r=0,g=e.length;r<g;r++)t.call(null,e[r],r,e);else{const a=n?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(r=0;r<i;r++)l=a[r],t.call(null,e[l],l,e)}}function jH(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,g;for(;r-- >0;)if(g=n[r],t===g.toLowerCase())return g;return null}const hi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,_H=e=>!us(e)&&e!==hi;function U0(){const{caseless:e}=_H(this)&&this||{},t={},n=(r,g)=>{const a=e&&jH(t,g)||g;dC(t[a])&&dC(r)?t[a]=U0(t[a],r):dC(r)?t[a]=U0({},r):kl(r)?t[a]=r.slice():t[a]=r};for(let r=0,g=arguments.length;r<g;r++)arguments[r]&&ac(arguments[r],n);return t}const HD=(e,t,n,{allOwnKeys:r}={})=>(ac(t,(g,a)=>{n&&tr(g)?e[a]=PH(g,n):e[a]=g},{allOwnKeys:r}),e),ND=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),FD=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},KD=(e,t,n,r)=>{let g,a,i;const l={};if(t=t||{},e==null)return t;do{for(g=Object.getOwnPropertyNames(e),a=g.length;a-- >0;)i=g[a],(!r||r(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=n!==!1&&LG(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},xD=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},ED=e=>{if(!e)return null;if(kl(e))return e;let t=e.length;if(!OH(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},MD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&LG(Uint8Array)),DD=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let g;for(;(g=r.next())&&!g.done;){const a=g.value;t.call(e,a[0],a[1])}},TD=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},LD=Or("HTMLFormElement"),zD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,g){return r.toUpperCase()+g}),OV=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),UD=Or("RegExp"),qH=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ac(n,(g,a)=>{let i;(i=t(g,a,e))!==!1&&(r[a]=i||g)}),Object.defineProperties(e,r)},PD=e=>{qH(e,(t,n)=>{if(tr(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(tr(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},QD=(e,t)=>{const n={},r=g=>{g.forEach(a=>{n[a]=!0})};return kl(e)?r(e):r(String(e).split(t)),n},OD=()=>{},jD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,yp="abcdefghijklmnopqrstuvwxyz",jV="0123456789",$H={DIGIT:jV,ALPHA:yp,ALPHA_DIGIT:yp+yp.toUpperCase()+jV},_D=(e=16,t=$H.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function qD(e){return!!(e&&tr(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const $D=e=>{const t=new Array(10),n=(r,g)=>{if(aA(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[g]=r;const a=kl(r)?[]:{};return ac(r,(i,l)=>{const s=n(i,g+1);!us(s)&&(a[l]=s)}),t[g]=void 0,a}}return r};return n(e,0)},eT=Or("AsyncFunction"),tT=e=>e&&(aA(e)||tr(e))&&tr(e.then)&&tr(e.catch),eN=((e,t)=>e?setImmediate:t?((n,r)=>(hi.addEventListener("message",({source:g,data:a})=>{g===hi&&a===n&&r.length&&r.shift()()},!1),g=>{r.push(g),hi.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",tr(hi.postMessage)),nT=typeof queueMicrotask<"u"?queueMicrotask.bind(hi):typeof process<"u"&&process.nextTick||eN,ee={isArray:kl,isArrayBuffer:QH,isBuffer:hD,isFormData:VD,isArrayBufferView:bD,isString:yD,isNumber:OH,isBoolean:ZD,isObject:aA,isPlainObject:dC,isReadableStream:RD,isRequest:kD,isResponse:XD,isHeaders:JD,isUndefined:us,isDate:GD,isFile:BD,isBlob:vD,isRegExp:UD,isFunction:tr,isStream:WD,isURLSearchParams:wD,isTypedArray:MD,isFileList:SD,forEach:ac,merge:U0,extend:HD,trim:YD,stripBOM:ND,inherits:FD,toFlatObject:KD,kindOf:rA,kindOfTest:Or,endsWith:xD,toArray:ED,forEachEntry:DD,matchAll:TD,isHTMLForm:LD,hasOwnProperty:OV,hasOwnProp:OV,reduceDescriptors:qH,freezeMethods:PD,toObjectSet:QD,toCamelCase:zD,noop:OD,toFiniteNumber:jD,findKey:jH,global:hi,isContextDefined:_H,ALPHABET:$H,generateString:_D,isSpecCompliantForm:qD,toJSONObject:$D,isAsyncFn:eT,isThenable:tT,setImmediate:eN,asap:nT};function Je(e,t,n,r,g){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),g&&(this.response=g,this.status=g.status?g.status:null)}ee.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const tN=Je.prototype,nN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{nN[e]={value:e}});Object.defineProperties(Je,nN);Object.defineProperty(tN,"isAxiosError",{value:!0});Je.from=(e,t,n,r,g,a)=>{const i=Object.create(tN);return ee.toFlatObject(e,i,function(s){return s!==Error.prototype},l=>l!=="isAxiosError"),Je.call(i,e.message,t,n,r,g),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const rT=null;function P0(e){return ee.isPlainObject(e)||ee.isArray(e)}function rN(e){return ee.endsWith(e,"[]")?e.slice(0,-2):e}function _V(e,t,n){return e?e.concat(t).map(function(g,a){return g=rN(g),!n&&a?"["+g+"]":g}).join(n?".":""):t}function gT(e){return ee.isArray(e)&&!e.some(P0)}const aT=ee.toFlatObject(ee,{},null,function(t){return/^is[A-Z]/.test(t)});function iA(e,t,n){if(!ee.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,h){return!ee.isUndefined(h[p])});const r=n.metaTokens,g=n.visitor||C,a=n.dots,i=n.indexes,s=(n.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(t);if(!ee.isFunction(g))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(ee.isDate(b))return b.toISOString();if(!s&&ee.isBlob(b))throw new Je("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(b)||ee.isTypedArray(b)?s&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function C(b,p,h){let G=b;if(b&&!h&&typeof b=="object"){if(ee.endsWith(p,"{}"))p=r?p:p.slice(0,-2),b=JSON.stringify(b);else if(ee.isArray(b)&&gT(b)||(ee.isFileList(b)||ee.endsWith(p,"[]"))&&(G=ee.toArray(b)))return p=rN(p),G.forEach(function(S,V){!(ee.isUndefined(S)||S===null)&&t.append(i===!0?_V([p],V,a):i===null?p:p+"[]",c(S))}),!1}return P0(b)?!0:(t.append(_V(h,p,a),c(b)),!1)}const d=[],A=Object.assign(aT,{defaultVisitor:C,convertValue:c,isVisitable:P0});function f(b,p){if(!ee.isUndefined(b)){if(d.indexOf(b)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(b),ee.forEach(b,function(G,v){(!(ee.isUndefined(G)||G===null)&&g.call(t,G,ee.isString(v)?v.trim():v,p,A))===!0&&f(G,p?p.concat(v):[v])}),d.pop()}}if(!ee.isObject(e))throw new TypeError("data must be an object");return f(e),t}function qV(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function zG(e,t){this._pairs=[],e&&iA(e,this,t)}const gN=zG.prototype;gN.append=function(t,n){this._pairs.push([t,n])};gN.toString=function(t){const n=t?function(r){return t.call(this,r,qV)}:qV;return this._pairs.map(function(g){return n(g[0])+"="+n(g[1])},"").join("&")};function iT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function aN(e,t,n){if(!t)return e;const r=n&&n.encode||iT;ee.isFunction(n)&&(n={serialize:n});const g=n&&n.serialize;let a;if(g?a=g(t,n):a=ee.isURLSearchParams(t)?t.toString():new zG(t,n).toString(r),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class $V{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ee.forEach(this.handlers,function(r){r!==null&&t(r)})}}const iN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oT=typeof URLSearchParams<"u"?URLSearchParams:zG,lT=typeof FormData<"u"?FormData:null,IT=typeof Blob<"u"?Blob:null,sT={isBrowser:!0,classes:{URLSearchParams:oT,FormData:lT,Blob:IT},protocols:["http","https","file","blob","url","data"]},UG=typeof window<"u"&&typeof document<"u",Q0=typeof navigator=="object"&&navigator||void 0,cT=UG&&(!Q0||["ReactNative","NativeScript","NS"].indexOf(Q0.product)<0),uT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",CT=UG&&window.location.href||"http://localhost",dT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:UG,hasStandardBrowserEnv:cT,hasStandardBrowserWebWorkerEnv:uT,navigator:Q0,origin:CT},Symbol.toStringTag,{value:"Module"})),Zn={...dT,...sT};function AT(e,t){return iA(e,new Zn.classes.URLSearchParams,Object.assign({visitor:function(n,r,g,a){return Zn.isNode&&ee.isBuffer(n)?(this.append(r,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}function mT(e){return ee.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fT(e){const t={},n=Object.keys(e);let r;const g=n.length;let a;for(r=0;r<g;r++)a=n[r],t[a]=e[a];return t}function oN(e){function t(n,r,g,a){let i=n[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),s=a>=n.length;return i=!i&&ee.isArray(g)?g.length:i,s?(ee.hasOwnProp(g,i)?g[i]=[g[i],r]:g[i]=r,!l):((!g[i]||!ee.isObject(g[i]))&&(g[i]=[]),t(n,r,g[i],a)&&ee.isArray(g[i])&&(g[i]=fT(g[i])),!l)}if(ee.isFormData(e)&&ee.isFunction(e.entries)){const n={};return ee.forEachEntry(e,(r,g)=>{t(mT(r),g,n,0)}),n}return null}function pT(e,t,n){if(ee.isString(e))try{return(t||JSON.parse)(e),ee.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const ic={transitional:iN,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",g=r.indexOf("application/json")>-1,a=ee.isObject(t);if(a&&ee.isHTMLForm(t)&&(t=new FormData(t)),ee.isFormData(t))return g?JSON.stringify(oN(t)):t;if(ee.isArrayBuffer(t)||ee.isBuffer(t)||ee.isStream(t)||ee.isFile(t)||ee.isBlob(t)||ee.isReadableStream(t))return t;if(ee.isArrayBufferView(t))return t.buffer;if(ee.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return AT(t,this.formSerializer).toString();if((l=ee.isFileList(t))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return iA(l?{"files[]":t}:t,s&&new s,this.formSerializer)}}return a||g?(n.setContentType("application/json",!1),pT(t)):t}],transformResponse:[function(t){const n=this.transitional||ic.transitional,r=n&&n.forcedJSONParsing,g=this.responseType==="json";if(ee.isResponse(t)||ee.isReadableStream(t))return t;if(t&&ee.isString(t)&&(r&&!this.responseType||g)){const i=!(n&&n.silentJSONParsing)&&g;try{return JSON.parse(t)}catch(l){if(i)throw l.name==="SyntaxError"?Je.from(l,Je.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],e=>{ic.headers[e]={}});const hT=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bT=e=>{const t={};let n,r,g;return e&&e.split(`
`).forEach(function(i){g=i.indexOf(":"),n=i.substring(0,g).trim().toLowerCase(),r=i.substring(g+1).trim(),!(!n||t[n]&&hT[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ew=Symbol("internals");function HI(e){return e&&String(e).trim().toLowerCase()}function AC(e){return e===!1||e==null?e:ee.isArray(e)?e.map(AC):String(e)}function yT(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const ZT=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Zp(e,t,n,r,g){if(ee.isFunction(r))return r.call(this,t,n);if(g&&(t=n),!!ee.isString(t)){if(ee.isString(r))return t.indexOf(r)!==-1;if(ee.isRegExp(r))return r.test(t)}}function GT(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function BT(e,t){const n=ee.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(g,a,i){return this[r].call(this,t,g,a,i)},configurable:!0})})}class xn{constructor(t){t&&this.set(t)}set(t,n,r){const g=this;function a(l,s,c){const C=HI(s);if(!C)throw new Error("header name must be a non-empty string");const d=ee.findKey(g,C);(!d||g[d]===void 0||c===!0||c===void 0&&g[d]!==!1)&&(g[d||s]=AC(l))}const i=(l,s)=>ee.forEach(l,(c,C)=>a(c,C,s));if(ee.isPlainObject(t)||t instanceof this.constructor)i(t,n);else if(ee.isString(t)&&(t=t.trim())&&!ZT(t))i(bT(t),n);else if(ee.isHeaders(t))for(const[l,s]of t.entries())a(s,l,r);else t!=null&&a(n,t,r);return this}get(t,n){if(t=HI(t),t){const r=ee.findKey(this,t);if(r){const g=this[r];if(!n)return g;if(n===!0)return yT(g);if(ee.isFunction(n))return n.call(this,g,r);if(ee.isRegExp(n))return n.exec(g);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=HI(t),t){const r=ee.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Zp(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let g=!1;function a(i){if(i=HI(i),i){const l=ee.findKey(r,i);l&&(!n||Zp(r,r[l],l,n))&&(delete r[l],g=!0)}}return ee.isArray(t)?t.forEach(a):a(t),g}clear(t){const n=Object.keys(this);let r=n.length,g=!1;for(;r--;){const a=n[r];(!t||Zp(this,this[a],a,t,!0))&&(delete this[a],g=!0)}return g}normalize(t){const n=this,r={};return ee.forEach(this,(g,a)=>{const i=ee.findKey(r,a);if(i){n[i]=AC(g),delete n[a];return}const l=t?GT(a):String(a).trim();l!==a&&delete n[a],n[l]=AC(g),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return ee.forEach(this,(r,g)=>{r!=null&&r!==!1&&(n[g]=t&&ee.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(g=>r.set(g)),r}static accessor(t){const r=(this[ew]=this[ew]={accessors:{}}).accessors,g=this.prototype;function a(i){const l=HI(i);r[l]||(BT(g,i),r[l]=!0)}return ee.isArray(t)?t.forEach(a):a(t),this}}xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(xn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});ee.freezeMethods(xn);function Gp(e,t){const n=this||ic,r=t||n,g=xn.from(r.headers);let a=r.data;return ee.forEach(e,function(l){a=l.call(n,a,g.normalize(),t?t.status:void 0)}),g.normalize(),a}function lN(e){return!!(e&&e.__CANCEL__)}function Xl(e,t,n){Je.call(this,e??"canceled",Je.ERR_CANCELED,t,n),this.name="CanceledError"}ee.inherits(Xl,Je,{__CANCEL__:!0});function IN(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Je("Request failed with status code "+n.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function vT(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ST(e,t){e=e||10;const n=new Array(e),r=new Array(e);let g=0,a=0,i;return t=t!==void 0?t:1e3,function(s){const c=Date.now(),C=r[a];i||(i=c),n[g]=s,r[g]=c;let d=a,A=0;for(;d!==g;)A+=n[d++],d=d%e;if(g=(g+1)%e,g===a&&(a=(a+1)%e),c-i<t)return;const f=C&&c-C;return f?Math.round(A*1e3/f):void 0}}function WT(e,t){let n=0,r=1e3/t,g,a;const i=(c,C=Date.now())=>{n=C,g=null,a&&(clearTimeout(a),a=null),e.apply(null,c)};return[(...c)=>{const C=Date.now(),d=C-n;d>=r?i(c,C):(g=c,a||(a=setTimeout(()=>{a=null,i(g)},r-d)))},()=>g&&i(g)]}const VC=(e,t,n=3)=>{let r=0;const g=ST(50,250);return WT(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,s=i-r,c=g(s),C=i<=l;r=i;const d={loaded:i,total:l,progress:l?i/l:void 0,bytes:s,rate:c||void 0,estimated:c&&l&&C?(l-i)/c:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(d)},n)},tw=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},nw=e=>(...t)=>ee.asap(()=>e(...t)),VT=Zn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Zn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Zn.origin),Zn.navigator&&/(msie|trident)/i.test(Zn.navigator.userAgent)):()=>!0,wT=Zn.hasStandardBrowserEnv?{write(e,t,n,r,g,a){const i=[e+"="+encodeURIComponent(t)];ee.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&i.push("path="+r),ee.isString(g)&&i.push("domain="+g),a===!0&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function RT(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function kT(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sN(e,t){return e&&!RT(t)?kT(e,t):t}const rw=e=>e instanceof xn?{...e}:e;function Ji(e,t){t=t||{};const n={};function r(c,C,d,A){return ee.isPlainObject(c)&&ee.isPlainObject(C)?ee.merge.call({caseless:A},c,C):ee.isPlainObject(C)?ee.merge({},C):ee.isArray(C)?C.slice():C}function g(c,C,d,A){if(ee.isUndefined(C)){if(!ee.isUndefined(c))return r(void 0,c,d,A)}else return r(c,C,d,A)}function a(c,C){if(!ee.isUndefined(C))return r(void 0,C)}function i(c,C){if(ee.isUndefined(C)){if(!ee.isUndefined(c))return r(void 0,c)}else return r(void 0,C)}function l(c,C,d){if(d in t)return r(c,C);if(d in e)return r(void 0,c)}const s={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,C,d)=>g(rw(c),rw(C),d,!0)};return ee.forEach(Object.keys(Object.assign({},e,t)),function(C){const d=s[C]||g,A=d(e[C],t[C],C);ee.isUndefined(A)&&d!==l||(n[C]=A)}),n}const cN=e=>{const t=Ji({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:g,xsrfCookieName:a,headers:i,auth:l}=t;t.headers=i=xn.from(i),t.url=aN(sN(t.baseURL,t.url),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let s;if(ee.isFormData(n)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if((s=i.getContentType())!==!1){const[c,...C]=s?s.split(";").map(d=>d.trim()).filter(Boolean):[];i.setContentType([c||"multipart/form-data",...C].join("; "))}}if(Zn.hasStandardBrowserEnv&&(r&&ee.isFunction(r)&&(r=r(t)),r||r!==!1&&VT(t.url))){const c=g&&a&&wT.read(a);c&&i.set(g,c)}return t},XT=typeof XMLHttpRequest<"u",JT=XT&&function(e){return new Promise(function(n,r){const g=cN(e);let a=g.data;const i=xn.from(g.headers).normalize();let{responseType:l,onUploadProgress:s,onDownloadProgress:c}=g,C,d,A,f,b;function p(){f&&f(),b&&b(),g.cancelToken&&g.cancelToken.unsubscribe(C),g.signal&&g.signal.removeEventListener("abort",C)}let h=new XMLHttpRequest;h.open(g.method.toUpperCase(),g.url,!0),h.timeout=g.timeout;function G(){if(!h)return;const S=xn.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),Z={data:!l||l==="text"||l==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:S,config:e,request:h};IN(function(w){n(w),p()},function(w){r(w),p()},Z),h=null}"onloadend"in h?h.onloadend=G:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(G)},h.onabort=function(){h&&(r(new Je("Request aborted",Je.ECONNABORTED,e,h)),h=null)},h.onerror=function(){r(new Je("Network Error",Je.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let V=g.timeout?"timeout of "+g.timeout+"ms exceeded":"timeout exceeded";const Z=g.transitional||iN;g.timeoutErrorMessage&&(V=g.timeoutErrorMessage),r(new Je(V,Z.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,e,h)),h=null},a===void 0&&i.setContentType(null),"setRequestHeader"in h&&ee.forEach(i.toJSON(),function(V,Z){h.setRequestHeader(Z,V)}),ee.isUndefined(g.withCredentials)||(h.withCredentials=!!g.withCredentials),l&&l!=="json"&&(h.responseType=g.responseType),c&&([A,b]=VC(c,!0),h.addEventListener("progress",A)),s&&h.upload&&([d,f]=VC(s),h.upload.addEventListener("progress",d),h.upload.addEventListener("loadend",f)),(g.cancelToken||g.signal)&&(C=S=>{h&&(r(!S||S.type?new Xl(null,e,h):S),h.abort(),h=null)},g.cancelToken&&g.cancelToken.subscribe(C),g.signal&&(g.signal.aborted?C():g.signal.addEventListener("abort",C)));const v=vT(g.url);if(v&&Zn.protocols.indexOf(v)===-1){r(new Je("Unsupported protocol "+v+":",Je.ERR_BAD_REQUEST,e));return}h.send(a||null)})},YT=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,g;const a=function(c){if(!g){g=!0,l();const C=c instanceof Error?c:this.reason;r.abort(C instanceof Je?C:new Xl(C instanceof Error?C.message:C))}};let i=t&&setTimeout(()=>{i=null,a(new Je(`timeout ${t} of ms exceeded`,Je.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:s}=r;return s.unsubscribe=()=>ee.asap(l),s}},HT=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,g;for(;r<n;)g=r+t,yield e.slice(r,g),r=g},NT=async function*(e,t){for await(const n of FT(e))yield*HT(n,t)},FT=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},gw=(e,t,n,r)=>{const g=NT(e,t);let a=0,i,l=s=>{i||(i=!0,r&&r(s))};return new ReadableStream({async pull(s){try{const{done:c,value:C}=await g.next();if(c){l(),s.close();return}let d=C.byteLength;if(n){let A=a+=d;n(A)}s.enqueue(new Uint8Array(C))}catch(c){throw l(c),c}},cancel(s){return l(s),g.return()}},{highWaterMark:2})},oA=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",uN=oA&&typeof ReadableStream=="function",KT=oA&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),CN=(e,...t)=>{try{return!!e(...t)}catch{return!1}},xT=uN&&CN(()=>{let e=!1;const t=new Request(Zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),aw=64*1024,O0=uN&&CN(()=>ee.isReadableStream(new Response("").body)),wC={stream:O0&&(e=>e.body)};oA&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!wC[t]&&(wC[t]=ee.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Je(`Response type '${t}' is not supported`,Je.ERR_NOT_SUPPORT,r)})})})(new Response);const ET=async e=>{if(e==null)return 0;if(ee.isBlob(e))return e.size;if(ee.isSpecCompliantForm(e))return(await new Request(Zn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(e)||ee.isArrayBuffer(e))return e.byteLength;if(ee.isURLSearchParams(e)&&(e=e+""),ee.isString(e))return(await KT(e)).byteLength},MT=async(e,t)=>{const n=ee.toFiniteNumber(e.getContentLength());return n??ET(t)},DT=oA&&(async e=>{let{url:t,method:n,data:r,signal:g,cancelToken:a,timeout:i,onDownloadProgress:l,onUploadProgress:s,responseType:c,headers:C,withCredentials:d="same-origin",fetchOptions:A}=cN(e);c=c?(c+"").toLowerCase():"text";let f=YT([g,a&&a.toAbortSignal()],i),b;const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let h;try{if(s&&xT&&n!=="get"&&n!=="head"&&(h=await MT(C,r))!==0){let Z=new Request(t,{method:"POST",body:r,duplex:"half"}),W;if(ee.isFormData(r)&&(W=Z.headers.get("content-type"))&&C.setContentType(W),Z.body){const[w,X]=tw(h,VC(nw(s)));r=gw(Z.body,aw,w,X)}}ee.isString(d)||(d=d?"include":"omit");const G="credentials"in Request.prototype;b=new Request(t,{...A,signal:f,method:n.toUpperCase(),headers:C.normalize().toJSON(),body:r,duplex:"half",credentials:G?d:void 0});let v=await fetch(b);const S=O0&&(c==="stream"||c==="response");if(O0&&(l||S&&p)){const Z={};["status","statusText","headers"].forEach(N=>{Z[N]=v[N]});const W=ee.toFiniteNumber(v.headers.get("content-length")),[w,X]=l&&tw(W,VC(nw(l),!0))||[];v=new Response(gw(v.body,aw,w,()=>{X&&X(),p&&p()}),Z)}c=c||"text";let V=await wC[ee.findKey(wC,c)||"text"](v,e);return!S&&p&&p(),await new Promise((Z,W)=>{IN(Z,W,{data:V,headers:xn.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:b})})}catch(G){throw p&&p(),G&&G.name==="TypeError"&&/fetch/i.test(G.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,e,b),{cause:G.cause||G}):Je.from(G,G&&G.code,e,b)}}),j0={http:rT,xhr:JT,fetch:DT};ee.forEach(j0,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const iw=e=>`- ${e}`,TT=e=>ee.isFunction(e)||e===null||e===!1,dN={getAdapter:e=>{e=ee.isArray(e)?e:[e];const{length:t}=e;let n,r;const g={};for(let a=0;a<t;a++){n=e[a];let i;if(r=n,!TT(n)&&(r=j0[(i=String(n)).toLowerCase()],r===void 0))throw new Je(`Unknown adapter '${i}'`);if(r)break;g[i||"#"+a]=r}if(!r){const a=Object.entries(g).map(([l,s])=>`adapter ${l} `+(s===!1?"is not supported by the environment":"is not available in the build"));let i=t?a.length>1?`since :
`+a.map(iw).join(`
`):" "+iw(a[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return r},adapters:j0};function Bp(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Xl(null,e)}function ow(e){return Bp(e),e.headers=xn.from(e.headers),e.data=Gp.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dN.getAdapter(e.adapter||ic.adapter)(e).then(function(r){return Bp(e),r.data=Gp.call(e,e.transformResponse,r),r.headers=xn.from(r.headers),r},function(r){return lN(r)||(Bp(e),r&&r.response&&(r.response.data=Gp.call(e,e.transformResponse,r.response),r.response.headers=xn.from(r.response.headers))),Promise.reject(r)})}const AN="1.7.9",lA={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lA[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const lw={};lA.transitional=function(t,n,r){function g(a,i){return"[Axios v"+AN+"] Transitional option '"+a+"'"+i+(r?". "+r:"")}return(a,i,l)=>{if(t===!1)throw new Je(g(i," has been removed"+(n?" in "+n:"")),Je.ERR_DEPRECATED);return n&&!lw[i]&&(lw[i]=!0,console.warn(g(i," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,i,l):!0}};lA.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function LT(e,t,n){if(typeof e!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let g=r.length;for(;g-- >0;){const a=r[g],i=t[a];if(i){const l=e[a],s=l===void 0||i(l,a,e);if(s!==!0)throw new Je("option "+a+" must be "+s,Je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Je("Unknown option "+a,Je.ERR_BAD_OPTION)}}const mC={assertOptions:LT,validators:lA},ag=mC.validators;class vi{constructor(t){this.defaults=t,this.interceptors={request:new $V,response:new $V}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let g={};Error.captureStackTrace?Error.captureStackTrace(g):g=new Error;const a=g.stack?g.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ji(this.defaults,n);const{transitional:r,paramsSerializer:g,headers:a}=n;r!==void 0&&mC.assertOptions(r,{silentJSONParsing:ag.transitional(ag.boolean),forcedJSONParsing:ag.transitional(ag.boolean),clarifyTimeoutError:ag.transitional(ag.boolean)},!1),g!=null&&(ee.isFunction(g)?n.paramsSerializer={serialize:g}:mC.assertOptions(g,{encode:ag.function,serialize:ag.function},!0)),mC.assertOptions(n,{baseUrl:ag.spelling("baseURL"),withXsrfToken:ag.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let i=a&&ee.merge(a.common,a[n.method]);a&&ee.forEach(["delete","get","head","post","put","patch","common"],b=>{delete a[b]}),n.headers=xn.concat(i,a);const l=[];let s=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(s=s&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let C,d=0,A;if(!s){const b=[ow.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,c),A=b.length,C=Promise.resolve(n);d<A;)C=C.then(b[d++],b[d++]);return C}A=l.length;let f=n;for(d=0;d<A;){const b=l[d++],p=l[d++];try{f=b(f)}catch(h){p.call(this,h);break}}try{C=ow.call(this,f)}catch(b){return Promise.reject(b)}for(d=0,A=c.length;d<A;)C=C.then(c[d++],c[d++]);return C}getUri(t){t=Ji(this.defaults,t);const n=sN(t.baseURL,t.url);return aN(n,t.params,t.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(t){vi.prototype[t]=function(n,r){return this.request(Ji(r||{},{method:t,url:n,data:(r||{}).data}))}});ee.forEach(["post","put","patch"],function(t){function n(r){return function(a,i,l){return this.request(Ji(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}vi.prototype[t]=n(),vi.prototype[t+"Form"]=n(!0)});class PG{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const r=this;this.promise.then(g=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](g);r._listeners=null}),this.promise.then=g=>{let a;const i=new Promise(l=>{r.subscribe(l),a=l}).then(g);return i.cancel=function(){r.unsubscribe(a)},i},t(function(a,i,l){r.reason||(r.reason=new Xl(a,i,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new PG(function(g){t=g}),cancel:t}}}function zT(e){return function(n){return e.apply(null,n)}}function UT(e){return ee.isObject(e)&&e.isAxiosError===!0}const _0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_0).forEach(([e,t])=>{_0[t]=e});function mN(e){const t=new vi(e),n=PH(vi.prototype.request,t);return ee.extend(n,vi.prototype,t,{allOwnKeys:!0}),ee.extend(n,t,null,{allOwnKeys:!0}),n.create=function(g){return mN(Ji(e,g))},n}const _t=mN(ic);_t.Axios=vi;_t.CanceledError=Xl;_t.CancelToken=PG;_t.isCancel=lN;_t.VERSION=AN;_t.toFormData=iA;_t.AxiosError=Je;_t.Cancel=_t.CanceledError;_t.all=function(t){return Promise.all(t)};_t.spread=zT;_t.isAxiosError=UT;_t.mergeConfig=Ji;_t.AxiosHeaders=xn;_t.formToJSON=e=>oN(ee.isHTMLForm(e)?new FormData(e):e);_t.getAdapter=dN.getAdapter;_t.HttpStatusCode=_0;_t.default=_t;var fN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Iw=H.createContext&&H.createContext(fN),PT=["attr","size","title"];function QT(e,t){if(e==null)return{};var n=OT(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OT(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RC(){return RC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RC.apply(this,arguments)}function sw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function kC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sw(Object(n),!0).forEach(function(r){jT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jT(e,t,n){return t=_T(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _T(e){var t=qT(e,"string");return typeof t=="symbol"?t:t+""}function qT(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pN(e){return e&&e.map((t,n)=>H.createElement(t.tag,kC({key:n},t.attr),pN(t.child)))}function hN(e){return t=>H.createElement($T,RC({attr:kC({},e.attr)},t),pN(e.child))}function $T(e){var t=n=>{var{attr:r,size:g,title:a}=e,i=QT(e,PT),l=g||n.size||"1em",s;return n.className&&(s=n.className),e.className&&(s=(s?s+" ":"")+e.className),H.createElement("svg",RC({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,i,{className:s,style:kC(kC({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&H.createElement("title",null,a),e.children)};return Iw!==void 0?H.createElement(Iw.Consumer,null,n=>t(n)):t(fN)}function fme(e){return hN({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},child:[]}]})(e)}function pme(e){return hN({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"16",r:"1"},child:[]},{tag:"rect",attr:{x:"3",y:"10",width:"18",height:"12",rx:"2"},child:[]},{tag:"path",attr:{d:"M7 10V7a5 5 0 0 1 10 0v3"},child:[]}]})(e)}function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(this,arguments)}var eL={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,smartBackspace:!0,shuffle:!1,backDelay:700,fadeOut:!1,fadeOutClass:"typed-fade-out",fadeOutDelay:500,loop:!1,loopCount:1/0,showCursor:!0,cursorChar:"|",autoInsertCss:!0,attr:null,bindInputFocusEvents:!1,contentType:"html",onBegin:function(e){},onComplete:function(e){},preStringTyped:function(e,t){},onStringTyped:function(e,t){},onLastStringBackspaced:function(e){},onTypingPaused:function(e,t){},onTypingResumed:function(e,t){},onReset:function(e){},onStop:function(e,t){},onStart:function(e,t){},onDestroy:function(e){}},tL=new(function(){function e(){}var t=e.prototype;return t.load=function(n,r,g){if(n.el=typeof g=="string"?document.querySelector(g):g,n.options=q0({},eL,r),n.isInput=n.el.tagName.toLowerCase()==="input",n.attr=n.options.attr,n.bindInputFocusEvents=n.options.bindInputFocusEvents,n.showCursor=!n.isInput&&n.options.showCursor,n.cursorChar=n.options.cursorChar,n.cursorBlinking=!0,n.elContent=n.attr?n.el.getAttribute(n.attr):n.el.textContent,n.contentType=n.options.contentType,n.typeSpeed=n.options.typeSpeed,n.startDelay=n.options.startDelay,n.backSpeed=n.options.backSpeed,n.smartBackspace=n.options.smartBackspace,n.backDelay=n.options.backDelay,n.fadeOut=n.options.fadeOut,n.fadeOutClass=n.options.fadeOutClass,n.fadeOutDelay=n.options.fadeOutDelay,n.isPaused=!1,n.strings=n.options.strings.map(function(c){return c.trim()}),n.stringsElement=typeof n.options.stringsElement=="string"?document.querySelector(n.options.stringsElement):n.options.stringsElement,n.stringsElement){n.strings=[],n.stringsElement.style.cssText="clip: rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;";var a=Array.prototype.slice.apply(n.stringsElement.children),i=a.length;if(i)for(var l=0;l<i;l+=1)n.strings.push(a[l].innerHTML.trim())}for(var s in n.strPos=0,n.currentElContent=this.getCurrentElContent(n),n.currentElContent&&n.currentElContent.length>0&&(n.strPos=n.currentElContent.length-1,n.strings.unshift(n.currentElContent)),n.sequence=[],n.strings)n.sequence[s]=s;n.arrayPos=0,n.stopNum=0,n.loop=n.options.loop,n.loopCount=n.options.loopCount,n.curLoop=0,n.shuffle=n.options.shuffle,n.pause={status:!1,typewrite:!0,curString:"",curStrPos:0},n.typingComplete=!1,n.autoInsertCss=n.options.autoInsertCss,n.autoInsertCss&&(this.appendCursorAnimationCss(n),this.appendFadeOutAnimationCss(n))},t.getCurrentElContent=function(n){return n.attr?n.el.getAttribute(n.attr):n.isInput?n.el.value:n.contentType==="html"?n.el.innerHTML:n.el.textContent},t.appendCursorAnimationCss=function(n){var r="data-typed-js-cursor-css";if(n.showCursor&&!document.querySelector("["+r+"]")){var g=document.createElement("style");g.setAttribute(r,"true"),g.innerHTML=`
        .typed-cursor{
          opacity: 1;
        }
        .typed-cursor.typed-cursor--blink{
          animation: typedjsBlink 0.7s infinite;
          -webkit-animation: typedjsBlink 0.7s infinite;
                  animation: typedjsBlink 0.7s infinite;
        }
        @keyframes typedjsBlink{
          50% { opacity: 0.0; }
        }
        @-webkit-keyframes typedjsBlink{
          0% { opacity: 1; }
          50% { opacity: 0.0; }
          100% { opacity: 1; }
        }
      `,document.body.appendChild(g)}},t.appendFadeOutAnimationCss=function(n){var r="data-typed-fadeout-js-css";if(n.fadeOut&&!document.querySelector("["+r+"]")){var g=document.createElement("style");g.setAttribute(r,"true"),g.innerHTML=`
        .typed-fade-out{
          opacity: 0;
          transition: opacity .25s;
        }
        .typed-cursor.typed-cursor--blink.typed-fade-out{
          -webkit-animation: 0;
          animation: 0;
        }
      `,document.body.appendChild(g)}},e}()),cw=new(function(){function e(){}var t=e.prototype;return t.typeHtmlChars=function(n,r,g){if(g.contentType!=="html")return r;var a=n.substring(r).charAt(0);if(a==="<"||a==="&"){var i;for(i=a==="<"?">":";";n.substring(r+1).charAt(0)!==i&&!(1+ ++r>n.length););r++}return r},t.backSpaceHtmlChars=function(n,r,g){if(g.contentType!=="html")return r;var a=n.substring(r).charAt(0);if(a===">"||a===";"){var i;for(i=a===">"?"<":"&";n.substring(r-1).charAt(0)!==i&&!(--r<0););r--}return r},e}()),nL=function(){function e(n,r){tL.load(this,r,n),this.begin()}var t=e.prototype;return t.toggle=function(){this.pause.status?this.start():this.stop()},t.stop=function(){this.typingComplete||this.pause.status||(this.toggleBlinking(!0),this.pause.status=!0,this.options.onStop(this.arrayPos,this))},t.start=function(){this.typingComplete||this.pause.status&&(this.pause.status=!1,this.pause.typewrite?this.typewrite(this.pause.curString,this.pause.curStrPos):this.backspace(this.pause.curString,this.pause.curStrPos),this.options.onStart(this.arrayPos,this))},t.destroy=function(){this.reset(!1),this.options.onDestroy(this)},t.reset=function(n){n===void 0&&(n=!0),clearInterval(this.timeout),this.replaceText(""),this.cursor&&this.cursor.parentNode&&(this.cursor.parentNode.removeChild(this.cursor),this.cursor=null),this.strPos=0,this.arrayPos=0,this.curLoop=0,n&&(this.insertCursor(),this.options.onReset(this),this.begin())},t.begin=function(){var n=this;this.options.onBegin(this),this.typingComplete=!1,this.shuffleStringsIfNeeded(this),this.insertCursor(),this.bindInputFocusEvents&&this.bindFocusEvents(),this.timeout=setTimeout(function(){n.strPos===0?n.typewrite(n.strings[n.sequence[n.arrayPos]],n.strPos):n.backspace(n.strings[n.sequence[n.arrayPos]],n.strPos)},this.startDelay)},t.typewrite=function(n,r){var g=this;this.fadeOut&&this.el.classList.contains(this.fadeOutClass)&&(this.el.classList.remove(this.fadeOutClass),this.cursor&&this.cursor.classList.remove(this.fadeOutClass));var a=this.humanizer(this.typeSpeed),i=1;this.pause.status!==!0?this.timeout=setTimeout(function(){r=cw.typeHtmlChars(n,r,g);var l=0,s=n.substring(r);if(s.charAt(0)==="^"&&/^\^\d+/.test(s)){var c=1;c+=(s=/\d+/.exec(s)[0]).length,l=parseInt(s),g.temporaryPause=!0,g.options.onTypingPaused(g.arrayPos,g),n=n.substring(0,r)+n.substring(r+c),g.toggleBlinking(!0)}if(s.charAt(0)==="`"){for(;n.substring(r+i).charAt(0)!=="`"&&(i++,!(r+i>n.length)););var C=n.substring(0,r),d=n.substring(C.length+1,r+i),A=n.substring(r+i+1);n=C+d+A,i--}g.timeout=setTimeout(function(){g.toggleBlinking(!1),r>=n.length?g.doneTyping(n,r):g.keepTyping(n,r,i),g.temporaryPause&&(g.temporaryPause=!1,g.options.onTypingResumed(g.arrayPos,g))},l)},a):this.setPauseStatus(n,r,!0)},t.keepTyping=function(n,r,g){r===0&&(this.toggleBlinking(!1),this.options.preStringTyped(this.arrayPos,this));var a=n.substring(0,r+=g);this.replaceText(a),this.typewrite(n,r)},t.doneTyping=function(n,r){var g=this;this.options.onStringTyped(this.arrayPos,this),this.toggleBlinking(!0),this.arrayPos===this.strings.length-1&&(this.complete(),this.loop===!1||this.curLoop===this.loopCount)||(this.timeout=setTimeout(function(){g.backspace(n,r)},this.backDelay))},t.backspace=function(n,r){var g=this;if(this.pause.status!==!0){if(this.fadeOut)return this.initFadeOut();this.toggleBlinking(!1);var a=this.humanizer(this.backSpeed);this.timeout=setTimeout(function(){r=cw.backSpaceHtmlChars(n,r,g);var i=n.substring(0,r);if(g.replaceText(i),g.smartBackspace){var l=g.strings[g.arrayPos+1];g.stopNum=l&&i===l.substring(0,r)?r:0}r>g.stopNum?(r--,g.backspace(n,r)):r<=g.stopNum&&(g.arrayPos++,g.arrayPos===g.strings.length?(g.arrayPos=0,g.options.onLastStringBackspaced(),g.shuffleStringsIfNeeded(),g.begin()):g.typewrite(g.strings[g.sequence[g.arrayPos]],r))},a)}else this.setPauseStatus(n,r,!1)},t.complete=function(){this.options.onComplete(this),this.loop?this.curLoop++:this.typingComplete=!0},t.setPauseStatus=function(n,r,g){this.pause.typewrite=g,this.pause.curString=n,this.pause.curStrPos=r},t.toggleBlinking=function(n){this.cursor&&(this.pause.status||this.cursorBlinking!==n&&(this.cursorBlinking=n,n?this.cursor.classList.add("typed-cursor--blink"):this.cursor.classList.remove("typed-cursor--blink")))},t.humanizer=function(n){return Math.round(Math.random()*n/2)+n},t.shuffleStringsIfNeeded=function(){this.shuffle&&(this.sequence=this.sequence.sort(function(){return Math.random()-.5}))},t.initFadeOut=function(){var n=this;return this.el.className+=" "+this.fadeOutClass,this.cursor&&(this.cursor.className+=" "+this.fadeOutClass),setTimeout(function(){n.arrayPos++,n.replaceText(""),n.strings.length>n.arrayPos?n.typewrite(n.strings[n.sequence[n.arrayPos]],0):(n.typewrite(n.strings[0],0),n.arrayPos=0)},this.fadeOutDelay)},t.replaceText=function(n){this.attr?this.el.setAttribute(this.attr,n):this.isInput?this.el.value=n:this.contentType==="html"?this.el.innerHTML=n:this.el.textContent=n},t.bindFocusEvents=function(){var n=this;this.isInput&&(this.el.addEventListener("focus",function(r){n.stop()}),this.el.addEventListener("blur",function(r){n.el.value&&n.el.value.length!==0||n.start()}))},t.insertCursor=function(){this.showCursor&&(this.cursor||(this.cursor=document.createElement("span"),this.cursor.className="typed-cursor",this.cursor.setAttribute("aria-hidden",!0),this.cursor.innerHTML=this.cursorChar,this.el.parentNode&&this.el.parentNode.insertBefore(this.cursor,this.el.nextSibling)))},e}();const hme=J.memo(({style:e,className:t,typedRef:n,parseRef:r,stopped:g,children:a,startWhenVisible:i,...l})=>{const s=J.useRef(null),c=J.useMemo(()=>{var d;return[...Object.values(l).filter(A=>typeof A=="boolean"||typeof A=="number"||typeof A=="string"),(d=l.strings)==null?void 0:d.join(",")]},[l]);J.useEffect(()=>{const d=r&&r(s)||s.current,A=new nL(d,{...l});if((g||i)&&(A==null||A.stop()),i){const f=new IntersectionObserver(([b])=>{b.isIntersecting&&(A==null||A.start(),f.disconnect())});f.observe(d)}return n&&A&&n(A),()=>{A.destroy()}},c);const C=a?H.cloneElement(a,{ref:s}):H.createElement("span",{style:e,ref:s});return H.createElement("span",{style:e,className:t,"data-testid":"react-typed"},C)});/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bN=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=J.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:g="",children:a,iconNode:i,...l},s)=>J.createElement("svg",{ref:s,...gL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:bN("lucide",g),...l},[...i.map(([c,C])=>J.createElement(c,C)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=(e,t)=>{const n=J.forwardRef(({className:r,...g},a)=>J.createElement(aL,{ref:a,iconNode:t,className:bN(`lucide-${rL(e)}`,r),...g}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],bme=et("AlignJustify",iL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],yme=et("ArrowUpDown",oL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Zme=et("BookOpen",lL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Gme=et("CalendarClock",IL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Bme=et("Calendar",sL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],vme=et("Camera",cL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Sme=et("Check",uL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wme=et("ChevronDown",CL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vme=et("ChevronLeft",dL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wme=et("ChevronRight",AL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rme=et("CircleAlert",mL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kme=et("CircleCheckBig",fL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Xme=et("CircleUser",pL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Jme=et("CircleX",hL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Yme=et("Clock",bL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Hme=et("Download",yL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Nme=et("FileCheck",ZL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fme=et("FileText",GL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Kme=et("File",BL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vL=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]],xme=et("FolderDown",vL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Eme=et("LoaderCircle",SL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Mme=et("LogOut",WL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dme=et("MapPin",VL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Tme=et("Pen",wL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lme=et("Plus",RL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],zme=et("Search",kL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ume=et("Trash2",XL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pme=et("TriangleAlert",JL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Qme=et("Upload",YL);/**
 * @license lucide-react v0.471.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ome=et("X",HL);/*!
* sweetalert2 v11.15.10
* Released under the MIT License.
*/function yN(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function NL(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uw(e,t){return e.get(yN(e,t))}function FL(e,t,n){NL(e,t),t.set(e,n)}function KL(e,t,n){return e.set(yN(e,t),n),n}const xL=100,Se={},EL=()=>{Se.previousActiveElement instanceof HTMLElement?(Se.previousActiveElement.focus(),Se.previousActiveElement=null):document.body&&document.body.focus()},ML=e=>new Promise(t=>{if(!e)return t();const n=window.scrollX,r=window.scrollY;Se.restoreFocusTimeout=setTimeout(()=>{EL(),t()},xL),window.scrollTo(n,r)}),ZN="swal2-",DL=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],$=DL.reduce((e,t)=>(e[t]=ZN+t,e),{}),TL=["success","warning","info","question","error"],XC=TL.reduce((e,t)=>(e[t]=ZN+t,e),{}),GN="SweetAlert2:",QG=e=>e.charAt(0).toUpperCase()+e.slice(1),Dn=e=>{console.warn(`${GN} ${typeof e=="object"?e.join(" "):e}`)},Ti=e=>{console.error(`${GN} ${e}`)},Cw=[],LL=e=>{Cw.includes(e)||(Cw.push(e),Dn(e))},BN=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;LL(`"${e}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},IA=e=>typeof e=="function"?e():e,OG=e=>e&&typeof e.toPromise=="function",oc=e=>OG(e)?e.toPromise():Promise.resolve(e),jG=e=>e&&Promise.resolve(e)===e,Tn=()=>document.body.querySelector(`.${$.container}`),lc=e=>{const t=Tn();return t?t.querySelector(e):null},or=e=>lc(`.${e}`),Ue=()=>or($.popup),Jl=()=>or($.icon),zL=()=>or($["icon-content"]),vN=()=>or($.title),_G=()=>or($["html-container"]),SN=()=>or($.image),qG=()=>or($["progress-steps"]),sA=()=>or($["validation-message"]),Bg=()=>lc(`.${$.actions} .${$.confirm}`),Yl=()=>lc(`.${$.actions} .${$.cancel}`),Li=()=>lc(`.${$.actions} .${$.deny}`),UL=()=>or($["input-label"]),Hl=()=>lc(`.${$.loader}`),Ic=()=>or($.actions),WN=()=>or($.footer),cA=()=>or($["timer-progress-bar"]),$G=()=>or($.close),PL=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,eB=()=>{const e=Ue();if(!e)return[];const t=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(t).sort((a,i)=>{const l=parseInt(a.getAttribute("tabindex")||"0"),s=parseInt(i.getAttribute("tabindex")||"0");return l>s?1:l<s?-1:0}),r=e.querySelectorAll(PL),g=Array.from(r).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(g))].filter(a=>En(a))},tB=()=>Pg(document.body,$.shown)&&!Pg(document.body,$["toast-shown"])&&!Pg(document.body,$["no-backdrop"]),uA=()=>{const e=Ue();return e?Pg(e,$.toast):!1},QL=()=>{const e=Ue();return e?e.hasAttribute("data-loading"):!1},lr=(e,t)=>{if(e.textContent="",t){const r=new DOMParser().parseFromString(t,"text/html"),g=r.querySelector("head");g&&Array.from(g.childNodes).forEach(i=>{e.appendChild(i)});const a=r.querySelector("body");a&&Array.from(a.childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?e.appendChild(i.cloneNode(!0)):e.appendChild(i)})}},Pg=(e,t)=>{if(!t)return!1;const n=t.split(/\s+/);for(let r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},OL=(e,t)=>{Array.from(e.classList).forEach(n=>{!Object.values($).includes(n)&&!Object.values(XC).includes(n)&&!Object.values(t.showClass||{}).includes(n)&&e.classList.remove(n)})},ar=(e,t,n)=>{if(OL(e,t),!t.customClass)return;const r=t.customClass[n];if(r){if(typeof r!="string"&&!r.forEach){Dn(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof r}"`);return}De(e,r)}},CA=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(`.${$.popup} > .${$[t]}`);case"checkbox":return e.querySelector(`.${$.popup} > .${$.checkbox} input`);case"radio":return e.querySelector(`.${$.popup} > .${$.radio} input:checked`)||e.querySelector(`.${$.popup} > .${$.radio} input:first-child`);case"range":return e.querySelector(`.${$.popup} > .${$.range} input`);default:return e.querySelector(`.${$.popup} > .${$.input}`)}},VN=e=>{if(e.focus(),e.type!=="file"){const t=e.value;e.value="",e.value=t}},wN=(e,t,n)=>{!e||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(r=>{Array.isArray(e)?e.forEach(g=>{n?g.classList.add(r):g.classList.remove(r)}):n?e.classList.add(r):e.classList.remove(r)}))},De=(e,t)=>{wN(e,t,!0)},Br=(e,t)=>{wN(e,t,!1)},Na=(e,t)=>{const n=Array.from(e.children);for(let r=0;r<n.length;r++){const g=n[r];if(g instanceof HTMLElement&&Pg(g,t))return g}},Si=(e,t,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?e.style.setProperty(t,typeof n=="number"?`${n}px`:n):e.style.removeProperty(t)},gn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";e&&(e.style.display=t)},Gn=e=>{e&&(e.style.display="none")},nB=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";e&&new MutationObserver(()=>{sc(e,e.innerHTML,t)}).observe(e,{childList:!0,subtree:!0})},dw=(e,t,n,r)=>{const g=e.querySelector(t);g&&g.style.setProperty(n,r)},sc=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?gn(e,n):Gn(e)},En=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),jL=()=>!En(Bg())&&!En(Li())&&!En(Yl()),Aw=e=>e.scrollHeight>e.clientHeight,RN=e=>{const t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},rB=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=cA();n&&En(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${e/1e3}s linear`,n.style.width="0%"},10))},_L=()=>{const e=cA();if(!e)return;const t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const n=parseInt(window.getComputedStyle(e).width),r=t/n*100;e.style.width=`${r}%`},qL=()=>typeof window>"u"||typeof document>"u",$L=`
 <div aria-labelledby="${$.title}" aria-describedby="${$["html-container"]}" class="${$.popup}" tabindex="-1">
   <button type="button" class="${$.close}"></button>
   <ul class="${$["progress-steps"]}"></ul>
   <div class="${$.icon}"></div>
   <img class="${$.image}" />
   <h2 class="${$.title}" id="${$.title}"></h2>
   <div class="${$["html-container"]}" id="${$["html-container"]}"></div>
   <input class="${$.input}" id="${$.input}" />
   <input type="file" class="${$.file}" />
   <div class="${$.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${$.select}" id="${$.select}"></select>
   <div class="${$.radio}"></div>
   <label class="${$.checkbox}">
     <input type="checkbox" id="${$.checkbox}" />
     <span class="${$.label}"></span>
   </label>
   <textarea class="${$.textarea}" id="${$.textarea}"></textarea>
   <div class="${$["validation-message"]}" id="${$["validation-message"]}"></div>
   <div class="${$.actions}">
     <div class="${$.loader}"></div>
     <button type="button" class="${$.confirm}"></button>
     <button type="button" class="${$.deny}"></button>
     <button type="button" class="${$.cancel}"></button>
   </div>
   <div class="${$.footer}"></div>
   <div class="${$["timer-progress-bar-container"]}">
     <div class="${$["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),ez=()=>{const e=Tn();return e?(e.remove(),Br([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},Ci=()=>{Se.currentInstance.resetValidationMessage()},tz=()=>{const e=Ue(),t=Na(e,$.input),n=Na(e,$.file),r=e.querySelector(`.${$.range} input`),g=e.querySelector(`.${$.range} output`),a=Na(e,$.select),i=e.querySelector(`.${$.checkbox} input`),l=Na(e,$.textarea);t.oninput=Ci,n.onchange=Ci,a.onchange=Ci,i.onchange=Ci,l.oninput=Ci,r.oninput=()=>{Ci(),g.value=r.value},r.onchange=()=>{Ci(),g.value=r.value}},nz=e=>typeof e=="string"?document.querySelector(e):e,rz=e=>{const t=Ue();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")},gz=e=>{window.getComputedStyle(e).direction==="rtl"&&De(Tn(),$.rtl)},az=e=>{const t=ez();if(qL()){Ti("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=$.container,t&&De(n,$["no-transition"]),lr(n,$L);const r=nz(e.target);r.appendChild(n),rz(e),gz(r),tz()},gB=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):typeof e=="object"?iz(e,t):e&&lr(t,e)},iz=(e,t)=>{e.jquery?oz(t,e):lr(t,e.toString())},oz=(e,t)=>{if(e.textContent="",0 in t)for(let n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},lz=(e,t)=>{const n=Ic(),r=Hl();!n||!r||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?Gn(n):gn(n),ar(n,t,"actions"),Iz(n,r,t),lr(r,t.loaderHtml||""),ar(r,t,"loader"))};function Iz(e,t,n){const r=Bg(),g=Li(),a=Yl();!r||!g||!a||(vp(r,"confirm",n),vp(g,"deny",n),vp(a,"cancel",n),sz(r,g,a,n),n.reverseButtons&&(n.toast?(e.insertBefore(a,r),e.insertBefore(g,r)):(e.insertBefore(a,t),e.insertBefore(g,t),e.insertBefore(r,t))))}function sz(e,t,n,r){if(!r.buttonsStyling){Br([e,t,n],$.styled);return}De([e,t,n],$.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,De(e,$["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,De(t,$["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,De(n,$["default-outline"]))}function vp(e,t,n){const r=QG(t);sc(e,n[`show${r}Button`],"inline-block"),lr(e,n[`${t}ButtonText`]||""),e.setAttribute("aria-label",n[`${t}ButtonAriaLabel`]||""),e.className=$[t],ar(e,n,`${t}Button`)}const cz=(e,t)=>{const n=$G();n&&(lr(n,t.closeButtonHtml||""),ar(n,t,"closeButton"),sc(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel||""))},uz=(e,t)=>{const n=Tn();n&&(Cz(n,t.backdrop),dz(n,t.position),Az(n,t.grow),ar(n,t,"container"))};function Cz(e,t){typeof t=="string"?e.style.background=t:t||De([document.documentElement,document.body],$["no-backdrop"])}function dz(e,t){t&&(t in $?De(e,$[t]):(Dn('The "position" parameter is not valid, defaulting to "center"'),De(e,$.center)))}function Az(e,t){t&&De(e,$[`grow-${t}`])}var mt={innerParams:new WeakMap,domCache:new WeakMap};const mz=["input","file","range","select","radio","checkbox","textarea"],fz=(e,t)=>{const n=Ue();if(!n)return;const r=mt.innerParams.get(e),g=!r||t.input!==r.input;mz.forEach(a=>{const i=Na(n,$[a]);i&&(bz(a,t.inputAttributes),i.className=$[a],g&&Gn(i))}),t.input&&(g&&pz(t),yz(t))},pz=e=>{if(!e.input)return;if(!Ft[e.input]){Ti(`Unexpected type of input! Expected ${Object.keys(Ft).join(" | ")}, got "${e.input}"`);return}const t=kN(e.input);if(!t)return;const n=Ft[e.input](t,e);gn(t),e.inputAutoFocus&&setTimeout(()=>{VN(n)})},hz=e=>{for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t].name;["id","type","value","style"].includes(n)||e.removeAttribute(n)}},bz=(e,t)=>{const n=Ue();if(!n)return;const r=CA(n,e);if(r){hz(r);for(const g in t)r.setAttribute(g,t[g])}},yz=e=>{if(!e.input)return;const t=kN(e.input);t&&ar(t,e,"input")},aB=(e,t)=>{!e.placeholder&&t.inputPlaceholder&&(e.placeholder=t.inputPlaceholder)},cc=(e,t,n)=>{if(n.inputLabel){const r=document.createElement("label"),g=$["input-label"];r.setAttribute("for",e.id),r.className=g,typeof n.customClass=="object"&&De(r,n.customClass.inputLabel),r.innerText=n.inputLabel,t.insertAdjacentElement("beforebegin",r)}},kN=e=>{const t=Ue();if(t)return Na(t,$[e]||$.input)},JC=(e,t)=>{["string","number"].includes(typeof t)?e.value=`${t}`:jG(t)||Dn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Ft={};Ft.text=Ft.email=Ft.password=Ft.number=Ft.tel=Ft.url=Ft.search=Ft.date=Ft["datetime-local"]=Ft.time=Ft.week=Ft.month=(e,t)=>(JC(e,t.inputValue),cc(e,e,t),aB(e,t),e.type=t.input,e);Ft.file=(e,t)=>(cc(e,e,t),aB(e,t),e);Ft.range=(e,t)=>{const n=e.querySelector("input"),r=e.querySelector("output");return JC(n,t.inputValue),n.type=t.input,JC(r,t.inputValue),cc(n,e,t),e};Ft.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const n=document.createElement("option");lr(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return cc(e,e,t),e};Ft.radio=e=>(e.textContent="",e);Ft.checkbox=(e,t)=>{const n=CA(Ue(),"checkbox");n.value="1",n.checked=!!t.inputValue;const r=e.querySelector("span");return lr(r,t.inputPlaceholder||t.inputLabel),n};Ft.textarea=(e,t)=>{JC(e,t.inputValue),aB(e,t),cc(e,e,t);const n=r=>parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const r=parseInt(window.getComputedStyle(Ue()).width),g=()=>{if(!document.body.contains(e))return;const a=e.offsetWidth+n(e);a>r?Ue().style.width=`${a}px`:Si(Ue(),"width",t.width)};new MutationObserver(g).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};const Zz=(e,t)=>{const n=_G();n&&(nB(n),ar(n,t,"htmlContainer"),t.html?(gB(t.html,n),gn(n,"block")):t.text?(n.textContent=t.text,gn(n,"block")):Gn(n),fz(e,t))},Gz=(e,t)=>{const n=WN();n&&(nB(n),sc(n,t.footer,"block"),t.footer&&gB(t.footer,n),ar(n,t,"footer"))},Bz=(e,t)=>{const n=mt.innerParams.get(e),r=Jl();if(r){if(n&&t.icon===n.icon){fw(r,t),mw(r,t);return}if(!t.icon&&!t.iconHtml){Gn(r);return}if(t.icon&&Object.keys(XC).indexOf(t.icon)===-1){Ti(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),Gn(r);return}gn(r),fw(r,t),mw(r,t),De(r,t.showClass&&t.showClass.icon)}},mw=(e,t)=>{for(const[n,r]of Object.entries(XC))t.icon!==n&&Br(e,r);De(e,t.icon&&XC[t.icon]),Vz(e,t),vz(),ar(e,t,"icon")},vz=()=>{const e=Ue();if(!e)return;const t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=t},Sz=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Wz=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,fw=(e,t)=>{if(!t.icon&&!t.iconHtml)return;let n=e.innerHTML,r="";t.iconHtml?r=pw(t.iconHtml):t.icon==="success"?(r=Sz,n=n.replace(/ style=".*?"/g,"")):t.icon==="error"?r=Wz:t.icon&&(r=pw({question:"?",warning:"!",info:"i"}[t.icon])),n.trim()!==r.trim()&&lr(e,r)},Vz=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dw(e,n,"background-color",t.iconColor);dw(e,".swal2-success-ring","border-color",t.iconColor)}},pw=e=>`<div class="${$["icon-content"]}">${e}</div>`,wz=(e,t)=>{const n=SN();if(n){if(!t.imageUrl){Gn(n);return}gn(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt||""),Si(n,"width",t.imageWidth),Si(n,"height",t.imageHeight),n.className=$.image,ar(n,t,"image")}};let iB=!1,XN=0,JN=0,YN=0,HN=0;const Rz=e=>{e.addEventListener("mousedown",YC),document.body.addEventListener("mousemove",HC),e.addEventListener("mouseup",NC),e.addEventListener("touchstart",YC),document.body.addEventListener("touchmove",HC),e.addEventListener("touchend",NC)},kz=e=>{e.removeEventListener("mousedown",YC),document.body.removeEventListener("mousemove",HC),e.removeEventListener("mouseup",NC),e.removeEventListener("touchstart",YC),document.body.removeEventListener("touchmove",HC),e.removeEventListener("touchend",NC)},YC=e=>{const t=Ue();if(e.target===t||Jl().contains(e.target)){iB=!0;const n=NN(e);XN=n.clientX,JN=n.clientY,YN=parseInt(t.style.insetInlineStart)||0,HN=parseInt(t.style.insetBlockStart)||0,De(t,"swal2-dragging")}},HC=e=>{const t=Ue();if(iB){let{clientX:n,clientY:r}=NN(e);t.style.insetInlineStart=`${YN+(n-XN)}px`,t.style.insetBlockStart=`${HN+(r-JN)}px`}},NC=()=>{const e=Ue();iB=!1,Br(e,"swal2-dragging")},NN=e=>{let t=0,n=0;return e.type.startsWith("mouse")?(t=e.clientX,n=e.clientY):e.type.startsWith("touch")&&(t=e.touches[0].clientX,n=e.touches[0].clientY),{clientX:t,clientY:n}},Xz=(e,t)=>{const n=Tn(),r=Ue();if(!(!n||!r)){if(t.toast){Si(n,"width",t.width),r.style.width="100%";const g=Hl();g&&r.insertBefore(g,Jl())}else Si(r,"width",t.width);Si(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),Gn(sA()),Jz(r,t),t.draggable&&!t.toast?(De(r,$.draggable),Rz(r)):(Br(r,$.draggable),kz(r))}},Jz=(e,t)=>{const n=t.showClass||{};e.className=`${$.popup} ${En(e)?n.popup:""}`,t.toast?(De([document.documentElement,document.body],$["toast-shown"]),De(e,$.toast)):De(e,$.modal),ar(e,t,"popup"),typeof t.customClass=="string"&&De(e,t.customClass),t.icon&&De(e,$[`icon-${t.icon}`])},Yz=(e,t)=>{const n=qG();if(!n)return;const{progressSteps:r,currentProgressStep:g}=t;if(!r||r.length===0||g===void 0){Gn(n);return}gn(n),n.textContent="",g>=r.length&&Dn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),r.forEach((a,i)=>{const l=Hz(a);if(n.appendChild(l),i===g&&De(l,$["active-progress-step"]),i!==r.length-1){const s=Nz(t);n.appendChild(s)}})},Hz=e=>{const t=document.createElement("li");return De(t,$["progress-step"]),lr(t,e),t},Nz=e=>{const t=document.createElement("li");return De(t,$["progress-step-line"]),e.progressStepsDistance&&Si(t,"width",e.progressStepsDistance),t},Fz=(e,t)=>{const n=vN();n&&(nB(n),sc(n,t.title||t.titleText,"block"),t.title&&gB(t.title,n),t.titleText&&(n.innerText=t.titleText),ar(n,t,"title"))},FN=(e,t)=>{Xz(e,t),uz(e,t),Yz(e,t),Bz(e,t),wz(e,t),Fz(e,t),cz(e,t),Zz(e,t),lz(e,t),Gz(e,t);const n=Ue();typeof t.didRender=="function"&&n&&t.didRender(n),Se.eventEmitter.emit("didRender",n)},Kz=()=>En(Ue()),KN=()=>{var e;return(e=Bg())===null||e===void 0?void 0:e.click()},xz=()=>{var e;return(e=Li())===null||e===void 0?void 0:e.click()},Ez=()=>{var e;return(e=Yl())===null||e===void 0?void 0:e.click()},Nl=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),xN=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Mz=(e,t,n)=>{xN(e),t.toast||(e.keydownHandler=r=>Tz(t,r,n),e.keydownTarget=t.keydownListenerCapture?window:Ue(),e.keydownListenerCapture=t.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},$0=(e,t)=>{var n;const r=eB();if(r.length){e=e+t,e===r.length?e=0:e===-1&&(e=r.length-1),r[e].focus();return}(n=Ue())===null||n===void 0||n.focus()},EN=["ArrowRight","ArrowDown"],Dz=["ArrowLeft","ArrowUp"],Tz=(e,t,n)=>{e&&(t.isComposing||t.keyCode===229||(e.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?Lz(t,e):t.key==="Tab"?zz(t):[...EN,...Dz].includes(t.key)?Uz(t.key):t.key==="Escape"&&Pz(t,e,n)))},Lz=(e,t)=>{if(!IA(t.allowEnterKey))return;const n=CA(Ue(),t.input);if(e.target&&n&&e.target instanceof HTMLElement&&e.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(t.input))return;KN(),e.preventDefault()}},zz=e=>{const t=e.target,n=eB();let r=-1;for(let g=0;g<n.length;g++)if(t===n[g]){r=g;break}e.shiftKey?$0(r,-1):$0(r,1),e.stopPropagation(),e.preventDefault()},Uz=e=>{const t=Ic(),n=Bg(),r=Li(),g=Yl();if(!t||!n||!r||!g)return;const a=[n,r,g];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const i=EN.includes(e)?"nextElementSibling":"previousElementSibling";let l=document.activeElement;if(l){for(let s=0;s<t.children.length;s++){if(l=l[i],!l)return;if(l instanceof HTMLButtonElement&&En(l))break}l instanceof HTMLButtonElement&&l.focus()}},Pz=(e,t,n)=>{IA(t.allowEscapeKey)&&(e.preventDefault(),n(Nl.esc))};var Oo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Qz=()=>{const e=Tn();Array.from(document.body.children).forEach(n=>{n.contains(e)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},MN=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},DN=typeof window<"u"&&!!window.GestureEvent,Oz=()=>{if(DN&&!Pg(document.body,$.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,De(document.body,$.iosfix),jz()}},jz=()=>{const e=Tn();if(!e)return;let t;e.ontouchstart=n=>{t=_z(n)},e.ontouchmove=n=>{t&&(n.preventDefault(),n.stopPropagation())}},_z=e=>{const t=e.target,n=Tn(),r=_G();return!n||!r||qz(e)||$z(e)?!1:t===n||!Aw(n)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Aw(r)&&r.contains(t))},qz=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",$z=e=>e.touches&&e.touches.length>1,eU=()=>{if(Pg(document.body,$.iosfix)){const e=parseInt(document.body.style.top,10);Br(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}},tU=()=>{const e=document.createElement("div");e.className=$["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t};let Ko=null;const nU=e=>{Ko===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Ko=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ko+tU()}px`)},rU=()=>{Ko!==null&&(document.body.style.paddingRight=`${Ko}px`,Ko=null)};function TN(e,t,n,r){uA()?hw(e,r):(ML(n).then(()=>hw(e,r)),xN(Se)),DN?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),tB()&&(rU(),eU(),MN()),gU()}function gU(){Br([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function Fa(e){e=iU(e);const t=Oo.swalPromiseResolve.get(this),n=aU(this);this.isAwaitingPromise?e.isDismissed||(uc(this),t(e)):n&&t(e)}const aU=e=>{const t=Ue();if(!t)return!1;const n=mt.innerParams.get(e);if(!n||Pg(t,n.hideClass.popup))return!1;Br(t,n.showClass.popup),De(t,n.hideClass.popup);const r=Tn();return Br(r,n.showClass.backdrop),De(r,n.hideClass.backdrop),oU(e,t,n),!0};function LN(e){const t=Oo.swalPromiseReject.get(this);uc(this),t&&t(e)}const uc=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,mt.innerParams.get(e)||e._destroy())},iU=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),oU=(e,t,n)=>{var r;const g=Tn(),a=RN(t);typeof n.willClose=="function"&&n.willClose(t),(r=Se.eventEmitter)===null||r===void 0||r.emit("willClose",t),a?lU(e,t,g,n.returnFocus,n.didClose):TN(e,g,n.returnFocus,n.didClose)},lU=(e,t,n,r,g)=>{Se.swalCloseEventFinishedCallback=TN.bind(null,e,n,r,g);const a=function(i){if(i.target===t){var l;(l=Se.swalCloseEventFinishedCallback)===null||l===void 0||l.call(Se),delete Se.swalCloseEventFinishedCallback,t.removeEventListener("animationend",a),t.removeEventListener("transitionend",a)}};t.addEventListener("animationend",a),t.addEventListener("transitionend",a)},hw=(e,t)=>{setTimeout(()=>{var n;typeof t=="function"&&t.bind(e.params)(),(n=Se.eventEmitter)===null||n===void 0||n.emit("didClose"),e._destroy&&e._destroy()})},jo=e=>{let t=Ue();if(t||new tZ,t=Ue(),!t)return;const n=Hl();uA()?Gn(Jl()):IU(t,e),gn(n),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},IU=(e,t)=>{const n=Ic(),r=Hl();!n||!r||(!t&&En(Bg())&&(t=Bg()),gn(n),t&&(Gn(t),r.setAttribute("data-button-to-replace",t.className),n.insertBefore(r,t)),De([e,n],$.loading))},sU=(e,t)=>{t.input==="select"||t.input==="radio"?AU(e,t):["text","email","number","tel","textarea"].some(n=>n===t.input)&&(OG(t.inputValue)||jG(t.inputValue))&&(jo(Bg()),mU(e,t))},cU=(e,t)=>{const n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return uU(n);case"radio":return CU(n);case"file":return dU(n);default:return t.inputAutoTrim?n.value.trim():n.value}},uU=e=>e.checked?1:0,CU=e=>e.checked?e.value:null,dU=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,AU=(e,t)=>{const n=Ue();if(!n)return;const r=g=>{t.input==="select"?fU(n,FC(g),t):t.input==="radio"&&pU(n,FC(g),t)};OG(t.inputOptions)||jG(t.inputOptions)?(jo(Bg()),oc(t.inputOptions).then(g=>{e.hideLoading(),r(g)})):typeof t.inputOptions=="object"?r(t.inputOptions):Ti(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},mU=(e,t)=>{const n=e.getInput();n&&(Gn(n),oc(t.inputValue).then(r=>{n.value=t.input==="number"?`${parseFloat(r)||0}`:`${r}`,gn(n),n.focus(),e.hideLoading()}).catch(r=>{Ti(`Error in inputValue promise: ${r}`),n.value="",gn(n),n.focus(),e.hideLoading()}))};function fU(e,t,n){const r=Na(e,$.select);if(!r)return;const g=(a,i,l)=>{const s=document.createElement("option");s.value=l,lr(s,i),s.selected=zN(l,n.inputValue),a.appendChild(s)};t.forEach(a=>{const i=a[0],l=a[1];if(Array.isArray(l)){const s=document.createElement("optgroup");s.label=i,s.disabled=!1,r.appendChild(s),l.forEach(c=>g(s,c[1],c[0]))}else g(r,l,i)}),r.focus()}function pU(e,t,n){const r=Na(e,$.radio);if(!r)return;t.forEach(a=>{const i=a[0],l=a[1],s=document.createElement("input"),c=document.createElement("label");s.type="radio",s.name=$.radio,s.value=i,zN(i,n.inputValue)&&(s.checked=!0);const C=document.createElement("span");lr(C,l),C.className=$.label,c.appendChild(s),c.appendChild(C),r.appendChild(c)});const g=r.querySelectorAll("input");g.length&&g[0].focus()}const FC=e=>{const t=[];return e instanceof Map?e.forEach((n,r)=>{let g=n;typeof g=="object"&&(g=FC(g)),t.push([r,g])}):Object.keys(e).forEach(n=>{let r=e[n];typeof r=="object"&&(r=FC(r)),t.push([n,r])}),t},zN=(e,t)=>!!t&&t.toString()===e.toString(),hU=e=>{const t=mt.innerParams.get(e);e.disableButtons(),t.input?UN(e,"confirm"):lB(e,!0)},bU=e=>{const t=mt.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?UN(e,"deny"):oB(e,!1)},yU=(e,t)=>{e.disableButtons(),t(Nl.cancel)},UN=(e,t)=>{const n=mt.innerParams.get(e);if(!n.input){Ti(`The "input" parameter is needed to be set when using returnInputValueOn${QG(t)}`);return}const r=e.getInput(),g=cU(e,n);n.inputValidator?ZU(e,g,t):r&&!r.checkValidity()?(e.enableButtons(),e.showValidationMessage(n.validationMessage||r.validationMessage)):t==="deny"?oB(e,g):lB(e,g)},ZU=(e,t,n)=>{const r=mt.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>oc(r.inputValidator(t,r.validationMessage))).then(a=>{e.enableButtons(),e.enableInput(),a?e.showValidationMessage(a):n==="deny"?oB(e,t):lB(e,t)})},oB=(e,t)=>{const n=mt.innerParams.get(e||void 0);n.showLoaderOnDeny&&jo(Li()),n.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>oc(n.preDeny(t,n.validationMessage))).then(g=>{g===!1?(e.hideLoading(),uc(e)):e.close({isDenied:!0,value:typeof g>"u"?t:g})}).catch(g=>PN(e||void 0,g))):e.close({isDenied:!0,value:t})},bw=(e,t)=>{e.close({isConfirmed:!0,value:t})},PN=(e,t)=>{e.rejectPromise(t)},lB=(e,t)=>{const n=mt.innerParams.get(e||void 0);n.showLoaderOnConfirm&&jo(),n.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>oc(n.preConfirm(t,n.validationMessage))).then(g=>{En(sA())||g===!1?(e.hideLoading(),uc(e)):bw(e,typeof g>"u"?t:g)}).catch(g=>PN(e||void 0,g))):bw(e,t)};function KC(){const e=mt.innerParams.get(this);if(!e)return;const t=mt.domCache.get(this);Gn(t.loader),uA()?e.icon&&gn(Jl()):GU(t),Br([t.popup,t.actions],$.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const GU=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?gn(t[0],"inline-block"):jL()&&Gn(e.actions)};function QN(){const e=mt.innerParams.get(this),t=mt.domCache.get(this);return t?CA(t.popup,e.input):null}function ON(e,t,n){const r=mt.domCache.get(e);t.forEach(g=>{r[g].disabled=n})}function jN(e,t){const n=Ue();if(!(!n||!e))if(e.type==="radio"){const r=n.querySelectorAll(`[name="${$.radio}"]`);for(let g=0;g<r.length;g++)r[g].disabled=t}else e.disabled=t}function _N(){ON(this,["confirmButton","denyButton","cancelButton"],!1)}function qN(){ON(this,["confirmButton","denyButton","cancelButton"],!0)}function $N(){jN(this.getInput(),!1)}function eF(){jN(this.getInput(),!0)}function tF(e){const t=mt.domCache.get(this),n=mt.innerParams.get(this);lr(t.validationMessage,e),t.validationMessage.className=$["validation-message"],n.customClass&&n.customClass.validationMessage&&De(t.validationMessage,n.customClass.validationMessage),gn(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid","true"),r.setAttribute("aria-describedby",$["validation-message"]),VN(r),De(r,$.inputerror))}function nF(){const e=mt.domCache.get(this);e.validationMessage&&Gn(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Br(t,$.inputerror))}const xo={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},BU=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],vU={allowEnterKey:void 0},SU=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],rF=e=>Object.prototype.hasOwnProperty.call(xo,e),gF=e=>BU.indexOf(e)!==-1,aF=e=>vU[e],WU=e=>{rF(e)||Dn(`Unknown parameter "${e}"`)},VU=e=>{SU.includes(e)&&Dn(`The parameter "${e}" is incompatible with toasts`)},wU=e=>{const t=aF(e);t&&BN(e,t)},RU=e=>{e.backdrop===!1&&e.allowOutsideClick&&Dn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)WU(t),e.toast&&VU(t),wU(t)};function iF(e){const t=Ue(),n=mt.innerParams.get(this);if(!t||Pg(t,n.hideClass.popup)){Dn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const r=kU(e),g=Object.assign({},n,r);FN(this,g),mt.innerParams.set(this,g),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}const kU=e=>{const t={};return Object.keys(e).forEach(n=>{gF(n)?t[n]=e[n]:Dn(`Invalid parameter to update: ${n}`)}),t};function oF(){const e=mt.domCache.get(this),t=mt.innerParams.get(this);if(!t){lF(this);return}e.popup&&Se.swalCloseEventFinishedCallback&&(Se.swalCloseEventFinishedCallback(),delete Se.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Se.eventEmitter.emit("didDestroy"),XU(this)}const XU=e=>{lF(e),delete e.params,delete Se.keydownHandler,delete Se.keydownTarget,delete Se.currentInstance},lF=e=>{e.isAwaitingPromise?(Sp(mt,e),e.isAwaitingPromise=!0):(Sp(Oo,e),Sp(mt,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},Sp=(e,t)=>{for(const n in e)e[n].delete(t)};var JU=Object.freeze({__proto__:null,_destroy:oF,close:Fa,closeModal:Fa,closePopup:Fa,closeToast:Fa,disableButtons:qN,disableInput:eF,disableLoading:KC,enableButtons:_N,enableInput:$N,getInput:QN,handleAwaitingPromise:uc,hideLoading:KC,rejectPromise:LN,resetValidationMessage:nF,showValidationMessage:tF,update:iF});const YU=(e,t,n)=>{e.toast?HU(e,t,n):(FU(t),KU(t),xU(e,t,n))},HU=(e,t,n)=>{t.popup.onclick=()=>{e&&(NU(e)||e.timer||e.input)||n(Nl.close)}},NU=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton);let xC=!1;const FU=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=()=>{},t.target===e.container&&(xC=!0)}}},KU=e=>{e.container.onmousedown=t=>{t.target===e.container&&t.preventDefault(),e.popup.onmouseup=function(n){e.popup.onmouseup=()=>{},(n.target===e.popup||n.target instanceof HTMLElement&&e.popup.contains(n.target))&&(xC=!0)}}},xU=(e,t,n)=>{t.container.onclick=r=>{if(xC){xC=!1;return}r.target===t.container&&IA(e.allowOutsideClick)&&n(Nl.backdrop)}},EU=e=>typeof e=="object"&&e.jquery,yw=e=>e instanceof Element||EU(e),MU=e=>{const t={};return typeof e[0]=="object"&&!yw(e[0])?Object.assign(t,e[0]):["title","html","icon"].forEach((n,r)=>{const g=e[r];typeof g=="string"||yw(g)?t[n]=g:g!==void 0&&Ti(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof g}`)}),t};function DU(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new this(...t)}function TU(e){class t extends this{_main(r,g){return super._main(r,Object.assign({},e,g))}}return t}const LU=()=>Se.timeout&&Se.timeout.getTimerLeft(),IF=()=>{if(Se.timeout)return _L(),Se.timeout.stop()},sF=()=>{if(Se.timeout){const e=Se.timeout.start();return rB(e),e}},zU=()=>{const e=Se.timeout;return e&&(e.running?IF():sF())},UU=e=>{if(Se.timeout){const t=Se.timeout.increase(e);return rB(t,!0),t}},PU=()=>!!(Se.timeout&&Se.timeout.isRunning());let Zw=!1;const eZ={};function QU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";eZ[e]=this,Zw||(document.body.addEventListener("click",OU),Zw=!0)}const OU=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const n in eZ){const r=t.getAttribute(n);if(r){eZ[n].fire({template:r});return}}};let jU=class{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,n){const r=this._getHandlersByEventName(t);r.includes(n)||r.push(n)}once(t,n){var r=this;const g=function(){r.removeListener(t,g);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];n.apply(r,i)};this.on(t,g)}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),g=1;g<n;g++)r[g-1]=arguments[g];this._getHandlersByEventName(t).forEach(a=>{try{a.apply(this,r)}catch(i){console.error(i)}})}removeListener(t,n){const r=this._getHandlersByEventName(t),g=r.indexOf(n);g>-1&&r.splice(g,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}};Se.eventEmitter=new jU;const _U=(e,t)=>{Se.eventEmitter.on(e,t)},qU=(e,t)=>{Se.eventEmitter.once(e,t)},$U=(e,t)=>{if(!e){Se.eventEmitter.reset();return}t?Se.eventEmitter.removeListener(e,t):Se.eventEmitter.removeAllListeners(e)};var eP=Object.freeze({__proto__:null,argsToParams:MU,bindClickHandler:QU,clickCancel:Ez,clickConfirm:KN,clickDeny:xz,enableLoading:jo,fire:DU,getActions:Ic,getCancelButton:Yl,getCloseButton:$G,getConfirmButton:Bg,getContainer:Tn,getDenyButton:Li,getFocusableElements:eB,getFooter:WN,getHtmlContainer:_G,getIcon:Jl,getIconContent:zL,getImage:SN,getInputLabel:UL,getLoader:Hl,getPopup:Ue,getProgressSteps:qG,getTimerLeft:LU,getTimerProgressBar:cA,getTitle:vN,getValidationMessage:sA,increaseTimer:UU,isDeprecatedParameter:aF,isLoading:QL,isTimerRunning:PU,isUpdatableParameter:gF,isValidParameter:rF,isVisible:Kz,mixin:TU,off:$U,on:_U,once:qU,resumeTimer:sF,showLoading:jo,stopTimer:IF,toggleTimer:zU});class tP{constructor(t,n){this.callback=t,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const n=this.running;return n&&this.stop(),this.remaining+=t,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const cF=["swal-title","swal-html","swal-footer"],nP=e=>{const t=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!t)return{};const n=t.content;return sP(n),Object.assign(rP(n),gP(n),aP(n),iP(n),oP(n),lP(n),IP(n,cF))},rP=e=>{const t={};return Array.from(e.querySelectorAll("swal-param")).forEach(r=>{Yi(r,["name","value"]);const g=r.getAttribute("name"),a=r.getAttribute("value");!g||!a||(typeof xo[g]=="boolean"?t[g]=a!=="false":typeof xo[g]=="object"?t[g]=JSON.parse(a):t[g]=a)}),t},gP=e=>{const t={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(r=>{const g=r.getAttribute("name"),a=r.getAttribute("value");!g||!a||(t[g]=new Function(`return ${a}`)())}),t},aP=e=>{const t={};return Array.from(e.querySelectorAll("swal-button")).forEach(r=>{Yi(r,["type","color","aria-label"]);const g=r.getAttribute("type");!g||!["confirm","cancel","deny"].includes(g)||(t[`${g}ButtonText`]=r.innerHTML,t[`show${QG(g)}Button`]=!0,r.hasAttribute("color")&&(t[`${g}ButtonColor`]=r.getAttribute("color")),r.hasAttribute("aria-label")&&(t[`${g}ButtonAriaLabel`]=r.getAttribute("aria-label")))}),t},iP=e=>{const t={},n=e.querySelector("swal-image");return n&&(Yi(n,["src","width","height","alt"]),n.hasAttribute("src")&&(t.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(t.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(t.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(t.imageAlt=n.getAttribute("alt")||void 0)),t},oP=e=>{const t={},n=e.querySelector("swal-icon");return n&&(Yi(n,["type","color"]),n.hasAttribute("type")&&(t.icon=n.getAttribute("type")),n.hasAttribute("color")&&(t.iconColor=n.getAttribute("color")),t.iconHtml=n.innerHTML),t},lP=e=>{const t={},n=e.querySelector("swal-input");n&&(Yi(n,["type","label","placeholder","value"]),t.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(t.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(t.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(t.inputValue=n.getAttribute("value")));const r=Array.from(e.querySelectorAll("swal-input-option"));return r.length&&(t.inputOptions={},r.forEach(g=>{Yi(g,["value"]);const a=g.getAttribute("value");if(!a)return;const i=g.innerHTML;t.inputOptions[a]=i})),t},IP=(e,t)=>{const n={};for(const r in t){const g=t[r],a=e.querySelector(g);a&&(Yi(a,[]),n[g.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},sP=e=>{const t=cF.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(n=>{const r=n.tagName.toLowerCase();t.includes(r)||Dn(`Unrecognized element <${r}>`)})},Yi=(e,t)=>{Array.from(e.attributes).forEach(n=>{t.indexOf(n.name)===-1&&Dn([`Unrecognized attribute "${n.name}" on <${e.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},uF=10,cP=e=>{const t=Tn(),n=Ue();typeof e.willOpen=="function"&&e.willOpen(n),Se.eventEmitter.emit("willOpen",n);const g=window.getComputedStyle(document.body).overflowY;dP(t,n,e),setTimeout(()=>{uP(t,n)},uF),tB()&&(CP(t,e.scrollbarPadding,g),Qz()),!uA()&&!Se.previousActiveElement&&(Se.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(n)),Se.eventEmitter.emit("didOpen",n),Br(t,$["no-transition"])},EC=e=>{const t=Ue();if(e.target!==t)return;const n=Tn();t.removeEventListener("animationend",EC),t.removeEventListener("transitionend",EC),n.style.overflowY="auto"},uP=(e,t)=>{RN(t)?(e.style.overflowY="hidden",t.addEventListener("animationend",EC),t.addEventListener("transitionend",EC)):e.style.overflowY="auto"},CP=(e,t,n)=>{Oz(),t&&n!=="hidden"&&nU(n),setTimeout(()=>{e.scrollTop=0})},dP=(e,t,n)=>{De(e,n.showClass.backdrop),n.animation?(t.style.setProperty("opacity","0","important"),gn(t,"grid"),setTimeout(()=>{De(t,n.showClass.popup),t.style.removeProperty("opacity")},uF)):gn(t,"grid"),De([document.documentElement,document.body],$.shown),n.heightAuto&&n.backdrop&&!n.toast&&De([document.documentElement,document.body],$["height-auto"])};var Gw={email:(e,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function AP(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=Gw.email),e.input==="url"&&(e.inputValidator=Gw.url))}function mP(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Dn('Target parameter is not valid, defaulting to "body"'),e.target="body")}function fP(e){AP(e),e.showLoaderOnConfirm&&!e.preConfirm&&Dn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),mP(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),az(e)}let og;var Du=new WeakMap;class Mt{constructor(){if(FL(this,Du,void 0),typeof window>"u")return;og=this;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const g=Object.freeze(this.constructor.argsToParams(n));this.params=g,this.isAwaitingPromise=!1,KL(Du,this,this._main(og.params))}_main(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(RU(Object.assign({},n,t)),Se.currentInstance){const a=Oo.swalPromiseResolve.get(Se.currentInstance),{isAwaitingPromise:i}=Se.currentInstance;Se.currentInstance._destroy(),i||a({isDismissed:!0}),tB()&&MN()}Se.currentInstance=og;const r=hP(t,n);fP(r),Object.freeze(r),Se.timeout&&(Se.timeout.stop(),delete Se.timeout),clearTimeout(Se.restoreFocusTimeout);const g=bP(og);return FN(og,r),mt.innerParams.set(og,r),pP(og,g,r)}then(t){return uw(Du,this).then(t)}finally(t){return uw(Du,this).finally(t)}}const pP=(e,t,n)=>new Promise((r,g)=>{const a=i=>{e.close({isDismissed:!0,dismiss:i})};Oo.swalPromiseResolve.set(e,r),Oo.swalPromiseReject.set(e,g),t.confirmButton.onclick=()=>{hU(e)},t.denyButton.onclick=()=>{bU(e)},t.cancelButton.onclick=()=>{yU(e,a)},t.closeButton.onclick=()=>{a(Nl.close)},YU(n,t,a),Mz(Se,n,a),sU(e,n),cP(n),yP(Se,n,a),ZP(t,n),setTimeout(()=>{t.container.scrollTop=0})}),hP=(e,t)=>{const n=nP(e),r=Object.assign({},xo,t,n,e);return r.showClass=Object.assign({},xo.showClass,r.showClass),r.hideClass=Object.assign({},xo.hideClass,r.hideClass),r.animation===!1&&(r.showClass={backdrop:"swal2-noanimation"},r.hideClass={}),r},bP=e=>{const t={popup:Ue(),container:Tn(),actions:Ic(),confirmButton:Bg(),denyButton:Li(),cancelButton:Yl(),loader:Hl(),closeButton:$G(),validationMessage:sA(),progressSteps:qG()};return mt.domCache.set(e,t),t},yP=(e,t,n)=>{const r=cA();Gn(r),t.timer&&(e.timeout=new tP(()=>{n("timer"),delete e.timeout},t.timer),t.timerProgressBar&&(gn(r),ar(r,t,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&rB(t.timer)})))},ZP=(e,t)=>{if(!t.toast){if(!IA(t.allowEnterKey)){BN("allowEnterKey"),vP();return}GP(e)||BP(e,t)||$0(-1,1)}},GP=e=>{const t=Array.from(e.popup.querySelectorAll("[autofocus]"));for(const n of t)if(n instanceof HTMLElement&&En(n))return n.focus(),!0;return!1},BP=(e,t)=>t.focusDeny&&En(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&En(e.cancelButton)?(e.cancelButton.focus(),!0):t.focusConfirm&&En(e.confirmButton)?(e.confirmButton.focus(),!0):!1,vP=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const e=new Date,t=localStorage.getItem("swal-initiation");t?(e.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}Mt.prototype.disableButtons=qN;Mt.prototype.enableButtons=_N;Mt.prototype.getInput=QN;Mt.prototype.disableInput=eF;Mt.prototype.enableInput=$N;Mt.prototype.hideLoading=KC;Mt.prototype.disableLoading=KC;Mt.prototype.showValidationMessage=tF;Mt.prototype.resetValidationMessage=nF;Mt.prototype.close=Fa;Mt.prototype.closePopup=Fa;Mt.prototype.closeModal=Fa;Mt.prototype.closeToast=Fa;Mt.prototype.rejectPromise=LN;Mt.prototype.update=iF;Mt.prototype._destroy=oF;Object.assign(Mt,eP);Object.keys(JU).forEach(e=>{Mt[e]=function(){return og&&og[e]?og[e](...arguments):null}});Mt.DismissReason=Nl;Mt.version="11.15.10";const tZ=Mt;tZ.default=tZ;typeof document<"u"&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch{n.innerText=t}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');function CF(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var g=e.length;for(t=0;t<g;t++)e[t]&&(n=CF(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var e,t,n=0,r="",g=arguments.length;n<g;n++)(e=arguments[n])&&(t=CF(e))&&(r&&(r+=" "),r+=t);return r}function de(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function gt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function zr(e,t){const n=de(e);return isNaN(t)?gt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Pr(e,t){const n=de(e);if(isNaN(t))return gt(e,NaN);if(!t)return n;const r=n.getDate(),g=gt(e,n.getTime());g.setMonth(n.getMonth()+t+1,0);const a=g.getDate();return r>=a?g:(n.setFullYear(g.getFullYear(),g.getMonth(),r),n)}function IB(e,t){const n=+de(e);return gt(e,n+t)}const dF=6048e5,SP=864e5,dA=6e4,AA=36e5,WP=1e3;function VP(e,t){return IB(e,t*AA)}let wP={};function zi(){return wP}function na(e,t){var l,s,c,C;const n=zi(),r=(t==null?void 0:t.weekStartsOn)??((s=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:s.weekStartsOn)??n.weekStartsOn??((C=(c=n.locale)==null?void 0:c.options)==null?void 0:C.weekStartsOn)??0,g=de(e),a=g.getDay(),i=(a<r?7:0)+a-r;return g.setDate(g.getDate()-i),g.setHours(0,0,0,0),g}function _o(e){return na(e,{weekStartsOn:1})}function AF(e){const t=de(e),n=t.getFullYear(),r=gt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const g=_o(r),a=gt(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const i=_o(a);return t.getTime()>=g.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function Hi(e){const t=de(e);return t.setHours(0,0,0,0),t}function MC(e){const t=de(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function qo(e,t){const n=Hi(e),r=Hi(t),g=+n-MC(n),a=+r-MC(r);return Math.round((g-a)/SP)}function RP(e){const t=AF(e),n=gt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),_o(n)}function nZ(e,t){return IB(e,t*dA)}function sB(e,t){const n=t*3;return Pr(e,n)}function kP(e,t){return IB(e,t*1e3)}function DC(e,t){const n=t*7;return zr(e,n)}function Qg(e,t){return Pr(e,t*12)}function Bw(e){let t;return e.forEach(function(n){const r=de(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function vw(e){let t;return e.forEach(n=>{const r=de(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function XP(e,t){const n=Hi(e),r=Hi(t);return+n==+r}function Og(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TC(e){if(!Og(e)&&typeof e!="number")return!1;const t=de(e);return!isNaN(Number(t))}function LC(e,t){const n=de(e),r=de(t),g=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return g*12+a}function Wi(e){const t=de(e);return Math.trunc(t.getMonth()/3)+1}function zC(e,t){const n=de(e),r=de(t),g=n.getFullYear()-r.getFullYear(),a=Wi(n)-Wi(r);return g*4+a}function UC(e,t){const n=de(e),r=de(t);return n.getFullYear()-r.getFullYear()}function JP(e,t){const n=de(e),r=de(t),g=Sw(n,r),a=Math.abs(qo(n,r));n.setDate(n.getDate()-g*a);const i=+(Sw(n,r)===-g),l=g*(a-i);return l===0?0:l}function Sw(e,t){const n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function mF(e){const t=de(e);return t.setHours(23,59,59,999),t}function fF(e){const t=de(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function rZ(e){const t=de(e),n=t.getMonth(),r=n-n%3;return t.setMonth(r,1),t.setHours(0,0,0,0),t}function pF(e){const t=de(e);return t.setDate(1),t.setHours(0,0,0,0),t}function hF(e){const t=de(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function mA(e){const t=de(e),n=gt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function YP(e,t){var l,s;const n=zi(),r=n.weekStartsOn??((s=(l=n.locale)==null?void 0:l.options)==null?void 0:s.weekStartsOn)??0,g=de(e),a=g.getDay(),i=(a<r?-7:0)+6-(a-r);return g.setDate(g.getDate()+i),g.setHours(23,59,59,999),g}const HP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},NP=(e,t,n)=>{let r;const g=HP[e];return typeof g=="string"?r=g:t===1?r=g.one:r=g.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Wp(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const FP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},xP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EP={date:Wp({formats:FP,defaultWidth:"full"}),time:Wp({formats:KP,defaultWidth:"full"}),dateTime:Wp({formats:xP,defaultWidth:"full"})},MP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DP=(e,t,n,r)=>MP[e];function NI(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let g;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;g=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;g=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return g[a]}}const TP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},UP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},PP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},OP=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},jP={ordinalNumber:OP,era:NI({values:TP,defaultWidth:"wide"}),quarter:NI({values:LP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:NI({values:zP,defaultWidth:"wide"}),day:NI({values:UP,defaultWidth:"wide"}),dayPeriod:NI({values:PP,defaultWidth:"wide",formattingValues:QP,defaultFormattingWidth:"wide"})};function FI(e){return(t,n={})=>{const r=n.width,g=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(g);if(!a)return null;const i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(l)?qP(l,d=>d.test(i)):_P(l,d=>d.test(i));let c;c=e.valueCallback?e.valueCallback(s):s,c=n.valueCallback?n.valueCallback(c):c;const C=t.slice(i.length);return{value:c,rest:C}}}function _P(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function qP(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $P(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const g=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(g.length);return{value:i,rest:l}}}const eQ=/^(\d+)(th|st|nd|rd)?/i,tQ=/\d+/i,nQ={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},rQ={any:[/^b/i,/^(a|c)/i]},gQ={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aQ={any:[/1/i,/2/i,/3/i,/4/i]},iQ={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oQ={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lQ={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IQ={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},sQ={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},cQ={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uQ={ordinalNumber:$P({matchPattern:eQ,parsePattern:tQ,valueCallback:e=>parseInt(e,10)}),era:FI({matchPatterns:nQ,defaultMatchWidth:"wide",parsePatterns:rQ,defaultParseWidth:"any"}),quarter:FI({matchPatterns:gQ,defaultMatchWidth:"wide",parsePatterns:aQ,defaultParseWidth:"any",valueCallback:e=>e+1}),month:FI({matchPatterns:iQ,defaultMatchWidth:"wide",parsePatterns:oQ,defaultParseWidth:"any"}),day:FI({matchPatterns:lQ,defaultMatchWidth:"wide",parsePatterns:IQ,defaultParseWidth:"any"}),dayPeriod:FI({matchPatterns:sQ,defaultMatchWidth:"any",parsePatterns:cQ,defaultParseWidth:"any"})},bF={code:"en-US",formatDistance:NP,formatLong:EP,formatRelative:DP,localize:jP,match:uQ,options:{weekStartsOn:0,firstWeekContainsDate:1}};function CQ(e){const t=de(e);return qo(t,mA(t))+1}function cB(e){const t=de(e),n=+_o(t)-+RP(t);return Math.round(n/dF)+1}function uB(e,t){var C,d,A,f;const n=de(e),r=n.getFullYear(),g=zi(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:d.firstWeekContainsDate)??g.firstWeekContainsDate??((f=(A=g.locale)==null?void 0:A.options)==null?void 0:f.firstWeekContainsDate)??1,i=gt(e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const l=na(i,t),s=gt(e,0);s.setFullYear(r,0,a),s.setHours(0,0,0,0);const c=na(s,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function dQ(e,t){var l,s,c,C;const n=zi(),r=(t==null?void 0:t.firstWeekContainsDate)??((s=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:s.firstWeekContainsDate)??n.firstWeekContainsDate??((C=(c=n.locale)==null?void 0:c.options)==null?void 0:C.firstWeekContainsDate)??1,g=uB(e,t),a=gt(e,0);return a.setFullYear(g,0,r),a.setHours(0,0,0,0),na(a,t)}function yF(e,t){const n=de(e),r=+na(n,t)-+dQ(n,t);return Math.round(r/dF)+1}function nt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Ra={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return nt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):nt(n+1,2)},d(e,t){return nt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return nt(e.getHours()%12||12,t.length)},H(e,t){return nt(e.getHours(),t.length)},m(e,t){return nt(e.getMinutes(),t.length)},s(e,t){return nt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),g=Math.trunc(r*Math.pow(10,n-3));return nt(g,t.length)}},Zo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ww={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),g=r>0?r:1-r;return n.ordinalNumber(g,{unit:"year"})}return Ra.y(e,t)},Y:function(e,t,n,r){const g=uB(e,r),a=g>0?g:1-g;if(t==="YY"){const i=a%100;return nt(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):nt(a,t.length)},R:function(e,t){const n=AF(e);return nt(n,t.length)},u:function(e,t){const n=e.getFullYear();return nt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Ra.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const g=yF(e,r);return t==="wo"?n.ordinalNumber(g,{unit:"week"}):nt(g,t.length)},I:function(e,t,n){const r=cB(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):nt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ra.d(e,t)},D:function(e,t,n){const r=CQ(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):nt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const g=e.getDay(),a=(g-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return nt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(g,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(g,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(g,{width:"short",context:"formatting"});case"eeee":default:return n.day(g,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const g=e.getDay(),a=(g-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return nt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(g,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(g,{width:"narrow",context:"standalone"});case"cccccc":return n.day(g,{width:"short",context:"standalone"});case"cccc":default:return n.day(g,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),g=r===0?7:r;switch(t){case"i":return String(g);case"ii":return nt(g,t.length);case"io":return n.ordinalNumber(g,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const g=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(g,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(g,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let g;switch(r===12?g=Zo.noon:r===0?g=Zo.midnight:g=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(g,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(g,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let g;switch(r>=17?g=Zo.evening:r>=12?g=Zo.afternoon:r>=4?g=Zo.morning:g=Zo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(g,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(g,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ra.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ra.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):nt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ra.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ra.s(e,t)},S:function(e,t){return Ra.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ww(r);case"XXXX":case"XX":return Ai(r);case"XXXXX":case"XXX":default:return Ai(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ww(r);case"xxxx":case"xx":return Ai(r);case"xxxxx":case"xxx":default:return Ai(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Vw(r,":");case"OOOO":default:return"GMT"+Ai(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Vw(r,":");case"zzzz":default:return"GMT"+Ai(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return nt(r,t.length)},T:function(e,t,n){const r=e.getTime();return nt(r,t.length)}};function Vw(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),g=Math.trunc(r/60),a=r%60;return a===0?n+String(g):n+String(g)+t+nt(a,2)}function ww(e,t){return e%60===0?(e>0?"-":"+")+nt(Math.abs(e)/60,2):Ai(e,t)}function Ai(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),g=nt(Math.trunc(r/60),2),a=nt(r%60,2);return n+g+t+a}const Rw=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ZF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},AQ=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],g=n[2];if(!g)return Rw(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Rw(r,t)).replace("{{time}}",ZF(g,t))},PC={p:ZF,P:AQ},mQ=/^D+$/,fQ=/^Y+$/,pQ=["D","DD","YY","YYYY"];function GF(e){return mQ.test(e)}function BF(e){return fQ.test(e)}function gZ(e,t,n){const r=hQ(e,t,n);if(console.warn(r),pQ.includes(e))throw new RangeError(r)}function hQ(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const bQ=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yQ=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZQ=/^'([^]*?)'?$/,GQ=/''/g,BQ=/[a-zA-Z]/;function kw(e,t,n){var C,d,A,f,b,p,h,G;const r=zi(),g=(n==null?void 0:n.locale)??r.locale??bF,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(A=r.locale)==null?void 0:A.options)==null?void 0:f.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((p=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((G=(h=r.locale)==null?void 0:h.options)==null?void 0:G.weekStartsOn)??0,l=de(e);if(!TC(l))throw new RangeError("Invalid time value");let s=t.match(yQ).map(v=>{const S=v[0];if(S==="p"||S==="P"){const V=PC[S];return V(v,g.formatLong)}return v}).join("").match(bQ).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const S=v[0];if(S==="'")return{isToken:!1,value:vQ(v)};if(Ww[S])return{isToken:!0,value:v};if(S.match(BQ))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:v}});g.localize.preprocessor&&(s=g.localize.preprocessor(l,s));const c={firstWeekContainsDate:a,weekStartsOn:i,locale:g};return s.map(v=>{if(!v.isToken)return v.value;const S=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&BF(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&GF(S))&&gZ(S,t,String(e));const V=Ww[S[0]];return V(l,S,g.localize,c)}).join("")}function vQ(e){const t=e.match(ZQ);return t?t[1].replace(GQ,"'"):e}function Xw(e){return de(e).getDate()}function SQ(e){return de(e).getDay()}function WQ(e){const t=de(e),n=t.getFullYear(),r=t.getMonth(),g=gt(e,0);return g.setFullYear(n,r+1,0),g.setHours(0,0,0,0),g.getDate()}function VQ(){return Object.assign({},zi())}function pg(e){return de(e).getHours()}function wQ(e){let n=de(e).getDay();return n===0&&(n=7),n}function hg(e){return de(e).getMinutes()}function Vn(e){return de(e).getMonth()}function jg(e){return de(e).getSeconds()}function aZ(e){return de(e).getTime()}function Ne(e){return de(e).getFullYear()}function La(e,t){const n=de(e),r=de(t);return n.getTime()>r.getTime()}function Ni(e,t){const n=de(e),r=de(t);return+n<+r}function RQ(e,t){const n=de(e),r=de(t);return+n==+r}function kQ(e,t){const n=t instanceof Date?gt(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const XQ=10;class vF{constructor(){Ae(this,"subPriority",0)}validate(t,n){return!0}}class JQ extends vF{constructor(t,n,r,g,a){super(),this.value=t,this.validateValue=n,this.setValue=r,this.priority=g,a&&(this.subPriority=a)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,r){return this.setValue(t,n,this.value,r)}}class YQ extends vF{constructor(){super(...arguments);Ae(this,"priority",XQ);Ae(this,"subPriority",-1)}set(n,r){return r.timestampIsSet?n:gt(n,kQ(n,Date))}}class je{run(t,n,r,g){const a=this.parse(t,n,r,g);return a?{setter:new JQ(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,n,r){return!0}}class HQ extends je{constructor(){super(...arguments);Ae(this,"priority",140);Ae(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,g){switch(r){case"G":case"GG":case"GGG":return g.era(n,{width:"abbreviated"})||g.era(n,{width:"narrow"});case"GGGGG":return g.era(n,{width:"narrow"});case"GGGG":default:return g.era(n,{width:"wide"})||g.era(n,{width:"abbreviated"})||g.era(n,{width:"narrow"})}}set(n,r,g){return r.era=g,n.setFullYear(g,0,1),n.setHours(0,0,0,0),n}}const xt={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ug={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Et(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wt(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function Cg(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const r=n[1]==="+"?1:-1,g=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:r*(g*AA+a*dA+i*WP),rest:t.slice(n[0].length)}}function SF(e){return Wt(xt.anyDigitsSigned,e)}function Yt(e,t){switch(e){case 1:return Wt(xt.singleDigit,t);case 2:return Wt(xt.twoDigits,t);case 3:return Wt(xt.threeDigits,t);case 4:return Wt(xt.fourDigits,t);default:return Wt(new RegExp("^\\d{1,"+e+"}"),t)}}function QC(e,t){switch(e){case 1:return Wt(xt.singleDigitSigned,t);case 2:return Wt(xt.twoDigitsSigned,t);case 3:return Wt(xt.threeDigitsSigned,t);case 4:return Wt(xt.fourDigitsSigned,t);default:return Wt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function CB(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function WF(e,t){const n=t>0,r=n?t:1-t;let g;if(r<=50)g=e||100;else{const a=r+50,i=Math.trunc(a/100)*100,l=e>=a%100;g=e+i-(l?100:0)}return n?g:1-g}function VF(e){return e%400===0||e%4===0&&e%100!==0}class NQ extends je{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,g){const a=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return Et(Yt(4,n),a);case"yo":return Et(g.ordinalNumber(n,{unit:"year"}),a);default:return Et(Yt(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,g){const a=n.getFullYear();if(g.isTwoDigitYear){const l=WF(g.year,a);return n.setFullYear(l,0,1),n.setHours(0,0,0,0),n}const i=!("era"in r)||r.era===1?g.year:1-g.year;return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class FQ extends je{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,g){const a=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Et(Yt(4,n),a);case"Yo":return Et(g.ordinalNumber(n,{unit:"year"}),a);default:return Et(Yt(r.length,n),a)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,g,a){const i=uB(n,a);if(g.isTwoDigitYear){const s=WF(g.year,i);return n.setFullYear(s,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),na(n,a)}const l=!("era"in r)||r.era===1?g.year:1-g.year;return n.setFullYear(l,0,a.firstWeekContainsDate),n.setHours(0,0,0,0),na(n,a)}}class KQ extends je{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return QC(r==="R"?4:r.length,n)}set(n,r,g){const a=gt(n,0);return a.setFullYear(g,0,4),a.setHours(0,0,0,0),_o(a)}}class xQ extends je{constructor(){super(...arguments);Ae(this,"priority",130);Ae(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return QC(r==="u"?4:r.length,n)}set(n,r,g){return n.setFullYear(g,0,1),n.setHours(0,0,0,0),n}}class EQ extends je{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,g){switch(r){case"Q":case"QQ":return Yt(r.length,n);case"Qo":return g.ordinalNumber(n,{unit:"quarter"});case"QQQ":return g.quarter(n,{width:"abbreviated",context:"formatting"})||g.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return g.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return g.quarter(n,{width:"wide",context:"formatting"})||g.quarter(n,{width:"abbreviated",context:"formatting"})||g.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,g){return n.setMonth((g-1)*3,1),n.setHours(0,0,0,0),n}}class MQ extends je{constructor(){super(...arguments);Ae(this,"priority",120);Ae(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,g){switch(r){case"q":case"qq":return Yt(r.length,n);case"qo":return g.ordinalNumber(n,{unit:"quarter"});case"qqq":return g.quarter(n,{width:"abbreviated",context:"standalone"})||g.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return g.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return g.quarter(n,{width:"wide",context:"standalone"})||g.quarter(n,{width:"abbreviated",context:"standalone"})||g.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,g){return n.setMonth((g-1)*3,1),n.setHours(0,0,0,0),n}}class DQ extends je{constructor(){super(...arguments);Ae(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ae(this,"priority",110)}parse(n,r,g){const a=i=>i-1;switch(r){case"M":return Et(Wt(xt.month,n),a);case"MM":return Et(Yt(2,n),a);case"Mo":return Et(g.ordinalNumber(n,{unit:"month"}),a);case"MMM":return g.month(n,{width:"abbreviated",context:"formatting"})||g.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return g.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return g.month(n,{width:"wide",context:"formatting"})||g.month(n,{width:"abbreviated",context:"formatting"})||g.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,g){return n.setMonth(g,1),n.setHours(0,0,0,0),n}}class TQ extends je{constructor(){super(...arguments);Ae(this,"priority",110);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,g){const a=i=>i-1;switch(r){case"L":return Et(Wt(xt.month,n),a);case"LL":return Et(Yt(2,n),a);case"Lo":return Et(g.ordinalNumber(n,{unit:"month"}),a);case"LLL":return g.month(n,{width:"abbreviated",context:"standalone"})||g.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return g.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return g.month(n,{width:"wide",context:"standalone"})||g.month(n,{width:"abbreviated",context:"standalone"})||g.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,g){return n.setMonth(g,1),n.setHours(0,0,0,0),n}}function LQ(e,t,n){const r=de(e),g=yF(r,n)-t;return r.setDate(r.getDate()-g*7),r}class zQ extends je{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,g){switch(r){case"w":return Wt(xt.week,n);case"wo":return g.ordinalNumber(n,{unit:"week"});default:return Yt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,g,a){return na(LQ(n,g,a),a)}}function UQ(e,t){const n=de(e),r=cB(n)-t;return n.setDate(n.getDate()-r*7),n}class PQ extends je{constructor(){super(...arguments);Ae(this,"priority",100);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,g){switch(r){case"I":return Wt(xt.week,n);case"Io":return g.ordinalNumber(n,{unit:"week"});default:return Yt(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,g){return _o(UQ(n,g))}}const QQ=[31,28,31,30,31,30,31,31,30,31,30,31],OQ=[31,29,31,30,31,30,31,31,30,31,30,31];class jQ extends je{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subPriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,g){switch(r){case"d":return Wt(xt.date,n);case"do":return g.ordinalNumber(n,{unit:"date"});default:return Yt(r.length,n)}}validate(n,r){const g=n.getFullYear(),a=VF(g),i=n.getMonth();return a?r>=1&&r<=OQ[i]:r>=1&&r<=QQ[i]}set(n,r,g){return n.setDate(g),n.setHours(0,0,0,0),n}}class _Q extends je{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"subpriority",1);Ae(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,g){switch(r){case"D":case"DD":return Wt(xt.dayOfYear,n);case"Do":return g.ordinalNumber(n,{unit:"date"});default:return Yt(r.length,n)}}validate(n,r){const g=n.getFullYear();return VF(g)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,g){return n.setMonth(0,g),n.setHours(0,0,0,0),n}}function dB(e,t,n){var d,A,f,b;const r=zi(),g=(n==null?void 0:n.weekStartsOn)??((A=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:A.weekStartsOn)??r.weekStartsOn??((b=(f=r.locale)==null?void 0:f.options)==null?void 0:b.weekStartsOn)??0,a=de(e),i=a.getDay(),s=(t%7+7)%7,c=7-g,C=t<0||t>6?t-(i+c)%7:(s+c)%7-(i+c)%7;return zr(a,C)}class qQ extends je{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,g){switch(r){case"E":case"EE":case"EEE":return g.day(n,{width:"abbreviated",context:"formatting"})||g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return g.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return g.day(n,{width:"wide",context:"formatting"})||g.day(n,{width:"abbreviated",context:"formatting"})||g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,g,a){return n=dB(n,g,a),n.setHours(0,0,0,0),n}}class $Q extends je{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,g,a){const i=l=>{const s=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+s};switch(r){case"e":case"ee":return Et(Yt(r.length,n),i);case"eo":return Et(g.ordinalNumber(n,{unit:"day"}),i);case"eee":return g.day(n,{width:"abbreviated",context:"formatting"})||g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"});case"eeeee":return g.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return g.day(n,{width:"wide",context:"formatting"})||g.day(n,{width:"abbreviated",context:"formatting"})||g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,g,a){return n=dB(n,g,a),n.setHours(0,0,0,0),n}}class eO extends je{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,g,a){const i=l=>{const s=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+s};switch(r){case"c":case"cc":return Et(Yt(r.length,n),i);case"co":return Et(g.ordinalNumber(n,{unit:"day"}),i);case"ccc":return g.day(n,{width:"abbreviated",context:"standalone"})||g.day(n,{width:"short",context:"standalone"})||g.day(n,{width:"narrow",context:"standalone"});case"ccccc":return g.day(n,{width:"narrow",context:"standalone"});case"cccccc":return g.day(n,{width:"short",context:"standalone"})||g.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return g.day(n,{width:"wide",context:"standalone"})||g.day(n,{width:"abbreviated",context:"standalone"})||g.day(n,{width:"short",context:"standalone"})||g.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,g,a){return n=dB(n,g,a),n.setHours(0,0,0,0),n}}function tO(e,t){const n=de(e),r=wQ(n),g=t-r;return zr(n,g)}class nO extends je{constructor(){super(...arguments);Ae(this,"priority",90);Ae(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,g){const a=i=>i===0?7:i;switch(r){case"i":case"ii":return Yt(r.length,n);case"io":return g.ordinalNumber(n,{unit:"day"});case"iii":return Et(g.day(n,{width:"abbreviated",context:"formatting"})||g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"}),a);case"iiiii":return Et(g.day(n,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Et(g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Et(g.day(n,{width:"wide",context:"formatting"})||g.day(n,{width:"abbreviated",context:"formatting"})||g.day(n,{width:"short",context:"formatting"})||g.day(n,{width:"narrow",context:"formatting"}),a)}}validate(n,r){return r>=1&&r<=7}set(n,r,g){return n=tO(n,g),n.setHours(0,0,0,0),n}}class rO extends je{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,g){switch(r){case"a":case"aa":case"aaa":return g.dayPeriod(n,{width:"abbreviated",context:"formatting"})||g.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return g.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return g.dayPeriod(n,{width:"wide",context:"formatting"})||g.dayPeriod(n,{width:"abbreviated",context:"formatting"})||g.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,g){return n.setHours(CB(g),0,0,0),n}}class gO extends je{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,g){switch(r){case"b":case"bb":case"bbb":return g.dayPeriod(n,{width:"abbreviated",context:"formatting"})||g.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return g.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return g.dayPeriod(n,{width:"wide",context:"formatting"})||g.dayPeriod(n,{width:"abbreviated",context:"formatting"})||g.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,g){return n.setHours(CB(g),0,0,0),n}}class aO extends je{constructor(){super(...arguments);Ae(this,"priority",80);Ae(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,g){switch(r){case"B":case"BB":case"BBB":return g.dayPeriod(n,{width:"abbreviated",context:"formatting"})||g.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return g.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return g.dayPeriod(n,{width:"wide",context:"formatting"})||g.dayPeriod(n,{width:"abbreviated",context:"formatting"})||g.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,g){return n.setHours(CB(g),0,0,0),n}}class iO extends je{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,g){switch(r){case"h":return Wt(xt.hour12h,n);case"ho":return g.ordinalNumber(n,{unit:"hour"});default:return Yt(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,g){const a=n.getHours()>=12;return a&&g<12?n.setHours(g+12,0,0,0):!a&&g===12?n.setHours(0,0,0,0):n.setHours(g,0,0,0),n}}class oO extends je{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,g){switch(r){case"H":return Wt(xt.hour23h,n);case"Ho":return g.ordinalNumber(n,{unit:"hour"});default:return Yt(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,g){return n.setHours(g,0,0,0),n}}class lO extends je{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,g){switch(r){case"K":return Wt(xt.hour11h,n);case"Ko":return g.ordinalNumber(n,{unit:"hour"});default:return Yt(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,g){return n.getHours()>=12&&g<12?n.setHours(g+12,0,0,0):n.setHours(g,0,0,0),n}}class IO extends je{constructor(){super(...arguments);Ae(this,"priority",70);Ae(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,g){switch(r){case"k":return Wt(xt.hour24h,n);case"ko":return g.ordinalNumber(n,{unit:"hour"});default:return Yt(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,g){const a=g<=24?g%24:g;return n.setHours(a,0,0,0),n}}class sO extends je{constructor(){super(...arguments);Ae(this,"priority",60);Ae(this,"incompatibleTokens",["t","T"])}parse(n,r,g){switch(r){case"m":return Wt(xt.minute,n);case"mo":return g.ordinalNumber(n,{unit:"minute"});default:return Yt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,g){return n.setMinutes(g,0,0),n}}class cO extends je{constructor(){super(...arguments);Ae(this,"priority",50);Ae(this,"incompatibleTokens",["t","T"])}parse(n,r,g){switch(r){case"s":return Wt(xt.second,n);case"so":return g.ordinalNumber(n,{unit:"second"});default:return Yt(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,g){return n.setSeconds(g,0),n}}class uO extends je{constructor(){super(...arguments);Ae(this,"priority",30);Ae(this,"incompatibleTokens",["t","T"])}parse(n,r){const g=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Et(Yt(r.length,n),g)}set(n,r,g){return n.setMilliseconds(g),n}}class CO extends je{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Cg(ug.basicOptionalMinutes,n);case"XX":return Cg(ug.basic,n);case"XXXX":return Cg(ug.basicOptionalSeconds,n);case"XXXXX":return Cg(ug.extendedOptionalSeconds,n);case"XXX":default:return Cg(ug.extended,n)}}set(n,r,g){return r.timestampIsSet?n:gt(n,n.getTime()-MC(n)-g)}}class dO extends je{constructor(){super(...arguments);Ae(this,"priority",10);Ae(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Cg(ug.basicOptionalMinutes,n);case"xx":return Cg(ug.basic,n);case"xxxx":return Cg(ug.basicOptionalSeconds,n);case"xxxxx":return Cg(ug.extendedOptionalSeconds,n);case"xxx":default:return Cg(ug.extended,n)}}set(n,r,g){return r.timestampIsSet?n:gt(n,n.getTime()-MC(n)-g)}}class AO extends je{constructor(){super(...arguments);Ae(this,"priority",40);Ae(this,"incompatibleTokens","*")}parse(n){return SF(n)}set(n,r,g){return[gt(n,g*1e3),{timestampIsSet:!0}]}}class mO extends je{constructor(){super(...arguments);Ae(this,"priority",20);Ae(this,"incompatibleTokens","*")}parse(n){return SF(n)}set(n,r,g){return[gt(n,g),{timestampIsSet:!0}]}}const fO={G:new HQ,y:new NQ,Y:new FQ,R:new KQ,u:new xQ,Q:new EQ,q:new MQ,M:new DQ,L:new TQ,w:new zQ,I:new PQ,d:new jQ,D:new _Q,E:new qQ,e:new $Q,c:new eO,i:new nO,a:new rO,b:new gO,B:new aO,h:new iO,H:new oO,K:new lO,k:new IO,m:new sO,s:new cO,S:new uO,X:new CO,x:new dO,t:new AO,T:new mO},pO=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hO=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bO=/^'([^]*?)'?$/,yO=/''/g,ZO=/\S/,GO=/[a-zA-Z]/;function Vp(e,t,n,r){var p,h,G,v,S,V,Z,W;const g=VQ(),a=(r==null?void 0:r.locale)??g.locale??bF,i=(r==null?void 0:r.firstWeekContainsDate)??((h=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:h.firstWeekContainsDate)??g.firstWeekContainsDate??((v=(G=g.locale)==null?void 0:G.options)==null?void 0:v.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((V=(S=r==null?void 0:r.locale)==null?void 0:S.options)==null?void 0:V.weekStartsOn)??g.weekStartsOn??((W=(Z=g.locale)==null?void 0:Z.options)==null?void 0:W.weekStartsOn)??0;if(t==="")return e===""?de(n):gt(n,NaN);const s={firstWeekContainsDate:i,weekStartsOn:l,locale:a},c=[new YQ],C=t.match(hO).map(w=>{const X=w[0];if(X in PC){const N=PC[X];return N(w,a.formatLong)}return w}).join("").match(pO),d=[];for(let w of C){!(r!=null&&r.useAdditionalWeekYearTokens)&&BF(w)&&gZ(w,t,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&GF(w)&&gZ(w,t,e);const X=w[0],N=fO[X];if(N){const{incompatibleTokens:R}=N;if(Array.isArray(R)){const K=d.find(E=>R.includes(E.token)||E.token===X);if(K)throw new RangeError(`The format string mustn't contain \`${K.fullToken}\` and \`${w}\` at the same time`)}else if(N.incompatibleTokens==="*"&&d.length>0)throw new RangeError(`The format string mustn't contain \`${w}\` and any other token at the same time`);d.push({token:X,fullToken:w});const Y=N.run(e,w,a.match,s);if(!Y)return gt(n,NaN);c.push(Y.setter),e=Y.rest}else{if(X.match(GO))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");if(w==="''"?w="'":X==="'"&&(w=BO(w)),e.indexOf(w)===0)e=e.slice(w.length);else return gt(n,NaN)}}if(e.length>0&&ZO.test(e))return gt(n,NaN);const A=c.map(w=>w.priority).sort((w,X)=>X-w).filter((w,X,N)=>N.indexOf(w)===X).map(w=>c.filter(X=>X.priority===w).sort((X,N)=>N.subPriority-X.subPriority)).map(w=>w[0]);let f=de(n);if(isNaN(f.getTime()))return gt(n,NaN);const b={};for(const w of A){if(!w.validate(f,s))return gt(n,NaN);const X=w.set(f,b,s);Array.isArray(X)?(f=X[0],Object.assign(b,X[1])):f=X}return gt(n,f)}function BO(e){return e.match(bO)[1].replace(yO,"'")}function vO(e,t){const n=de(e),r=de(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function SO(e,t){const n=rZ(e),r=rZ(t);return+n==+r}function WO(e,t){const n=de(e),r=de(t);return n.getFullYear()===r.getFullYear()}function Cs(e,t){const n=+de(e),[r,g]=[+de(t.start),+de(t.end)].sort((a,i)=>a-i);return n>=r&&n<=g}function VO(e,t){return zr(e,-1)}function wO(e,t){const r=JO(e);let g;if(r.date){const s=YO(r.date,2);g=HO(s.restDateString,s.year)}if(!g||isNaN(g.getTime()))return new Date(NaN);const a=g.getTime();let i=0,l;if(r.time&&(i=NO(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(l=FO(r.timezone),isNaN(l))return new Date(NaN)}else{const s=new Date(a+i),c=new Date(0);return c.setFullYear(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()),c.setHours(s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds(),s.getUTCMilliseconds()),c}return new Date(a+i+l)}const Tu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},RO=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kO=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,XO=/^([+-])(\d{2})(?::?(\d{2}))?$/;function JO(e){const t={},n=e.split(Tu.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Tu.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Tu.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const g=Tu.timezone.exec(r);g?(t.time=r.replace(g[1],""),t.timezone=g[1]):t.time=r}return t}function YO(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const g=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?g:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function HO(e,t){if(t===null)return new Date(NaN);const n=e.match(RO);if(!n)return new Date(NaN);const r=!!n[4],g=KI(n[1]),a=KI(n[2])-1,i=KI(n[3]),l=KI(n[4]),s=KI(n[5])-1;if(r)return DO(t,l,s)?KO(t,l,s):new Date(NaN);{const c=new Date(0);return!EO(t,a,i)||!MO(t,g)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(g,i)),c)}}function KI(e){return e?parseInt(e):1}function NO(e){const t=e.match(kO);if(!t)return NaN;const n=wp(t[1]),r=wp(t[2]),g=wp(t[3]);return TO(n,r,g)?n*AA+r*dA+g*1e3:NaN}function wp(e){return e&&parseFloat(e.replace(",","."))||0}function FO(e){if(e==="Z")return 0;const t=e.match(XO);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),g=t[3]&&parseInt(t[3])||0;return LO(r,g)?n*(r*AA+g*dA):NaN}function KO(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const g=r.getUTCDay()||7,a=(t-1)*7+n+1-g;return r.setUTCDate(r.getUTCDate()+a),r}const xO=[31,null,31,30,31,30,31,31,30,31,30,31];function wF(e){return e%400===0||e%4===0&&e%100!==0}function EO(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(xO[t]||(wF(e)?29:28))}function MO(e,t){return t>=1&&t<=(wF(e)?366:365)}function DO(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function TO(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function LO(e,t){return t>=0&&t<=59}function qn(e,t){const n=de(e),r=n.getFullYear(),g=n.getDate(),a=gt(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const i=WQ(a);return n.setMonth(t,Math.min(g,i)),n}function zO(e,t){let n=de(e);return isNaN(+n)?gt(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=qn(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function fC(e,t){const n=de(e);return n.setHours(t),n}function pC(e,t){const n=de(e);return n.setMinutes(t),n}function Yo(e,t){const n=de(e),r=Math.trunc(n.getMonth()/3)+1,g=t-r;return qn(n,n.getMonth()+g*3)}function hC(e,t){const n=de(e);return n.setSeconds(t),n}function lg(e,t){const n=de(e);return isNaN(+n)?gt(e,NaN):(n.setFullYear(t),n)}function Vi(e,t){return Pr(e,-t)}function RF(e,t){return sB(e,-1)}function Jw(e,t){return DC(e,-1)}function $o(e,t){return Qg(e,-t)}function fA(){return typeof window<"u"}function Fl(e){return kF(e)?(e.nodeName||"").toLowerCase():"#document"}function nr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Vg(e){var t;return(t=(kF(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function kF(e){return fA()?e instanceof Node||e instanceof nr(e).Node:!1}function wn(e){return fA()?e instanceof Element||e instanceof nr(e).Element:!1}function vg(e){return fA()?e instanceof HTMLElement||e instanceof nr(e).HTMLElement:!1}function Yw(e){return!fA()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof nr(e).ShadowRoot}function Cc(e){const{overflow:t,overflowX:n,overflowY:r,display:g}=vr(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(g)}function UO(e){return["table","td","th"].includes(Fl(e))}function pA(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function AB(e){const t=mB(),n=wn(e)?vr(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function PO(e){let t=za(e);for(;vg(t)&&!el(t);){if(AB(t))return t;if(pA(t))return null;t=za(t)}return null}function mB(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function el(e){return["html","body","#document"].includes(Fl(e))}function vr(e){return nr(e).getComputedStyle(e)}function hA(e){return wn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function za(e){if(Fl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yw(e)&&e.host||Vg(e);return Yw(t)?t.host:t}function XF(e){const t=za(e);return el(t)?e.ownerDocument?e.ownerDocument.body:e.body:vg(t)&&Cc(t)?t:XF(t)}function ds(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const g=XF(e),a=g===((r=e.ownerDocument)==null?void 0:r.body),i=nr(g);if(a){const l=iZ(i);return t.concat(i,i.visualViewport||[],Cc(g)?g:[],l&&n?ds(l):[])}return t.concat(g,ds(g,[],n))}function iZ(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const tl=Math.min,wi=Math.max,OC=Math.round,Lu=Math.floor,bg=e=>({x:e,y:e}),QO={left:"right",right:"left",bottom:"top",top:"bottom"},OO={start:"end",end:"start"};function jO(e,t,n){return wi(e,tl(t,n))}function bA(e,t){return typeof e=="function"?e(t):e}function nl(e){return e.split("-")[0]}function dc(e){return e.split("-")[1]}function _O(e){return e==="x"?"y":"x"}function fB(e){return e==="y"?"height":"width"}function As(e){return["top","bottom"].includes(nl(e))?"y":"x"}function pB(e){return _O(As(e))}function qO(e,t,n){n===void 0&&(n=!1);const r=dc(e),g=pB(e),a=fB(g);let i=g==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(i=jC(i)),[i,jC(i)]}function $O(e){const t=jC(e);return[oZ(e),t,oZ(t)]}function oZ(e){return e.replace(/start|end/g,t=>OO[t])}function ej(e,t,n){const r=["left","right"],g=["right","left"],a=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return n?t?g:r:t?r:g;case"left":case"right":return t?a:i;default:return[]}}function tj(e,t,n,r){const g=dc(e);let a=ej(nl(e),n==="start",r);return g&&(a=a.map(i=>i+"-"+g),t&&(a=a.concat(a.map(oZ)))),a}function jC(e){return e.replace(/left|right|bottom|top/g,t=>QO[t])}function nj(e){return{top:0,right:0,bottom:0,left:0,...e}}function JF(e){return typeof e!="number"?nj(e):{top:e,right:e,bottom:e,left:e}}function _C(e){const{x:t,y:n,width:r,height:g}=e;return{width:r,height:g,top:n,left:t,right:t+r,bottom:n+g,x:t,y:n}}function Hw(e,t,n){let{reference:r,floating:g}=e;const a=As(t),i=pB(t),l=fB(i),s=nl(t),c=a==="y",C=r.x+r.width/2-g.width/2,d=r.y+r.height/2-g.height/2,A=r[l]/2-g[l]/2;let f;switch(s){case"top":f={x:C,y:r.y-g.height};break;case"bottom":f={x:C,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:d};break;case"left":f={x:r.x-g.width,y:d};break;default:f={x:r.x,y:r.y}}switch(dc(t)){case"start":f[i]-=A*(n&&c?-1:1);break;case"end":f[i]+=A*(n&&c?-1:1);break}return f}const rj=async(e,t,n)=>{const{placement:r="bottom",strategy:g="absolute",middleware:a=[],platform:i}=n,l=a.filter(Boolean),s=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:g}),{x:C,y:d}=Hw(c,r,s),A=r,f={},b=0;for(let p=0;p<l.length;p++){const{name:h,fn:G}=l[p],{x:v,y:S,data:V,reset:Z}=await G({x:C,y:d,initialPlacement:r,placement:A,strategy:g,middlewareData:f,rects:c,platform:i,elements:{reference:e,floating:t}});C=v??C,d=S??d,f={...f,[h]:{...f[h],...V}},Z&&b<=50&&(b++,typeof Z=="object"&&(Z.placement&&(A=Z.placement),Z.rects&&(c=Z.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:g}):Z.rects),{x:C,y:d}=Hw(c,A,s)),p=-1)}return{x:C,y:d,placement:A,strategy:g,middlewareData:f}};async function gj(e,t){var n;t===void 0&&(t={});const{x:r,y:g,platform:a,rects:i,elements:l,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:C="viewport",elementContext:d="floating",altBoundary:A=!1,padding:f=0}=bA(t,e),b=JF(f),h=l[A?d==="floating"?"reference":"floating":d],G=_C(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(h)))==null||n?h:h.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:c,rootBoundary:C,strategy:s})),v=d==="floating"?{x:r,y:g,width:i.floating.width,height:i.floating.height}:i.reference,S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),V=await(a.isElement==null?void 0:a.isElement(S))?await(a.getScale==null?void 0:a.getScale(S))||{x:1,y:1}:{x:1,y:1},Z=_C(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:S,strategy:s}):v);return{top:(G.top-Z.top+b.top)/V.y,bottom:(Z.bottom-G.bottom+b.bottom)/V.y,left:(G.left-Z.left+b.left)/V.x,right:(Z.right-G.right+b.right)/V.x}}const aj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:g,rects:a,platform:i,elements:l,middlewareData:s}=t,{element:c,padding:C=0}=bA(e,t)||{};if(c==null)return{};const d=JF(C),A={x:n,y:r},f=pB(g),b=fB(f),p=await i.getDimensions(c),h=f==="y",G=h?"top":"left",v=h?"bottom":"right",S=h?"clientHeight":"clientWidth",V=a.reference[b]+a.reference[f]-A[f]-a.floating[b],Z=A[f]-a.reference[f],W=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let w=W?W[S]:0;(!w||!await(i.isElement==null?void 0:i.isElement(W)))&&(w=l.floating[S]||a.floating[b]);const X=V/2-Z/2,N=w/2-p[b]/2-1,R=tl(d[G],N),Y=tl(d[v],N),K=R,E=w-p[b]-Y,L=w/2-p[b]/2+X,z=jO(K,L,E),U=!s.arrow&&dc(g)!=null&&L!==z&&a.reference[b]/2-(L<K?R:Y)-p[b]/2<0,O=U?L<K?L-K:L-E:0;return{[f]:A[f]+O,data:{[f]:z,centerOffset:L-z-O,...U&&{alignmentOffset:O}},reset:U}}}),ij=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:g,middlewareData:a,rects:i,initialPlacement:l,platform:s,elements:c}=t,{mainAxis:C=!0,crossAxis:d=!0,fallbackPlacements:A,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:p=!0,...h}=bA(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const G=nl(g),v=As(l),S=nl(l)===l,V=await(s.isRTL==null?void 0:s.isRTL(c.floating)),Z=A||(S||!p?[jC(l)]:$O(l)),W=b!=="none";!A&&W&&Z.push(...tj(l,p,b,V));const w=[l,...Z],X=await gj(t,h),N=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(C&&N.push(X[G]),d){const L=qO(g,i,V);N.push(X[L[0]],X[L[1]])}if(R=[...R,{placement:g,overflows:N}],!N.every(L=>L<=0)){var Y,K;const L=(((Y=a.flip)==null?void 0:Y.index)||0)+1,z=w[L];if(z)return{data:{index:L,overflows:R},reset:{placement:z}};let U=(K=R.filter(O=>O.overflows[0]<=0).sort((O,D)=>O.overflows[1]-D.overflows[1])[0])==null?void 0:K.placement;if(!U)switch(f){case"bestFit":{var E;const O=(E=R.filter(D=>{if(W){const _=As(D.placement);return _===v||_==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(_=>_>0).reduce((_,te)=>_+te,0)]).sort((D,_)=>D[1]-_[1])[0])==null?void 0:E[0];O&&(U=O);break}case"initialPlacement":U=l;break}if(g!==U)return{reset:{placement:U}}}return{}}}};async function oj(e,t){const{placement:n,platform:r,elements:g}=e,a=await(r.isRTL==null?void 0:r.isRTL(g.floating)),i=nl(n),l=dc(n),s=As(n)==="y",c=["left","top"].includes(i)?-1:1,C=a&&s?-1:1,d=bA(t,e);let{mainAxis:A,crossAxis:f,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(f=l==="end"?b*-1:b),s?{x:f*C,y:A*c}:{x:A*c,y:f*C}}const lj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:g,y:a,placement:i,middlewareData:l}=t,s=await oj(t,e);return i===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:g+s.x,y:a+s.y,data:{...s,placement:i}}}}};function YF(e){const t=vr(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const g=vg(e),a=g?e.offsetWidth:n,i=g?e.offsetHeight:r,l=OC(n)!==a||OC(r)!==i;return l&&(n=a,r=i),{width:n,height:r,$:l}}function hB(e){return wn(e)?e:e.contextElement}function Eo(e){const t=hB(e);if(!vg(t))return bg(1);const n=t.getBoundingClientRect(),{width:r,height:g,$:a}=YF(t);let i=(a?OC(n.width):n.width)/r,l=(a?OC(n.height):n.height)/g;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const Ij=bg(0);function HF(e){const t=nr(e);return!mB()||!t.visualViewport?Ij:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==nr(e)?!1:t}function Fi(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const g=e.getBoundingClientRect(),a=hB(e);let i=bg(1);t&&(r?wn(r)&&(i=Eo(r)):i=Eo(e));const l=sj(a,n,r)?HF(a):bg(0);let s=(g.left+l.x)/i.x,c=(g.top+l.y)/i.y,C=g.width/i.x,d=g.height/i.y;if(a){const A=nr(a),f=r&&wn(r)?nr(r):r;let b=A,p=iZ(b);for(;p&&r&&f!==b;){const h=Eo(p),G=p.getBoundingClientRect(),v=vr(p),S=G.left+(p.clientLeft+parseFloat(v.paddingLeft))*h.x,V=G.top+(p.clientTop+parseFloat(v.paddingTop))*h.y;s*=h.x,c*=h.y,C*=h.x,d*=h.y,s+=S,c+=V,b=nr(p),p=iZ(b)}}return _C({width:C,height:d,x:s,y:c})}function bB(e,t){const n=hA(e).scrollLeft;return t?t.left+n:Fi(Vg(e)).left+n}function NF(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),g=r.left+t.scrollLeft-(n?0:bB(e,r)),a=r.top+t.scrollTop;return{x:g,y:a}}function cj(e){let{elements:t,rect:n,offsetParent:r,strategy:g}=e;const a=g==="fixed",i=Vg(r),l=t?pA(t.floating):!1;if(r===i||l&&a)return n;let s={scrollLeft:0,scrollTop:0},c=bg(1);const C=bg(0),d=vg(r);if((d||!d&&!a)&&((Fl(r)!=="body"||Cc(i))&&(s=hA(r)),vg(r))){const f=Fi(r);c=Eo(r),C.x=f.x+r.clientLeft,C.y=f.y+r.clientTop}const A=i&&!d&&!a?NF(i,s,!0):bg(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-s.scrollLeft*c.x+C.x+A.x,y:n.y*c.y-s.scrollTop*c.y+C.y+A.y}}function uj(e){return Array.from(e.getClientRects())}function Cj(e){const t=Vg(e),n=hA(e),r=e.ownerDocument.body,g=wi(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=wi(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+bB(e);const l=-n.scrollTop;return vr(r).direction==="rtl"&&(i+=wi(t.clientWidth,r.clientWidth)-g),{width:g,height:a,x:i,y:l}}function dj(e,t){const n=nr(e),r=Vg(e),g=n.visualViewport;let a=r.clientWidth,i=r.clientHeight,l=0,s=0;if(g){a=g.width,i=g.height;const c=mB();(!c||c&&t==="fixed")&&(l=g.offsetLeft,s=g.offsetTop)}return{width:a,height:i,x:l,y:s}}function Aj(e,t){const n=Fi(e,!0,t==="fixed"),r=n.top+e.clientTop,g=n.left+e.clientLeft,a=vg(e)?Eo(e):bg(1),i=e.clientWidth*a.x,l=e.clientHeight*a.y,s=g*a.x,c=r*a.y;return{width:i,height:l,x:s,y:c}}function Nw(e,t,n){let r;if(t==="viewport")r=dj(e,n);else if(t==="document")r=Cj(Vg(e));else if(wn(t))r=Aj(t,n);else{const g=HF(e);r={x:t.x-g.x,y:t.y-g.y,width:t.width,height:t.height}}return _C(r)}function FF(e,t){const n=za(e);return n===t||!wn(n)||el(n)?!1:vr(n).position==="fixed"||FF(n,t)}function mj(e,t){const n=t.get(e);if(n)return n;let r=ds(e,[],!1).filter(l=>wn(l)&&Fl(l)!=="body"),g=null;const a=vr(e).position==="fixed";let i=a?za(e):e;for(;wn(i)&&!el(i);){const l=vr(i),s=AB(i);!s&&l.position==="fixed"&&(g=null),(a?!s&&!g:!s&&l.position==="static"&&!!g&&["absolute","fixed"].includes(g.position)||Cc(i)&&!s&&FF(e,i))?r=r.filter(C=>C!==i):g=l,i=za(i)}return t.set(e,r),r}function fj(e){let{element:t,boundary:n,rootBoundary:r,strategy:g}=e;const i=[...n==="clippingAncestors"?pA(t)?[]:mj(t,this._c):[].concat(n),r],l=i[0],s=i.reduce((c,C)=>{const d=Nw(t,C,g);return c.top=wi(d.top,c.top),c.right=tl(d.right,c.right),c.bottom=tl(d.bottom,c.bottom),c.left=wi(d.left,c.left),c},Nw(t,l,g));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function pj(e){const{width:t,height:n}=YF(e);return{width:t,height:n}}function hj(e,t,n){const r=vg(t),g=Vg(t),a=n==="fixed",i=Fi(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const s=bg(0);if(r||!r&&!a)if((Fl(t)!=="body"||Cc(g))&&(l=hA(t)),r){const A=Fi(t,!0,a,t);s.x=A.x+t.clientLeft,s.y=A.y+t.clientTop}else g&&(s.x=bB(g));const c=g&&!r&&!a?NF(g,l):bg(0),C=i.left+l.scrollLeft-s.x-c.x,d=i.top+l.scrollTop-s.y-c.y;return{x:C,y:d,width:i.width,height:i.height}}function Rp(e){return vr(e).position==="static"}function Fw(e,t){if(!vg(e)||vr(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Vg(e)===n&&(n=n.ownerDocument.body),n}function KF(e,t){const n=nr(e);if(pA(e))return n;if(!vg(e)){let g=za(e);for(;g&&!el(g);){if(wn(g)&&!Rp(g))return g;g=za(g)}return n}let r=Fw(e,t);for(;r&&UO(r)&&Rp(r);)r=Fw(r,t);return r&&el(r)&&Rp(r)&&!AB(r)?n:r||PO(e)||n}const bj=async function(e){const t=this.getOffsetParent||KF,n=this.getDimensions,r=await n(e.floating);return{reference:hj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function yj(e){return vr(e).direction==="rtl"}const Zj={convertOffsetParentRelativeRectToViewportRelativeRect:cj,getDocumentElement:Vg,getClippingRect:fj,getOffsetParent:KF,getElementRects:bj,getClientRects:uj,getDimensions:pj,getScale:Eo,isElement:wn,isRTL:yj};function xF(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Gj(e,t){let n=null,r;const g=Vg(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function i(l,s){l===void 0&&(l=!1),s===void 0&&(s=1),a();const c=e.getBoundingClientRect(),{left:C,top:d,width:A,height:f}=c;if(l||t(),!A||!f)return;const b=Lu(d),p=Lu(g.clientWidth-(C+A)),h=Lu(g.clientHeight-(d+f)),G=Lu(C),S={rootMargin:-b+"px "+-p+"px "+-h+"px "+-G+"px",threshold:wi(0,tl(1,s))||1};let V=!0;function Z(W){const w=W[0].intersectionRatio;if(w!==s){if(!V)return i();w?i(!1,w):r=setTimeout(()=>{i(!1,1e-7)},1e3)}w===1&&!xF(c,e.getBoundingClientRect())&&i(),V=!1}try{n=new IntersectionObserver(Z,{...S,root:g.ownerDocument})}catch{n=new IntersectionObserver(Z,S)}n.observe(e)}return i(!0),a}function Bj(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:g=!0,ancestorResize:a=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=r,c=hB(e),C=g||a?[...c?ds(c):[],...ds(t)]:[];C.forEach(G=>{g&&G.addEventListener("scroll",n,{passive:!0}),a&&G.addEventListener("resize",n)});const d=c&&l?Gj(c,n):null;let A=-1,f=null;i&&(f=new ResizeObserver(G=>{let[v]=G;v&&v.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(A),A=requestAnimationFrame(()=>{var S;(S=f)==null||S.observe(t)})),n()}),c&&!s&&f.observe(c),f.observe(t));let b,p=s?Fi(e):null;s&&h();function h(){const G=Fi(e);p&&!xF(p,G)&&n(),p=G,b=requestAnimationFrame(h)}return n(),()=>{var G;C.forEach(v=>{g&&v.removeEventListener("scroll",n),a&&v.removeEventListener("resize",n)}),d==null||d(),(G=f)==null||G.disconnect(),f=null,s&&cancelAnimationFrame(b)}}const vj=lj,Sj=ij,Kw=aj,Wj=(e,t,n)=>{const r=new Map,g={platform:Zj,...n},a={...g.platform,_c:r};return rj(e,t,{...g,platform:a})};var bC=typeof document<"u"?J.useLayoutEffect:J.useEffect;function qC(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,g;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!qC(e[r],t[r]))return!1;return!0}if(g=Object.keys(e),n=g.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,g[r]))return!1;for(r=n;r--!==0;){const a=g[r];if(!(a==="_owner"&&e.$$typeof)&&!qC(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function EF(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xw(e,t){const n=EF(e);return Math.round(t*n)/n}function kp(e){const t=J.useRef(e);return bC(()=>{t.current=e}),t}function Vj(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:g,elements:{reference:a,floating:i}={},transform:l=!0,whileElementsMounted:s,open:c}=e,[C,d]=J.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[A,f]=J.useState(r);qC(A,r)||f(r);const[b,p]=J.useState(null),[h,G]=J.useState(null),v=J.useCallback(D=>{D!==W.current&&(W.current=D,p(D))},[]),S=J.useCallback(D=>{D!==w.current&&(w.current=D,G(D))},[]),V=a||b,Z=i||h,W=J.useRef(null),w=J.useRef(null),X=J.useRef(C),N=s!=null,R=kp(s),Y=kp(g),K=kp(c),E=J.useCallback(()=>{if(!W.current||!w.current)return;const D={placement:t,strategy:n,middleware:A};Y.current&&(D.platform=Y.current),Wj(W.current,w.current,D).then(_=>{const te={..._,isPositioned:K.current!==!1};L.current&&!qC(X.current,te)&&(X.current=te,UH.flushSync(()=>{d(te)}))})},[A,t,n,Y,K]);bC(()=>{c===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const L=J.useRef(!1);bC(()=>(L.current=!0,()=>{L.current=!1}),[]),bC(()=>{if(V&&(W.current=V),Z&&(w.current=Z),V&&Z){if(R.current)return R.current(V,Z,E);E()}},[V,Z,E,R,N]);const z=J.useMemo(()=>({reference:W,floating:w,setReference:v,setFloating:S}),[v,S]),U=J.useMemo(()=>({reference:V,floating:Z}),[V,Z]),O=J.useMemo(()=>{const D={position:n,left:0,top:0};if(!U.floating)return D;const _=xw(U.floating,C.x),te=xw(U.floating,C.y);return l?{...D,transform:"translate("+_+"px, "+te+"px)",...EF(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:_,top:te}},[n,l,U.floating,C.x,C.y]);return J.useMemo(()=>({...C,update:E,refs:z,elements:U,floatingStyles:O}),[C,E,z,U,O])}const wj=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:g}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Kw({element:r.current,padding:g}).fn(n):{}:r?Kw({element:r,padding:g}).fn(n):{}}}},Rj=(e,t)=>({...vj(e),options:[e,t]}),kj=(e,t)=>({...Sj(e),options:[e,t]}),Xj=(e,t)=>({...wj(e),options:[e,t]}),MF={...T0},Jj=MF.useInsertionEffect,Yj=Jj||(e=>e());function Hj(e){const t=J.useRef(()=>{});return Yj(()=>{t.current=e}),J.useCallback(function(){for(var n=arguments.length,r=new Array(n),g=0;g<n;g++)r[g]=arguments[g];return t.current==null?void 0:t.current(...r)},[])}var $C=typeof document<"u"?J.useLayoutEffect:J.useEffect;let Ew=!1,Nj=0;const Mw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Nj++;function Fj(){const[e,t]=J.useState(()=>Ew?Mw():void 0);return $C(()=>{e==null&&t(Mw())},[]),J.useEffect(()=>{Ew=!0},[]),e}const Kj=MF.useId,DF=Kj||Fj,xj=J.forwardRef(function(t,n){const{context:{placement:r,elements:{floating:g},middlewareData:{arrow:a,shift:i}},width:l=14,height:s=7,tipRadius:c=0,strokeWidth:C=0,staticOffset:d,stroke:A,d:f,style:{transform:b,...p}={},...h}=t,G=DF(),[v,S]=J.useState(!1);if($C(()=>{if(!g)return;vr(g).direction==="rtl"&&S(!0)},[g]),!g)return null;const[V,Z]=r.split("-"),W=V==="top"||V==="bottom";let w=d;(W&&i!=null&&i.x||!W&&i!=null&&i.y)&&(w=null);const X=C*2,N=X/2,R=l/2*(c/-8+1),Y=s/2*c/4,K=!!f,E=w&&Z==="end"?"bottom":"top";let L=w&&Z==="end"?"right":"left";w&&v&&(L=Z==="end"?"left":"right");const z=(a==null?void 0:a.x)!=null?w||a.x:"",U=(a==null?void 0:a.y)!=null?w||a.y:"",O=f||"M0,0"+(" H"+l)+(" L"+(l-R)+","+(s-Y))+(" Q"+l/2+","+s+" "+R+","+(s-Y))+" Z",D={top:K?"rotate(180deg)":"",left:K?"rotate(90deg)":"rotate(-90deg)",bottom:K?"":"rotate(180deg)",right:K?"rotate(-90deg)":"rotate(90deg)"}[V];return Ya.jsxs("svg",{...h,"aria-hidden":!0,ref:n,width:K?l:l+X,height:l,viewBox:"0 0 "+l+" "+(s>l?s:l),style:{position:"absolute",pointerEvents:"none",[L]:z,[E]:U,[V]:W||K?"100%":"calc(100% - "+X/2+"px)",transform:[D,b].filter(_=>!!_).join(" "),...p},children:[X>0&&Ya.jsx("path",{clipPath:"url(#"+G+")",fill:"none",stroke:A,strokeWidth:X+(f?0:1),d:O}),Ya.jsx("path",{stroke:X&&!f?h.fill:"none",d:O}),Ya.jsx("clipPath",{id:G,children:Ya.jsx("rect",{x:-N,y:N*(K?-1:1),width:l+X,height:l})})]})});function Ej(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(g=>g(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(g=>g!==n))||[])}}}const Mj=J.createContext(null),Dj=J.createContext(null),Tj=()=>{var e;return((e=J.useContext(Mj))==null?void 0:e.id)||null},Lj=()=>J.useContext(Dj);function zj(e){const{open:t=!1,onOpenChange:n,elements:r}=e,g=DF(),a=J.useRef({}),[i]=J.useState(()=>Ej()),l=Tj()!=null,[s,c]=J.useState(r.reference),C=Hj((f,b,p)=>{a.current.openEvent=f?b:void 0,i.emit("openchange",{open:f,event:b,reason:p,nested:l}),n==null||n(f,b,p)}),d=J.useMemo(()=>({setPositionReference:c}),[]),A=J.useMemo(()=>({reference:s||r.reference||null,floating:r.floating||null,domReference:r.reference}),[s,r.reference,r.floating]);return J.useMemo(()=>({dataRef:a,open:t,onOpenChange:C,elements:A,events:i,floatingId:g,refs:d}),[t,C,A,i,g,d])}function Uj(e){e===void 0&&(e={});const{nodeId:t}=e,n=zj({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,g=r.elements,[a,i]=J.useState(null),[l,s]=J.useState(null),C=(g==null?void 0:g.domReference)||a,d=J.useRef(null),A=Lj();$C(()=>{C&&(d.current=C)},[C]);const f=Vj({...e,elements:{...g,...l&&{reference:l}}}),b=J.useCallback(S=>{const V=wn(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),contextElement:S}:S;s(V),f.refs.setReference(V)},[f.refs]),p=J.useCallback(S=>{(wn(S)||S===null)&&(d.current=S,i(S)),(wn(f.refs.reference.current)||f.refs.reference.current===null||S!==null&&!wn(S))&&f.refs.setReference(S)},[f.refs]),h=J.useMemo(()=>({...f.refs,setReference:p,setPositionReference:b,domReference:d}),[f.refs,p,b]),G=J.useMemo(()=>({...f.elements,domReference:C}),[f.elements,C]),v=J.useMemo(()=>({...f,...r,refs:h,elements:G,nodeId:t}),[f,h,G,t,r]);return $C(()=>{r.dataRef.current.floatingContext=v;const S=A==null?void 0:A.nodesRef.current.find(V=>V.id===t);S&&(S.context=v)}),J.useMemo(()=>({...f,context:v,refs:h,elements:G}),[f,h,G,v])}/*!
  react-datepicker v7.6.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var lZ=function(t,n){return lZ=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,g){r.__proto__=g}||function(r,g){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&(r[a]=g[a])},lZ(t,n)};function an(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");lZ(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Le=function(){return Le=Object.assign||function(n){for(var r,g=1,a=arguments.length;g<a;g++){r=arguments[g];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Le.apply(this,arguments)};function mg(e,t,n){if(n||arguments.length===2)for(var r=0,g=t.length,a;r<g;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var Pj=function(e){var t=e.showTimeSelectOnly,n=t===void 0?!1:t,r=e.showTime,g=r===void 0?!1:r,a=e.className,i=e.children,l=n?"Choose Time":"Choose Date".concat(g?" and Time":"");return H.createElement("div",{className:a,role:"dialog","aria-label":l,"aria-modal":"true"},i)},Qj=function(e,t){var n=J.useRef(null),r=J.useRef(e);r.current=e;var g=J.useCallback(function(a){var i;n.current&&!n.current.contains(a.target)&&(t&&a.target instanceof HTMLElement&&a.target.classList.contains(t)||(i=r.current)===null||i===void 0||i.call(r,a))},[t]);return J.useEffect(function(){return document.addEventListener("mousedown",g),function(){document.removeEventListener("mousedown",g)}},[g]),n},yA=function(e){var t=e.children,n=e.onClickOutside,r=e.className,g=e.containerRef,a=e.style,i=e.ignoreClass,l=Qj(n,i);return H.createElement("div",{className:r,style:a,ref:function(s){l.current=s,g&&(g.current=s)}},t)},ue;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(ue||(ue={}));function TF(){var e=typeof window<"u"?window:globalThis;return e}var Ac=12,Oj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function at(e){if(e==null)return new Date;var t=typeof e=="string"?wO(e):de(e);return Mg(t)?t:new Date}function Xp(e,t,n,r,g){var a,i=null,l=Ri(n)||Ri(gs()),s=!0;if(Array.isArray(t))return t.forEach(function(C){var d=Vp(e,C,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(s=Mg(d,g)&&e===bt(d,C,n)),Mg(d,g)&&s&&(i=d)}),i;if(i=Vp(e,t,new Date,{locale:l,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r)s=Mg(i)&&e===bt(i,t,n);else if(!Mg(i)){var c=((a=t.match(Oj))!==null&&a!==void 0?a:[]).map(function(C){var d=C[0];if(d==="p"||d==="P"){var A=PC[d];return l?A(C,l.formatLong):d}return C}).join("");e.length>0&&(i=Vp(e,c.slice(0,e.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),Mg(i)||(i=new Date(e))}return Mg(i)&&s?i:null}function Mg(e,t){return TC(e)&&!Ni(e,t??new Date("1/1/1800"))}function bt(e,t,n){if(n==="en")return kw(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=n?Ri(n):void 0;return n&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(n,'"].')),!r&&gs()&&Ri(gs())&&(r=Ri(gs())),kw(e,t,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function pr(e,t){var n=t.dateFormat,r=t.locale,g=Array.isArray(n)&&n.length>0?n[0]:n;return e&&bt(e,g,r)||""}function jj(e,t,n){if(!e)return"";var r=pr(e,n),g=t?pr(t,n):"";return"".concat(r," - ").concat(g)}function _j(e,t){if(!(e!=null&&e.length))return"";var n=e[0]?pr(e[0],t):"";if(e.length===1)return n;if(e.length===2&&e[1]){var r=pr(e[1],t);return"".concat(n,", ").concat(r)}var g=e.length-1;return"".concat(n," (+").concat(g,")")}function Jp(e,t){var n=t.hour,r=n===void 0?0:n,g=t.minute,a=g===void 0?0:g,i=t.second,l=i===void 0?0:i;return fC(pC(hC(e,l),a),r)}function qj(e){return cB(e)}function $j(e,t){return bt(e,"ddd",t)}function yC(e){return Hi(e)}function Ea(e,t,n){var r=Ri(t||gs());return na(e,{locale:r,weekStartsOn:n})}function _g(e){return pF(e)}function _I(e){return mA(e)}function Dw(e){return rZ(e)}function Tw(){return Hi(at())}function Lw(e){return mF(e)}function e4(e){return YP(e)}function t4(e){return fF(e)}function Ig(e,t){return e&&t?WO(e,t):!e&&!t}function Wn(e,t){return e&&t?vO(e,t):!e&&!t}function ed(e,t){return e&&t?SO(e,t):!e&&!t}function Me(e,t){return e&&t?XP(e,t):!e&&!t}function bi(e,t){return e&&t?RQ(e,t):!e&&!t}function qI(e,t,n){var r,g=Hi(t),a=mF(n);try{r=Cs(e,{start:g,end:a})}catch{r=!1}return r}function gs(){var e=TF();return e.__localeId__}function Ri(e){if(typeof e=="string"){var t=TF();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function n4(e,t,n){return t(bt(e,"EEEE",n))}function r4(e,t){return bt(e,"EEEEEE",t)}function g4(e,t){return bt(e,"EEE",t)}function yB(e,t){return bt(qn(at(),e),"LLLL",t)}function LF(e,t){return bt(qn(at(),e),"LLL",t)}function a4(e,t){return bt(Yo(at(),e),"QQQ",t)}function hr(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.maxDate,a=n.excludeDates,i=n.excludeDateIntervals,l=n.includeDates,s=n.includeDateIntervals,c=n.filterDate;return mc(e,{minDate:r,maxDate:g})||a&&a.some(function(C){return C instanceof Date?Me(e,C):Me(e,C.date)})||i&&i.some(function(C){var d=C.start,A=C.end;return Cs(e,{start:d,end:A})})||l&&!l.some(function(C){return Me(e,C)})||s&&!s.some(function(C){var d=C.start,A=C.end;return Cs(e,{start:d,end:A})})||c&&!c(at(e))||!1}function ZB(e,t){var n=t===void 0?{}:t,r=n.excludeDates,g=n.excludeDateIntervals;return g&&g.length>0?g.some(function(a){var i=a.start,l=a.end;return Cs(e,{start:i,end:l})}):r&&r.some(function(a){var i;return a instanceof Date?Me(e,a):Me(e,(i=a.date)!==null&&i!==void 0?i:new Date)})||!1}function zF(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.maxDate,a=n.excludeDates,i=n.includeDates,l=n.filterDate;return mc(e,{minDate:r?pF(r):void 0,maxDate:g?fF(g):void 0})||(a==null?void 0:a.some(function(s){return Wn(e,s instanceof Date?s:s.date)}))||i&&!i.some(function(s){return Wn(e,s)})||l&&!l(at(e))||!1}function zu(e,t,n,r){var g=Ne(e),a=Vn(e),i=Ne(t),l=Vn(t),s=Ne(r);return g===i&&g===s?a<=n&&n<=l:g<i?s===g&&a<=n||s===i&&l>=n||s<i&&s>g:!1}function i4(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.maxDate,a=n.excludeDates,i=n.includeDates;return mc(e,{minDate:r,maxDate:g})||a&&a.some(function(l){return Wn(l instanceof Date?l:l.date,e)})||i&&!i.some(function(l){return Wn(l,e)})||!1}function Uu(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.maxDate,a=n.excludeDates,i=n.includeDates,l=n.filterDate;return mc(e,{minDate:r,maxDate:g})||(a==null?void 0:a.some(function(s){return ed(e,s instanceof Date?s:s.date)}))||i&&!i.some(function(s){return ed(e,s)})||l&&!l(at(e))||!1}function Pu(e,t,n){if(!t||!n||!TC(t)||!TC(n))return!1;var r=Ne(t),g=Ne(n);return r<=e&&g>=e}function ZC(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.maxDate,a=n.excludeDates,i=n.includeDates,l=n.filterDate,s=new Date(e,0,1);return mc(s,{minDate:r?mA(r):void 0,maxDate:g?hF(g):void 0})||(a==null?void 0:a.some(function(c){return Ig(s,c instanceof Date?c:c.date)}))||i&&!i.some(function(c){return Ig(s,c)})||l&&!l(at(s))||!1}function Qu(e,t,n,r){var g=Ne(e),a=Wi(e),i=Ne(t),l=Wi(t),s=Ne(r);return g===i&&g===s?a<=n&&n<=l:g<i?s===g&&a<=n||s===i&&l>=n||s<i&&s>g:!1}function mc(e,t){var n,r=t===void 0?{}:t,g=r.minDate,a=r.maxDate;return(n=g&&qo(e,g)<0||a&&qo(e,a)>0)!==null&&n!==void 0?n:!1}function zw(e,t){return t.some(function(n){return pg(n)===pg(e)&&hg(n)===hg(e)&&jg(n)===jg(e)})}function Uw(e,t){var n=t===void 0?{}:t,r=n.excludeTimes,g=n.includeTimes,a=n.filterTime;return r&&zw(e,r)||g&&!zw(e,g)||a&&!a(e)||!1}function Pw(e,t){var n=t.minTime,r=t.maxTime;if(!n||!r)throw new Error("Both minTime and maxTime props required");var g=at();g=fC(g,pg(e)),g=pC(g,hg(e)),g=hC(g,jg(e));var a=at();a=fC(a,pg(n)),a=pC(a,hg(n)),a=hC(a,jg(n));var i=at();i=fC(i,pg(r)),i=pC(i,hg(r)),i=hC(i,jg(r));var l;try{l=!Cs(g,{start:a,end:i})}catch{l=!1}return l}function Qw(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.includeDates,a=Vi(e,1);return r&&LC(r,a)>0||g&&g.every(function(i){return LC(i,a)>0})||!1}function Ow(e,t){var n=t===void 0?{}:t,r=n.maxDate,g=n.includeDates,a=Pr(e,1);return r&&LC(a,r)>0||g&&g.every(function(i){return LC(a,i)>0})||!1}function o4(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.includeDates,a=mA(e),i=RF(a);return r&&zC(r,i)>0||g&&g.every(function(l){return zC(l,i)>0})||!1}function l4(e,t){var n=t===void 0?{}:t,r=n.maxDate,g=n.includeDates,a=hF(e),i=sB(a,1);return r&&zC(i,r)>0||g&&g.every(function(l){return zC(i,l)>0})||!1}function jw(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.includeDates,a=$o(e,1);return r&&UC(r,a)>0||g&&g.every(function(i){return UC(i,a)>0})||!1}function I4(e,t){var n=t===void 0?{}:t,r=n.minDate,g=n.yearItemNumber,a=g===void 0?Ac:g,i=_I($o(e,a)),l=Ka(i,a).endPeriod,s=r&&Ne(r);return s&&s>l||!1}function _w(e,t){var n=t===void 0?{}:t,r=n.maxDate,g=n.includeDates,a=Qg(e,1);return r&&UC(a,r)>0||g&&g.every(function(i){return UC(a,i)>0})||!1}function s4(e,t){var n=t===void 0?{}:t,r=n.maxDate,g=n.yearItemNumber,a=g===void 0?Ac:g,i=Qg(e,a),l=Ka(i,a).startPeriod,s=r&&Ne(r);return s&&s<l||!1}function UF(e){var t=e.minDate,n=e.includeDates;if(n&&t){var r=n.filter(function(g){return qo(g,t)>=0});return vw(r)}else return n?vw(n):t}function PF(e){var t=e.maxDate,n=e.includeDates;if(n&&t){var r=n.filter(function(g){return qo(g,t)<=0});return Bw(r)}else return n?Bw(n):t}function qw(e,t){var n;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var r=new Map,g=0,a=e.length;g<a;g++){var i=e[g];if(Og(i)){var l=bt(i,"MM.dd.yyyy"),s=r.get(l)||[];s.includes(t)||(s.push(t),r.set(l,s))}else if(typeof i=="object"){var c=Object.keys(i),C=(n=c[0])!==null&&n!==void 0?n:"",d=i[C];if(typeof C=="string"&&Array.isArray(d))for(var A=0,f=d.length;A<f;A++){var b=d[A];if(b){var l=bt(b,"MM.dd.yyyy"),s=r.get(l)||[];s.includes(C)||(s.push(C),r.set(l,s))}}}}return r}function c4(e,t){return e.length!==t.length?!1:e.every(function(n,r){return n===t[r]})}function u4(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var n=new Map;return e.forEach(function(r){var g=r.date,a=r.holidayName;if(Og(g)){var i=bt(g,"MM.dd.yyyy"),l=n.get(i)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&c4(l.holidayNames,[a]))){l.className=t;var s=l.holidayNames;l.holidayNames=s?mg(mg([],s,!0),[a],!1):[a],n.set(i,l)}}}),n}function C4(e,t,n,r,g){for(var a=g.length,i=[],l=0;l<a;l++){var s=e,c=g[l];c&&(s=VP(s,pg(c)),s=nZ(s,hg(c)),s=kP(s,jg(c)));var C=nZ(e,(n+1)*r);La(s,t)&&Ni(s,C)&&c!=null&&i.push(c)}return i}function $w(e){return e<10?"0".concat(e):"".concat(e)}function Ka(e,t){t===void 0&&(t=Ac);var n=Math.ceil(Ne(e)/t)*t,r=n-(t-1);return{startPeriod:r,endPeriod:n}}function d4(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+n-+t)/36e5)}function eR(e){var t=e.getSeconds(),n=e.getMilliseconds();return de(e.getTime()-t*1e3-n)}function A4(e,t){return eR(e).getTime()===eR(t).getTime()}function tR(e){if(!Og(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function nR(e,t){if(!Og(e)||!Og(t))throw new Error("Invalid date received");var n=tR(e),r=tR(t);return Ni(n,r)}function QF(e){return e.key===ue.Space}var m4=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;return r.inputRef=H.createRef(),r.onTimeChange=function(g){var a,i;r.setState({time:g});var l=r.props.date,s=l instanceof Date&&!isNaN(+l),c=s?l:new Date;if(g!=null&&g.includes(":")){var C=g.split(":"),d=C[0],A=C[1];c.setHours(Number(d)),c.setMinutes(Number(A))}(i=(a=r.props).onChange)===null||i===void 0||i.call(a,c)},r.renderTimeInput=function(){var g=r.state.time,a=r.props,i=a.date,l=a.timeString,s=a.customTimeInput;return s?J.cloneElement(s,{date:i,value:g,onChange:r.onTimeChange}):H.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:g,onChange:function(c){r.onTimeChange(c.target.value||l)}})},r.state={time:r.props.timeString},r}return t.getDerivedStateFromProps=function(n,r){return n.timeString!==r.time?{time:n.timeString}:null},t.prototype.render=function(){return H.createElement("div",{className:"react-datepicker__input-time-container"},H.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),H.createElement("div",{className:"react-datepicker-time__input-container"},H.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(J.Component),f4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.dayEl=J.createRef(),n.handleClick=function(r){!n.isDisabled()&&n.props.onClick&&n.props.onClick(r)},n.handleMouseEnter=function(r){!n.isDisabled()&&n.props.onMouseEnter&&n.props.onMouseEnter(r)},n.handleOnKeyDown=function(r){var g,a,i=r.key;i===ue.Space&&(r.preventDefault(),r.key=ue.Enter),(a=(g=n.props).handleOnKeyDown)===null||a===void 0||a.call(g,r)},n.isSameDay=function(r){return Me(n.props.day,r)},n.isKeyboardSelected=function(){var r;if(n.props.disabledKeyboardNavigation)return!1;var g=n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return n.isSameDayOrWeek(i)}):n.isSameDayOrWeek(n.props.selected),a=n.props.preSelection&&n.isDisabled(n.props.preSelection);return!g&&n.isSameDayOrWeek(n.props.preSelection)&&!a},n.isDisabled=function(r){return r===void 0&&(r=n.props.day),hr(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(){return ZB(n.props.day,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.isStartOfWeek=function(){return Me(n.props.day,Ea(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameWeek=function(r){return n.props.showWeekPicker&&Me(r,Ea(n.props.day,n.props.locale,n.props.calendarStartDay))},n.isSameDayOrWeek=function(r){return n.isSameDay(r)||n.isSameWeek(r)},n.getHighLightedClass=function(){var r=n.props,g=r.day,a=r.highlightDates;if(!a)return!1;var i=bt(g,"MM.dd.yyyy");return a.get(i)},n.getHolidaysClass=function(){var r,g=n.props,a=g.day,i=g.holidays;if(!i)return[void 0];var l=bt(a,"MM.dd.yyyy");return i.has(l)?[(r=i.get(l))===null||r===void 0?void 0:r.className]:[void 0]},n.isInRange=function(){var r=n.props,g=r.day,a=r.startDate,i=r.endDate;return!a||!i?!1:qI(g,a,i)},n.isInSelectingRange=function(){var r,g=n.props,a=g.day,i=g.selectsStart,l=g.selectsEnd,s=g.selectsRange,c=g.selectsDisabledDaysInRange,C=g.startDate,d=g.endDate,A=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return!(i||l||s)||!A||!c&&n.isDisabled()?!1:i&&d&&(Ni(A,d)||bi(A,d))?qI(a,A,d):l&&C&&(La(A,C)||bi(A,C))||s&&C&&!d&&(La(A,C)||bi(A,C))?qI(a,C,A):!1},n.isSelectingRangeStart=function(){var r;if(!n.isInSelectingRange())return!1;var g=n.props,a=g.day,i=g.startDate,l=g.selectsStart,s=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l?Me(a,s):Me(a,i)},n.isSelectingRangeEnd=function(){var r;if(!n.isInSelectingRange())return!1;var g=n.props,a=g.day,i=g.endDate,l=g.selectsEnd,s=g.selectsRange,c=(r=n.props.selectingDate)!==null&&r!==void 0?r:n.props.preSelection;return l||s?Me(a,c):Me(a,i)},n.isRangeStart=function(){var r=n.props,g=r.day,a=r.startDate,i=r.endDate;return!a||!i?!1:Me(a,g)},n.isRangeEnd=function(){var r=n.props,g=r.day,a=r.startDate,i=r.endDate;return!a||!i?!1:Me(i,g)},n.isWeekend=function(){var r=SQ(n.props.day);return r===0||r===6},n.isAfterMonth=function(){return n.props.month!==void 0&&(n.props.month+1)%12===Vn(n.props.day)},n.isBeforeMonth=function(){return n.props.month!==void 0&&(Vn(n.props.day)+1)%12===n.props.month},n.isCurrentDay=function(){return n.isSameDay(at())},n.isSelected=function(){var r;return n.props.selectsMultiple?(r=n.props.selectedDates)===null||r===void 0?void 0:r.some(function(g){return n.isSameDayOrWeek(g)}):n.isSameDayOrWeek(n.props.selected)},n.getClassNames=function(r){var g=n.props.dayClassName?n.props.dayClassName(r):void 0;return Ve("react-datepicker__day",g,"react-datepicker__day--"+$j(n.props.day),{"react-datepicker__day--disabled":n.isDisabled(),"react-datepicker__day--excluded":n.isExcluded(),"react-datepicker__day--selected":n.isSelected(),"react-datepicker__day--keyboard-selected":n.isKeyboardSelected(),"react-datepicker__day--range-start":n.isRangeStart(),"react-datepicker__day--range-end":n.isRangeEnd(),"react-datepicker__day--in-range":n.isInRange(),"react-datepicker__day--in-selecting-range":n.isInSelectingRange(),"react-datepicker__day--selecting-range-start":n.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":n.isSelectingRangeEnd(),"react-datepicker__day--today":n.isCurrentDay(),"react-datepicker__day--weekend":n.isWeekend(),"react-datepicker__day--outside-month":n.isAfterMonth()||n.isBeforeMonth()},n.getHighLightedClass(),n.getHolidaysClass())},n.getAriaLabel=function(){var r=n.props,g=r.day,a=r.ariaLabelPrefixWhenEnabled,i=a===void 0?"Choose":a,l=r.ariaLabelPrefixWhenDisabled,s=l===void 0?"Not available":l,c=n.isDisabled()||n.isExcluded()?s:i;return"".concat(c," ").concat(bt(g,"PPPP",n.props.locale))},n.getTitle=function(){var r=n.props,g=r.day,a=r.holidays,i=a===void 0?new Map:a,l=r.excludeDates,s=bt(g,"MM.dd.yyyy"),c=[];return i.has(s)&&c.push.apply(c,i.get(s).holidayNames),n.isExcluded()&&c.push(l==null?void 0:l.filter(function(C){return C instanceof Date?Me(C,g):Me(C==null?void 0:C.date,g)}).map(function(C){if(!(C instanceof Date))return C==null?void 0:C.message})),c.join(", ")},n.getTabIndex=function(){var r=n.props.selected,g=n.props.preSelection,a=!(n.props.showWeekPicker&&(n.props.showWeekNumber||!n.isStartOfWeek()))&&(n.isKeyboardSelected()||n.isSameDay(r)&&Me(g,r))?0:-1;return a},n.handleFocusDay=function(){var r;n.shouldFocusDay()&&((r=n.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},n.renderDayContents=function(){return n.props.monthShowsDuplicateDaysEnd&&n.isAfterMonth()||n.props.monthShowsDuplicateDaysStart&&n.isBeforeMonth()?null:n.props.renderDayContents?n.props.renderDayContents(Xw(n.props.day),n.props.day):Xw(n.props.day)},n.render=function(){return H.createElement("div",{ref:n.dayEl,className:n.getClassNames(n.props.day),onKeyDown:n.handleOnKeyDown,onClick:n.handleClick,onMouseEnter:n.props.usePointerEvent?void 0:n.handleMouseEnter,onPointerEnter:n.props.usePointerEvent?n.handleMouseEnter:void 0,tabIndex:n.getTabIndex(),"aria-label":n.getAriaLabel(),role:"option",title:n.getTitle(),"aria-disabled":n.isDisabled(),"aria-current":n.isCurrentDay()?"date":void 0,"aria-selected":n.isSelected()||n.isInRange()},n.renderDayContents(),n.getTitle()!==""&&H.createElement("span",{className:"overlay"},n.getTitle()))},n}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var n=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(n=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(n=!1),this.isDayActiveElement()&&(n=!0),this.isDuplicateDay()&&(n=!1)),n},t.prototype.isDayActiveElement=function(){var n,r,g;return((r=(n=this.props.containerRef)===null||n===void 0?void 0:n.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((g=document.activeElement)===null||g===void 0?void 0:g.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(J.Component),p4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.weekNumberEl=J.createRef(),n.handleClick=function(r){n.props.onClick&&n.props.onClick(r)},n.handleOnKeyDown=function(r){var g,a,i=r.key;i===ue.Space&&(r.preventDefault(),r.key=ue.Enter),(a=(g=n.props).handleOnKeyDown)===null||a===void 0||a.call(g,r)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Me(n.props.date,n.props.selected)&&Me(n.props.date,n.props.preSelection)},n.getTabIndex=function(){return n.props.showWeekPicker&&n.props.showWeekNumber&&(n.isKeyboardSelected()||Me(n.props.date,n.props.selected)&&Me(n.props.preSelection,n.props.selected))?0:-1},n.handleFocusWeekNumber=function(r){var g=!1;n.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&Me(n.props.date,n.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(g=!0),n.props.inline&&!n.props.shouldFocusDayInline&&(g=!1),n.props.containerRef&&n.props.containerRef.current&&n.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(g=!0)),g&&n.weekNumberEl.current&&n.weekNumberEl.current.focus({preventScroll:!0})},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(n){this.handleFocusWeekNumber(n)},t.prototype.render=function(){var n=this.props,r=n.weekNumber,g=n.isWeekDisabled,a=n.ariaLabelPrefix,i=a===void 0?t.defaultProps.ariaLabelPrefix:a,l=n.onClick,s={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!g,"react-datepicker__week-number--selected":!!l&&Me(this.props.date,this.props.selected)};return H.createElement("div",{ref:this.weekNumberEl,className:Ve(s),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},r)},t}(J.Component),h4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isDisabled=function(r){return hr(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.handleDayClick=function(r,g){n.props.onDayClick&&n.props.onDayClick(r,g)},n.handleDayMouseEnter=function(r){n.props.onDayMouseEnter&&n.props.onDayMouseEnter(r)},n.handleWeekClick=function(r,g,a){for(var i,l,s,c=new Date(r),C=0;C<7;C++){var d=new Date(r);d.setDate(d.getDate()+C);var A=!n.isDisabled(d);if(A){c=d;break}}typeof n.props.onWeekSelect=="function"&&n.props.onWeekSelect(c,g,a),n.props.showWeekPicker&&n.handleDayClick(c,a),((i=n.props.shouldCloseOnSelect)!==null&&i!==void 0?i:t.defaultProps.shouldCloseOnSelect)&&((s=(l=n.props).setOpen)===null||s===void 0||s.call(l,!1))},n.formatWeekNumber=function(r){return n.props.formatWeekNumber?n.props.formatWeekNumber(r):qj(r)},n.isWeekDisabled=function(){for(var r=n.startOfWeek(),g=zr(r,6),a=new Date(r);a<=g;){if(!n.isDisabled(a))return!1;a=zr(a,1)}return!0},n.renderDays=function(){var r=n.startOfWeek(),g=[],a=n.formatWeekNumber(r);if(n.props.showWeekNumber){var i=n.props.onWeekSelect||n.props.showWeekPicker?n.handleWeekClick.bind(n,r,a):void 0;g.push(H.createElement(p4,Le({key:"W"},t.defaultProps,n.props,{weekNumber:a,isWeekDisabled:n.isWeekDisabled(),date:r,onClick:i})))}return g.concat([0,1,2,3,4,5,6].map(function(l){var s=zr(r,l);return H.createElement(f4,Le({},t.defaultProps,n.props,{ariaLabelPrefixWhenEnabled:n.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:n.props.disabledDayAriaLabelPrefix,key:s.valueOf(),day:s,onClick:n.handleDayClick.bind(n,s),onMouseEnter:n.handleDayMouseEnter.bind(n,s)}))}))},n.startOfWeek=function(){return Ea(n.props.day,n.props.locale,n.props.calendarStartDay)},n.isKeyboardSelected=function(){return!n.props.disabledKeyboardNavigation&&!Me(n.startOfWeek(),n.props.selected)&&Me(n.startOfWeek(),n.props.preSelection)},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n={"react-datepicker__week":!0,"react-datepicker__week--selected":Me(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return H.createElement("div",{className:Ve(n)},this.renderDays())},t}(J.Component),xI,b4=6,Mo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Yp=(xI={},xI[Mo.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},xI[Mo.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},xI[Mo.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},xI),Ou=1;function rR(e,t){return e?Mo.FOUR_COLUMNS:t?Mo.TWO_COLUMNS:Mo.THREE_COLUMNS}var y4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.MONTH_REFS=mg([],Array(12),!0).map(function(){return J.createRef()}),n.QUARTER_REFS=mg([],Array(4),!0).map(function(){return J.createRef()}),n.isDisabled=function(r){return hr(r,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals,includeDateIntervals:n.props.includeDateIntervals,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(r){return ZB(r,{excludeDates:n.props.excludeDates,excludeDateIntervals:n.props.excludeDateIntervals})},n.handleDayClick=function(r,g){var a,i;(i=(a=n.props).onDayClick)===null||i===void 0||i.call(a,r,g,n.props.orderInDisplay)},n.handleDayMouseEnter=function(r){var g,a;(a=(g=n.props).onDayMouseEnter)===null||a===void 0||a.call(g,r)},n.handleMouseLeave=function(){var r,g;(g=(r=n.props).onMouseLeave)===null||g===void 0||g.call(r)},n.isRangeStartMonth=function(r){var g=n.props,a=g.day,i=g.startDate,l=g.endDate;return!i||!l?!1:Wn(qn(a,r),i)},n.isRangeStartQuarter=function(r){var g=n.props,a=g.day,i=g.startDate,l=g.endDate;return!i||!l?!1:ed(Yo(a,r),i)},n.isRangeEndMonth=function(r){var g=n.props,a=g.day,i=g.startDate,l=g.endDate;return!i||!l?!1:Wn(qn(a,r),l)},n.isRangeEndQuarter=function(r){var g=n.props,a=g.day,i=g.startDate,l=g.endDate;return!i||!l?!1:ed(Yo(a,r),l)},n.isInSelectingRangeMonth=function(r){var g,a=n.props,i=a.day,l=a.selectsStart,s=a.selectsEnd,c=a.selectsRange,C=a.startDate,d=a.endDate,A=(g=n.props.selectingDate)!==null&&g!==void 0?g:n.props.preSelection;return!(l||s||c)||!A?!1:l&&d?zu(A,d,r,i):s&&C||c&&C&&!d?zu(C,A,r,i):!1},n.isSelectingMonthRangeStart=function(r){var g;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,i=a.day,l=a.startDate,s=a.selectsStart,c=qn(i,r),C=(g=n.props.selectingDate)!==null&&g!==void 0?g:n.props.preSelection;return s?Wn(c,C):Wn(c,l)},n.isSelectingMonthRangeEnd=function(r){var g;if(!n.isInSelectingRangeMonth(r))return!1;var a=n.props,i=a.day,l=a.endDate,s=a.selectsEnd,c=a.selectsRange,C=qn(i,r),d=(g=n.props.selectingDate)!==null&&g!==void 0?g:n.props.preSelection;return s||c?Wn(C,d):Wn(C,l)},n.isInSelectingRangeQuarter=function(r){var g,a=n.props,i=a.day,l=a.selectsStart,s=a.selectsEnd,c=a.selectsRange,C=a.startDate,d=a.endDate,A=(g=n.props.selectingDate)!==null&&g!==void 0?g:n.props.preSelection;return!(l||s||c)||!A?!1:l&&d?Qu(A,d,r,i):s&&C||c&&C&&!d?Qu(C,A,r,i):!1},n.isWeekInMonth=function(r){var g=n.props.day,a=zr(r,6);return Wn(r,g)||Wn(a,g)},n.isCurrentMonth=function(r,g){return Ne(r)===Ne(at())&&g===Vn(at())},n.isCurrentQuarter=function(r,g){return Ne(r)===Ne(at())&&g===Wi(at())},n.isSelectedMonth=function(r,g,a){return Vn(a)===g&&Ne(r)===Ne(a)},n.isSelectMonthInList=function(r,g,a){return a.some(function(i){return n.isSelectedMonth(r,g,i)})},n.isSelectedQuarter=function(r,g,a){return Wi(r)===g&&Ne(r)===Ne(a)},n.renderWeeks=function(){for(var r=[],g=n.props.fixedHeight,a=0,i=!1,l=Ea(_g(n.props.day),n.props.locale,n.props.calendarStartDay),s=function(b){return n.props.showWeekPicker?Ea(b,n.props.locale,n.props.calendarStartDay):n.props.preSelection},c=function(b){return n.props.showWeekPicker?Ea(b,n.props.locale,n.props.calendarStartDay):n.props.selected},C=n.props.selected?c(n.props.selected):void 0,d=n.props.preSelection?s(n.props.preSelection):void 0;r.push(H.createElement(h4,Le({},n.props,{ariaLabelPrefix:n.props.weekAriaLabelPrefix,key:a,day:l,month:Vn(n.props.day),onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,selected:C,preSelection:d,showWeekNumber:n.props.showWeekNumbers}))),!i;){a++,l=DC(l,1);var A=g&&a>=b4,f=!g&&!n.isWeekInMonth(l);if(A||f)if(n.props.peekNextMonth)i=!0;else break}return r},n.onMonthClick=function(r,g){var a=n.isMonthDisabledForLabelDate(g),i=a.isDisabled,l=a.labelDate;i||n.handleDayClick(_g(l),r)},n.onMonthMouseEnter=function(r){var g=n.isMonthDisabledForLabelDate(r),a=g.isDisabled,i=g.labelDate;a||n.handleDayMouseEnter(_g(i))},n.handleMonthNavigation=function(r,g){var a,i,l,s;(i=(a=n.props).setPreSelection)===null||i===void 0||i.call(a,g),(s=(l=n.MONTH_REFS[r])===null||l===void 0?void 0:l.current)===null||s===void 0||s.focus()},n.handleKeyboardNavigation=function(r,g,a){var i,l=n.props,s=l.selected,c=l.preSelection,C=l.setPreSelection,d=l.minDate,A=l.maxDate,f=l.showFourColumnMonthYearPicker,b=l.showTwoColumnMonthYearPicker;if(c){var p=rR(f,b),h=n.getVerticalOffset(p),G=(i=Yp[p])===null||i===void 0?void 0:i.grid,v=function(w,X,N){var R,Y,K=X,E=N;switch(w){case ue.ArrowRight:K=Pr(X,Ou),E=N===11?0:N+Ou;break;case ue.ArrowLeft:K=Vi(X,Ou),E=N===0?11:N-Ou;break;case ue.ArrowUp:K=Vi(X,h),E=!((R=G==null?void 0:G[0])===null||R===void 0)&&R.includes(N)?N+12-h:N-h;break;case ue.ArrowDown:K=Pr(X,h),E=!((Y=G==null?void 0:G[G.length-1])===null||Y===void 0)&&Y.includes(N)?N-12+h:N+h;break}return{newCalculatedDate:K,newCalculatedMonth:E}},S=function(w,X,N){for(var R=40,Y=w,K=!1,E=0,L=v(Y,X,N),z=L.newCalculatedDate,U=L.newCalculatedMonth;!K;){if(E>=R){z=X,U=N;break}if(d&&z<d){Y=ue.ArrowRight;var O=v(Y,z,U);z=O.newCalculatedDate,U=O.newCalculatedMonth}if(A&&z>A){Y=ue.ArrowLeft;var O=v(Y,z,U);z=O.newCalculatedDate,U=O.newCalculatedMonth}if(i4(z,n.props)){var O=v(Y,z,U);z=O.newCalculatedDate,U=O.newCalculatedMonth}else K=!0;E++}return{newCalculatedDate:z,newCalculatedMonth:U}};if(g===ue.Enter){n.isMonthDisabled(a)||(n.onMonthClick(r,a),C==null||C(s));return}var V=S(g,c,a),Z=V.newCalculatedDate,W=V.newCalculatedMonth;switch(g){case ue.ArrowRight:case ue.ArrowLeft:case ue.ArrowUp:case ue.ArrowDown:n.handleMonthNavigation(W,Z);break}}},n.getVerticalOffset=function(r){var g,a;return(a=(g=Yp[r])===null||g===void 0?void 0:g.verticalNavigationOffset)!==null&&a!==void 0?a:0},n.onMonthKeyDown=function(r,g){var a=n.props,i=a.disabledKeyboardNavigation,l=a.handleOnMonthKeyDown,s=r.key;s!==ue.Tab&&r.preventDefault(),i||n.handleKeyboardNavigation(r,s,g),l&&l(r)},n.onQuarterClick=function(r,g){var a=Yo(n.props.day,g);Uu(a,n.props)||n.handleDayClick(Dw(a),r)},n.onQuarterMouseEnter=function(r){var g=Yo(n.props.day,r);Uu(g,n.props)||n.handleDayMouseEnter(Dw(g))},n.handleQuarterNavigation=function(r,g){var a,i,l,s;n.isDisabled(g)||n.isExcluded(g)||((i=(a=n.props).setPreSelection)===null||i===void 0||i.call(a,g),(s=(l=n.QUARTER_REFS[r-1])===null||l===void 0?void 0:l.current)===null||s===void 0||s.focus())},n.onQuarterKeyDown=function(r,g){var a,i,l=r.key;if(!n.props.disabledKeyboardNavigation)switch(l){case ue.Enter:n.onQuarterClick(r,g),(i=(a=n.props).setPreSelection)===null||i===void 0||i.call(a,n.props.selected);break;case ue.ArrowRight:if(!n.props.preSelection)break;n.handleQuarterNavigation(g===4?1:g+1,sB(n.props.preSelection,1));break;case ue.ArrowLeft:if(!n.props.preSelection)break;n.handleQuarterNavigation(g===1?4:g-1,RF(n.props.preSelection));break}},n.isMonthDisabledForLabelDate=function(r){var g,a=n.props,i=a.day,l=a.minDate,s=a.maxDate,c=a.excludeDates,C=a.includeDates,d=qn(i,r);return{isDisabled:(g=(l||s||c||C)&&zF(d,n.props))!==null&&g!==void 0?g:!1,labelDate:d}},n.isMonthDisabled=function(r){var g=n.isMonthDisabledForLabelDate(r).isDisabled;return g},n.getMonthClassNames=function(r){var g=n.props,a=g.day,i=g.startDate,l=g.endDate,s=g.preSelection,c=g.monthClassName,C=c?c(qn(a,r)):void 0,d=n.getSelection();return Ve("react-datepicker__month-text","react-datepicker__month-".concat(r),C,{"react-datepicker__month-text--disabled":n.isMonthDisabled(r),"react-datepicker__month-text--selected":d?n.isSelectMonthInList(a,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!n.props.disabledKeyboardNavigation&&s&&n.isSelectedMonth(a,r,s)&&!n.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":n.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":i&&l?zu(i,l,r,a):void 0,"react-datepicker__month-text--range-start":n.isRangeStartMonth(r),"react-datepicker__month-text--range-end":n.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":n.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":n.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":n.isCurrentMonth(a,r)})},n.getTabIndex=function(r){if(n.props.preSelection==null)return"-1";var g=Vn(n.props.preSelection),a=n.isMonthDisabledForLabelDate(g).isDisabled,i=r===g&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getQuarterTabIndex=function(r){if(n.props.preSelection==null)return"-1";var g=Wi(n.props.preSelection),a=Uu(n.props.day,n.props),i=r===g&&!(a||n.props.disabledKeyboardNavigation)?"0":"-1";return i},n.getAriaLabel=function(r){var g=n.props,a=g.chooseDayAriaLabelPrefix,i=a===void 0?"Choose":a,l=g.disabledDayAriaLabelPrefix,s=l===void 0?"Not available":l,c=g.day,C=g.locale,d=qn(c,r),A=n.isDisabled(d)||n.isExcluded(d)?s:i;return"".concat(A," ").concat(bt(d,"MMMM yyyy",C))},n.getQuarterClassNames=function(r){var g=n.props,a=g.day,i=g.startDate,l=g.endDate,s=g.selected,c=g.minDate,C=g.maxDate,d=g.excludeDates,A=g.includeDates,f=g.filterDate,b=g.preSelection,p=g.disabledKeyboardNavigation,h=(c||C||d||A||f)&&Uu(Yo(a,r),n.props);return Ve("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":h,"react-datepicker__quarter-text--selected":s?n.isSelectedQuarter(a,r,s):void 0,"react-datepicker__quarter-text--keyboard-selected":!p&&b&&n.isSelectedQuarter(a,r,b)&&!h,"react-datepicker__quarter-text--in-selecting-range":n.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":i&&l?Qu(i,l,r,a):void 0,"react-datepicker__quarter-text--range-start":n.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":n.isRangeEndQuarter(r)})},n.getMonthContent=function(r){var g=n.props,a=g.showFullMonthYearPicker,i=g.renderMonthContent,l=g.locale,s=g.day,c=LF(r,l),C=yB(r,l);return i?i(r,c,C,s):a?C:c},n.getQuarterContent=function(r){var g,a=n.props,i=a.renderQuarterContent,l=a.locale,s=a4(r,l);return(g=i==null?void 0:i(r,s))!==null&&g!==void 0?g:s},n.renderMonths=function(){var r,g=n.props,a=g.showTwoColumnMonthYearPicker,i=g.showFourColumnMonthYearPicker,l=g.day,s=g.selected,c=(r=Yp[rR(i,a)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(C,d){return H.createElement("div",{className:"react-datepicker__month-wrapper",key:d},C.map(function(A,f){return H.createElement("div",{ref:n.MONTH_REFS[A],key:f,onClick:function(b){n.onMonthClick(b,A)},onKeyDown:function(b){QF(b)&&(b.preventDefault(),b.key=ue.Enter),n.onMonthKeyDown(b,A)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onMonthMouseEnter(A)},onPointerEnter:n.props.usePointerEvent?function(){return n.onMonthMouseEnter(A)}:void 0,tabIndex:Number(n.getTabIndex(A)),className:n.getMonthClassNames(A),"aria-disabled":n.isMonthDisabled(A),role:"option","aria-label":n.getAriaLabel(A),"aria-current":n.isCurrentMonth(l,A)?"date":void 0,"aria-selected":s?n.isSelectedMonth(l,A,s):void 0},n.getMonthContent(A))}))})},n.renderQuarters=function(){var r=n.props,g=r.day,a=r.selected,i=[1,2,3,4];return H.createElement("div",{className:"react-datepicker__quarter-wrapper"},i.map(function(l,s){return H.createElement("div",{key:s,ref:n.QUARTER_REFS[s],role:"option",onClick:function(c){n.onQuarterClick(c,l)},onKeyDown:function(c){n.onQuarterKeyDown(c,l)},onMouseEnter:n.props.usePointerEvent?void 0:function(){return n.onQuarterMouseEnter(l)},onPointerEnter:n.props.usePointerEvent?function(){return n.onQuarterMouseEnter(l)}:void 0,className:n.getQuarterClassNames(l),"aria-selected":a?n.isSelectedQuarter(g,l,a):void 0,tabIndex:Number(n.getQuarterTabIndex(l)),"aria-current":n.isCurrentQuarter(g,l)?"date":void 0},n.getQuarterContent(l))}))},n.getClassNames=function(){var r=n.props,g=r.selectingDate,a=r.selectsStart,i=r.selectsEnd,l=r.showMonthYearPicker,s=r.showQuarterYearPicker,c=r.showWeekPicker;return Ve("react-datepicker__month",{"react-datepicker__month--selecting-range":g&&(a||i)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":s},{"react-datepicker__weekPicker":c})},n}return t.prototype.getSelection=function(){var n=this.props,r=n.selected,g=n.selectedDates,a=n.selectsMultiple;if(a)return g;if(r)return[r]},t.prototype.render=function(){var n=this.props,r=n.showMonthYearPicker,g=n.showQuarterYearPicker,a=n.day,i=n.ariaLabelPrefix,l=i===void 0?"Month ":i,s=l?l.trim()+" ":"";return H.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(s).concat(bt(a,"MMMM, yyyy",this.props.locale)),role:"listbox"},r?this.renderMonths():g?this.renderQuarters():this.renderWeeks())},t}(J.Component),Z4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.isSelectedMonth=function(r){return n.props.month===r},n.renderOptions=function(){return n.props.monthNames.map(function(r,g){return H.createElement("div",{className:n.isSelectedMonth(g)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:n.onChange.bind(n,g),"aria-selected":n.isSelectedMonth(g)?"true":void 0},n.isSelectedMonth(g)?H.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},n.onChange=function(r){return n.props.onChange(r)},n.handleClickOutside=function(){return n.props.onCancel()},n}return t.prototype.render=function(){return H.createElement(yA,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(J.Component),G4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(r){return r.map(function(g,a){return H.createElement("option",{key:g,value:a},g)})},n.renderSelectMode=function(r){return H.createElement("select",{value:n.props.month,className:"react-datepicker__month-select",onChange:function(g){return n.onChange(parseInt(g.target.value))}},n.renderSelectOptions(r))},n.renderReadView=function(r,g){return H.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:n.toggleDropdown},H.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},g[n.props.month]))},n.renderDropdown=function(r){return H.createElement(Z4,Le({key:"dropdown"},n.props,{monthNames:r,onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(r){var g=n.state.dropdownVisible,a=[n.renderReadView(!g,r)];return g&&a.unshift(n.renderDropdown(r)),a},n.onChange=function(r){n.toggleDropdown(),r!==n.props.month&&n.props.onChange(r)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(a){return LF(a,n.props.locale)}:function(a){return yB(a,n.props.locale)}),g;switch(this.props.dropdownMode){case"scroll":g=this.renderScrollMode(r);break;case"select":g=this.renderSelectMode(r);break}return H.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},g)},t}(J.Component);function B4(e,t){for(var n=[],r=_g(e),g=_g(t);!La(r,g);)n.push(at(r)),r=Pr(r,1);return n}var v4=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(g){var a=aZ(g),i=Ig(r.props.date,g)&&Wn(r.props.date,g);return H.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:a,onClick:r.onChange.bind(r,a),"aria-selected":i?"true":void 0},i?H.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",bt(g,r.props.dateFormat,r.props.locale))})},r.onChange=function(g){return r.props.onChange(g)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:B4(r.props.minDate,r.props.maxDate)},r}return t.prototype.render=function(){var n=Ve({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return H.createElement(yA,{className:n,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(J.Component),S4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=_g(n.props.minDate),g=_g(n.props.maxDate),a=[];!La(r,g);){var i=aZ(r);a.push(H.createElement("option",{key:i,value:i},bt(r,n.props.dateFormat,n.props.locale))),r=Pr(r,1)}return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return H.createElement("select",{value:aZ(_g(n.props.date)),className:"react-datepicker__month-year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){var g=bt(n.props.date,n.props.dateFormat,n.props.locale);return H.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:n.toggleDropdown},H.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},g))},n.renderDropdown=function(){return H.createElement(v4,Le({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,g=[n.renderReadView(!r)];return r&&g.unshift(n.renderDropdown()),g},n.onChange=function(r){n.toggleDropdown();var g=at(r);Ig(n.props.date,g)&&Wn(n.props.date,g)||n.props.onChange(g)},n.toggleDropdown=function(){return n.setState({dropdownVisible:!n.state.dropdownVisible})},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return H.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(J.Component),W4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={height:null},n.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,g,a;n.list&&(n.list.scrollTop=(a=n.centerLi&&t.calcCenterPosition(n.props.monthRef?n.props.monthRef.clientHeight-((g=(r=n.header)===null||r===void 0?void 0:r.clientHeight)!==null&&g!==void 0?g:0):n.list.clientHeight,n.centerLi))!==null&&a!==void 0?a:0)})},n.handleClick=function(r){var g,a;(n.props.minTime||n.props.maxTime)&&Pw(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Uw(r,n.props)||(a=(g=n.props).onChange)===null||a===void 0||a.call(g,r)},n.isSelectedTime=function(r){return n.props.selected&&A4(n.props.selected,r)},n.isDisabledTime=function(r){return(n.props.minTime||n.props.maxTime)&&Pw(r,n.props)||(n.props.excludeTimes||n.props.includeTimes||n.props.filterTime)&&Uw(r,n.props)},n.liClasses=function(r){var g,a=["react-datepicker__time-list-item",n.props.timeClassName?n.props.timeClassName(r):void 0];return n.isSelectedTime(r)&&a.push("react-datepicker__time-list-item--selected"),n.isDisabledTime(r)&&a.push("react-datepicker__time-list-item--disabled"),n.props.injectTimes&&(pg(r)*3600+hg(r)*60+jg(r))%(((g=n.props.intervals)!==null&&g!==void 0?g:t.defaultProps.intervals)*60)!==0&&a.push("react-datepicker__time-list-item--injected"),a.join(" ")},n.handleOnKeyDown=function(r,g){var a,i;r.key===ue.Space&&(r.preventDefault(),r.key=ue.Enter),(r.key===ue.ArrowUp||r.key===ue.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===ue.ArrowDown||r.key===ue.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===ue.Enter&&n.handleClick(g),(i=(a=n.props).handleOnKeyDown)===null||i===void 0||i.call(a,r)},n.renderTimes=function(){for(var r,g=[],a=typeof n.props.format=="string"?n.props.format:"p",i=(r=n.props.intervals)!==null&&r!==void 0?r:t.defaultProps.intervals,l=n.props.selected||n.props.openToDate||at(),s=yC(l),c=n.props.injectTimes&&n.props.injectTimes.sort(function(h,G){return h.getTime()-G.getTime()}),C=60*d4(l),d=C/i,A=0;A<d;A++){var f=nZ(s,A*i);if(g.push(f),c){var b=C4(s,f,A,i,c);g=g.concat(b)}}var p=g.reduce(function(h,G){return G.getTime()<=l.getTime()?G:h},g[0]);return g.map(function(h){return H.createElement("li",{key:h.valueOf(),onClick:n.handleClick.bind(n,h),className:n.liClasses(h),ref:function(G){h===p&&(n.centerLi=G)},onKeyDown:function(G){n.handleOnKeyDown(G,h)},tabIndex:h===p?0:-1,role:"option","aria-selected":n.isSelectedTime(h)?"true":void 0,"aria-disabled":n.isDisabledTime(h)?"true":void 0},bt(h,a,n.props.locale))})},n.renderTimeCaption=function(){return n.props.showTimeCaption===!1?H.createElement(H.Fragment,null):H.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(n.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){n.header=r}},H.createElement("div",{className:"react-datepicker-time__header"},n.props.timeCaption))},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var n=this,r,g=this.state.height;return H.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),H.createElement("div",{className:"react-datepicker__time"},H.createElement("div",{className:"react-datepicker__time-box"},H.createElement("ul",{className:"react-datepicker__time-list",ref:function(a){n.list=a},style:g?{height:g}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(n,r){return r.offsetTop-(n/2-r.clientHeight/2)},t}(J.Component),gR=3,V4=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;return r.YEAR_REFS=mg([],Array(r.props.yearItemNumber),!0).map(function(){return J.createRef()}),r.isDisabled=function(g){return hr(g,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(g){return ZB(g,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var g;return(g=r.props.selectingDate)!==null&&g!==void 0?g:r.props.preSelection},r.updateFocusOnPaginate=function(g){var a=function(){var i,l;(l=(i=r.YEAR_REFS[g])===null||i===void 0?void 0:i.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(a)},r.handleYearClick=function(g,a){r.props.onDayClick&&r.props.onDayClick(g,a)},r.handleYearNavigation=function(g,a){var i,l,s,c,C=r.props,d=C.date,A=C.yearItemNumber;if(!(d===void 0||A===void 0)){var f=Ka(d,A).startPeriod;r.isDisabled(a)||r.isExcluded(a)||((l=(i=r.props).setPreSelection)===null||l===void 0||l.call(i,a),g-f<0?r.updateFocusOnPaginate(A-(f-g)):g-f>=A?r.updateFocusOnPaginate(Math.abs(A-(g-f))):(c=(s=r.YEAR_REFS[g-f])===null||s===void 0?void 0:s.current)===null||c===void 0||c.focus())}},r.isSameDay=function(g,a){return Me(g,a)},r.isCurrentYear=function(g){return g===Ne(at())},r.isRangeStart=function(g){return r.props.startDate&&r.props.endDate&&Ig(lg(at(),g),r.props.startDate)},r.isRangeEnd=function(g){return r.props.startDate&&r.props.endDate&&Ig(lg(at(),g),r.props.endDate)},r.isInRange=function(g){return Pu(g,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(g){var a=r.props,i=a.selectsStart,l=a.selectsEnd,s=a.selectsRange,c=a.startDate,C=a.endDate;return!(i||l||s)||!r.selectingDate()?!1:i&&C?Pu(g,r.selectingDate(),C):l&&c||s&&c&&!C?Pu(g,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(g){var a;if(!r.isInSelectingRange(g))return!1;var i=r.props,l=i.startDate,s=i.selectsStart,c=lg(at(),g);return s?Ig(c,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ig(c,l??null)},r.isSelectingRangeEnd=function(g){var a;if(!r.isInSelectingRange(g))return!1;var i=r.props,l=i.endDate,s=i.selectsEnd,c=i.selectsRange,C=lg(at(),g);return s||c?Ig(C,(a=r.selectingDate())!==null&&a!==void 0?a:null):Ig(C,l??null)},r.isKeyboardSelected=function(g){if(!(r.props.date===void 0||r.props.selected==null||r.props.preSelection==null)){var a=r.props,i=a.minDate,l=a.maxDate,s=a.excludeDates,c=a.includeDates,C=a.filterDate,d=_I(lg(r.props.date,g)),A=(i||l||s||c||C)&&ZC(g,r.props);return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!Me(d,_I(r.props.selected))&&Me(d,_I(r.props.preSelection))&&!A}},r.onYearClick=function(g,a){var i=r.props.date;i!==void 0&&r.handleYearClick(_I(lg(i,a)),g)},r.onYearKeyDown=function(g,a){var i,l,s=g.key,c=r.props,C=c.date,d=c.yearItemNumber,A=c.handleOnKeyDown;if(s!==ue.Tab&&g.preventDefault(),!r.props.disabledKeyboardNavigation)switch(s){case ue.Enter:if(r.props.selected==null)break;r.onYearClick(g,a),(l=(i=r.props).setPreSelection)===null||l===void 0||l.call(i,r.props.selected);break;case ue.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(a+1,Qg(r.props.preSelection,1));break;case ue.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(a-1,$o(r.props.preSelection,1));break;case ue.ArrowUp:{if(C===void 0||d===void 0||r.props.preSelection==null)break;var f=Ka(C,d).startPeriod,b=gR,p=a-b;if(p<f){var h=d%b;a>=f&&a<f+h?b=h:b+=h,p=a-b}r.handleYearNavigation(p,$o(r.props.preSelection,b));break}case ue.ArrowDown:{if(C===void 0||d===void 0||r.props.preSelection==null)break;var G=Ka(C,d).endPeriod,b=gR,p=a+b;if(p>G){var h=d%b;a<=G&&a>G-h?b=h:b+=h,p=a+b}r.handleYearNavigation(p,Qg(r.props.preSelection,b));break}}A&&A(g)},r.getYearClassNames=function(g){var a=r.props,i=a.date,l=a.minDate,s=a.maxDate,c=a.selected,C=a.excludeDates,d=a.includeDates,A=a.filterDate,f=a.yearClassName;return Ve("react-datepicker__year-text","react-datepicker__year-".concat(g),i?f==null?void 0:f(lg(i,g)):void 0,{"react-datepicker__year-text--selected":c?g===Ne(c):void 0,"react-datepicker__year-text--disabled":(l||s||C||d||A)&&ZC(g,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(g),"react-datepicker__year-text--range-start":r.isRangeStart(g),"react-datepicker__year-text--range-end":r.isRangeEnd(g),"react-datepicker__year-text--in-range":r.isInRange(g),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(g),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(g),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(g),"react-datepicker__year-text--today":r.isCurrentYear(g)})},r.getYearTabIndex=function(g){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var a=Ne(r.props.preSelection),i=ZC(g,r.props);return g===a&&!i?"0":"-1"},r.getYearContent=function(g){return r.props.renderYearContent?r.props.renderYearContent(g):g},r}return t.prototype.render=function(){var n=this,r=[],g=this.props,a=g.date,i=g.yearItemNumber,l=g.onYearMouseEnter,s=g.onYearMouseLeave;if(a===void 0)return null;for(var c=Ka(a,i),C=c.startPeriod,d=c.endPeriod,A=function(p){r.push(H.createElement("div",{ref:f.YEAR_REFS[p-C],onClick:function(h){n.onYearClick(h,p)},onKeyDown:function(h){QF(h)&&(h.preventDefault(),h.key=ue.Enter),n.onYearKeyDown(h,p)},tabIndex:Number(f.getYearTabIndex(p)),className:f.getYearClassNames(p),onMouseEnter:f.props.usePointerEvent?void 0:function(h){return l(h,p)},onPointerEnter:f.props.usePointerEvent?function(h){return l(h,p)}:void 0,onMouseLeave:f.props.usePointerEvent?void 0:function(h){return s(h,p)},onPointerLeave:f.props.usePointerEvent?function(h){return s(h,p)}:void 0,key:p,"aria-current":f.isCurrentYear(p)?"date":void 0},f.getYearContent(p)))},f=this,b=C;b<=d;b++)A(b);return H.createElement("div",{className:"react-datepicker__year"},H.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},t}(J.Component);function w4(e,t,n,r){for(var g=[],a=0;a<2*t+1;a++){var i=e+t-a,l=!0;n&&(l=Ne(n)<=i),r&&l&&(l=Ne(r)>=i),l&&g.push(i)}return g}var R4=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;r.renderOptions=function(){var l=r.props.year,s=r.state.yearsList.map(function(d){return H.createElement("div",{className:l===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),"aria-selected":l===d?"true":void 0},l===d?H.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),c=r.props.minDate?Ne(r.props.minDate):null,C=r.props.maxDate?Ne(r.props.maxDate):null;return(!C||!r.state.yearsList.find(function(d){return d===C}))&&s.unshift(H.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},H.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&s.push(H.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},H.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),s},r.onChange=function(l){r.props.onChange(l)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(l){var s=r.state.yearsList.map(function(c){return c+l});r.setState({yearsList:s})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var g=n.yearDropdownItemNumber,a=n.scrollableYearDropdown,i=g||(a?10:5);return r.state={yearsList:w4(r.props.year,i,r.props.minDate,r.props.maxDate)},r.dropdownRef=J.createRef(),r}return t.prototype.componentDidMount=function(){var n=this.dropdownRef.current;if(n){var r=n.children?Array.from(n.children):null,g=r?r.find(function(a){return a.ariaSelected}):null;n.scrollTop=g&&g instanceof HTMLElement?g.offsetTop+(g.clientHeight-n.clientHeight)/2:(n.scrollHeight-n.clientHeight)/2}},t.prototype.render=function(){var n=Ve({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return H.createElement(yA,{className:n,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(J.Component),k4=function(e){an(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.state={dropdownVisible:!1},n.renderSelectOptions=function(){for(var r=n.props.minDate?Ne(n.props.minDate):1900,g=n.props.maxDate?Ne(n.props.maxDate):2100,a=[],i=r;i<=g;i++)a.push(H.createElement("option",{key:i,value:i},i));return a},n.onSelectChange=function(r){n.onChange(parseInt(r.target.value))},n.renderSelectMode=function(){return H.createElement("select",{value:n.props.year,className:"react-datepicker__year-select",onChange:n.onSelectChange},n.renderSelectOptions())},n.renderReadView=function(r){return H.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(g){return n.toggleDropdown(g)}},H.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},n.props.year))},n.renderDropdown=function(){return H.createElement(R4,Le({key:"dropdown"},n.props,{onChange:n.onChange,onCancel:n.toggleDropdown}))},n.renderScrollMode=function(){var r=n.state.dropdownVisible,g=[n.renderReadView(!r)];return r&&g.unshift(n.renderDropdown()),g},n.onChange=function(r){n.toggleDropdown(),r!==n.props.year&&n.props.onChange(r)},n.toggleDropdown=function(r){n.setState({dropdownVisible:!n.state.dropdownVisible},function(){n.props.adjustDateOnChange&&n.handleYearChange(n.props.date,r)})},n.handleYearChange=function(r,g){var a;(a=n.onSelect)===null||a===void 0||a.call(n,r,g),n.setOpen()},n.onSelect=function(r,g){var a,i;(i=(a=n.props).onSelect)===null||i===void 0||i.call(a,r,g)},n.setOpen=function(){var r,g;(g=(r=n.props).setOpen)===null||g===void 0||g.call(r,!0)},n}return t.prototype.render=function(){var n;switch(this.props.dropdownMode){case"scroll":n=this.renderScrollMode();break;case"select":n=this.renderSelectMode();break}return H.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},n)},t}(J.Component),X4=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],J4=function(e){var t=(e.className||"").split(/\s+/);return X4.some(function(n){return t.indexOf(n)>=0})},Y4=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;return r.monthContainer=void 0,r.handleClickOutside=function(g){r.props.onClickOutside(g)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(g){var a,i;J4(g.target)&&((i=(a=r.props).onDropdownFocus)===null||i===void 0||i.call(a,g))},r.getDateInView=function(){var g=r.props,a=g.preSelection,i=g.selected,l=g.openToDate,s=UF(r.props),c=PF(r.props),C=at(),d=l||i||a;return d||(s&&Ni(C,s)?s:c&&La(C,c)?c:C)},r.increaseMonth=function(){r.setState(function(g){var a=g.date;return{date:Pr(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(g){var a=g.date;return{date:Vi(a,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(g,a,i){r.props.onSelect(g,a,i),r.props.setPreSelection&&r.props.setPreSelection(g)},r.handleDayMouseEnter=function(g){r.setState({selectingDate:g}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(g)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(g,a){r.setState({selectingDate:lg(at(),a)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(g,a)},r.handleYearMouseLeave=function(g,a){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(g,a)},r.handleYearChange=function(g){var a,i,l,s;(i=(a=r.props).onYearChange)===null||i===void 0||i.call(a,g),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(g),(s=(l=r.props).setOpen)===null||s===void 0||s.call(l,!0)),r.props.setPreSelection&&r.props.setPreSelection(g)},r.getEnabledPreSelectionDateForMonth=function(g){if(!hr(g,r.props))return g;for(var a=_g(g),i=t4(g),l=JP(i,a),s=null,c=0;c<=l;c++){var C=zr(a,c);if(!hr(C,r.props)){s=C;break}}return s},r.handleMonthChange=function(g){var a,i,l,s=(a=r.getEnabledPreSelectionDateForMonth(g))!==null&&a!==void 0?a:g;r.handleCustomMonthChange(s),r.props.adjustDateOnChange&&(r.props.onSelect(s),(l=(i=r.props).setOpen)===null||l===void 0||l.call(i,!0)),r.props.setPreSelection&&r.props.setPreSelection(s)},r.handleCustomMonthChange=function(g){var a,i;(i=(a=r.props).onMonthChange)===null||i===void 0||i.call(a,g),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(g){r.handleYearChange(g),r.handleMonthChange(g)},r.changeYear=function(g){r.setState(function(a){var i=a.date;return{date:lg(i,Number(g))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(g){r.setState(function(a){var i=a.date;return{date:qn(i,Number(g))}},function(){return r.handleMonthChange(r.state.date)})},r.changeMonthYear=function(g){r.setState(function(a){var i=a.date;return{date:lg(qn(i,Vn(g)),Ne(g))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(g){g===void 0&&(g=r.state.date);var a=Ea(g,r.props.locale,r.props.calendarStartDay),i=[];return r.props.showWeekNumbers&&i.push(H.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(l){var s=zr(a,l),c=r.formatWeekday(s,r.props.locale),C=r.props.weekDayClassName?r.props.weekDayClassName(s):void 0;return H.createElement("div",{key:l,"aria-label":bt(s,"EEEE",r.props.locale),className:Ve("react-datepicker__day-name",C)},c)}))},r.formatWeekday=function(g,a){return r.props.formatWeekDay?n4(g,r.props.formatWeekDay,a):r.props.useWeekdaysShort?g4(g,a):r4(g,a)},r.decreaseYear=function(){r.setState(function(g){var a,i=g.date;return{date:$o(i,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var g,a,i;if(!r.props.renderCustomHeader){var l=(g=r.props.monthsShown)!==null&&g!==void 0?g:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?l-1:0,c=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:s,C=Vi(r.state.date,c),d;switch(!0){case r.props.showMonthYearPicker:d=jw(r.state.date,r.props);break;case r.props.showYearPicker:d=I4(r.state.date,r.props);break;case r.props.showQuarterYearPicker:d=o4(r.state.date,r.props);break;default:d=Qw(C,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&d||r.props.showTimeSelectOnly)){var A=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],f=["react-datepicker__navigation","react-datepicker__navigation--previous"],b=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(b=r.decreaseYear),d&&r.props.showDisabledMonthNavigation&&(f.push("react-datepicker__navigation--previous--disabled"),b=void 0);var p=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,h=r.props,G=h.previousMonthButtonLabel,v=G===void 0?t.defaultProps.previousMonthButtonLabel:G,S=h.previousYearButtonLabel,V=S===void 0?t.defaultProps.previousYearButtonLabel:S,Z=r.props,W=Z.previousMonthAriaLabel,w=W===void 0?typeof v=="string"?v:"Previous Month":W,X=Z.previousYearAriaLabel,N=X===void 0?typeof V=="string"?V:"Previous Year":X;return H.createElement("button",{type:"button",className:f.join(" "),onClick:b,onKeyDown:r.props.handleOnKeyDown,"aria-label":p?N:w},H.createElement("span",{className:A.join(" ")},p?V:v))}}},r.increaseYear=function(){r.setState(function(g){var a,i=g.date;return{date:Qg(i,r.props.showYearPicker?(a=r.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var g;if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=_w(r.state.date,r.props);break;case r.props.showYearPicker:a=s4(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=l4(r.state.date,r.props);break;default:a=Ow(r.state.date,r.props);break}if(!(!((g=r.props.forceShowMonthNavigation)!==null&&g!==void 0?g:t.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var i=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&i.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&i.push("react-datepicker__navigation--next--with-today-button");var s=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(s=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--next--disabled"),s=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,C=r.props,d=C.nextMonthButtonLabel,A=d===void 0?t.defaultProps.nextMonthButtonLabel:d,f=C.nextYearButtonLabel,b=f===void 0?t.defaultProps.nextYearButtonLabel:f,p=r.props,h=p.nextMonthAriaLabel,G=h===void 0?typeof A=="string"?A:"Next Month":h,v=p.nextYearAriaLabel,S=v===void 0?typeof b=="string"?b:"Next Year":v;return H.createElement("button",{type:"button",className:i.join(" "),onClick:s,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?S:G},H.createElement("span",{className:l.join(" ")},c?b:A))}}},r.renderCurrentMonth=function(g){g===void 0&&(g=r.state.date);var a=["react-datepicker__current-month"];return r.props.showYearDropdown&&a.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&a.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&a.push("react-datepicker__current-month--hasMonthYearDropdown"),H.createElement("h2",{className:a.join(" ")},bt(g,r.props.dateFormat,r.props.locale))},r.renderYearDropdown=function(g){if(g===void 0&&(g=!1),!(!r.props.showYearDropdown||g))return H.createElement(k4,Le({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:Ne(r.state.date)}))},r.renderMonthDropdown=function(g){if(g===void 0&&(g=!1),!(!r.props.showMonthDropdown||g))return H.createElement(G4,Le({},t.defaultProps,r.props,{month:Vn(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(g){if(g===void 0&&(g=!1),!(!r.props.showMonthYearDropdown||g))return H.createElement(S4,Le({},t.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(g){r.props.onSelect(Tw(),g),r.props.setPreSelection&&r.props.setPreSelection(Tw())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return H.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDefaultHeader=function(g){var a=g.monthDate,i=g.i;return H.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(a),H.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(i!==0),r.renderMonthYearDropdown(i!==0),r.renderYearDropdown(i!==0)),H.createElement("div",{className:"react-datepicker__day-names"},r.header(a)))},r.renderCustomHeader=function(g){var a,i,l=g.monthDate,s=g.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=Qw(r.state.date,r.props),C=Ow(r.state.date,r.props),d=jw(r.state.date,r.props),A=_w(r.state.date,r.props),f=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return H.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(i=(a=r.props).renderCustomHeader)===null||i===void 0?void 0:i.call(a,Le(Le({},r.state),{customHeaderCount:s,monthDate:l,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:c,nextMonthButtonDisabled:C,prevYearButtonDisabled:d,nextYearButtonDisabled:A})),f&&H.createElement("div",{className:"react-datepicker__day-names"},r.header(l)))},r.renderYearHeader=function(g){var a=g.monthDate,i=r.props,l=i.showYearPicker,s=i.yearItemNumber,c=s===void 0?t.defaultProps.yearItemNumber:s,C=Ka(a,c),d=C.startPeriod,A=C.endPeriod;return H.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(d," - ").concat(A):Ne(a))},r.renderHeader=function(g){var a=g.monthDate,i=g.i,l=i===void 0?0:i,s={monthDate:a,i:l};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(s);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(s);default:return r.renderDefaultHeader(s)}},r.renderMonths=function(){var g,a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var i=[],l=(g=r.props.monthsShown)!==null&&g!==void 0?g:t.defaultProps.monthsShown,s=r.props.showPreviousMonths?l-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Qg(r.state.date,s):Vi(r.state.date,s),C=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:s,d=0;d<l;++d){var A=d-C+s,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Qg(c,A):Pr(c,A),b="month-".concat(d),p=d<l-1,h=d>0;i.push(H.createElement("div",{key:b,ref:function(G){r.monthContainer=G??void 0},className:"react-datepicker__month-container"},r.renderHeader({monthDate:f,i:d}),H.createElement(y4,Le({},t.defaultProps,r.props,{ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:f,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:h}))))}return i}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return H.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),H.createElement(V4,Le({},t.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return H.createElement(W4,Le({},t.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var g=r.props.selected?new Date(r.props.selected):void 0,a=g&&Mg(g)&&!!r.props.selected,i=a?"".concat($w(g.getHours()),":").concat($w(g.getMinutes())):"";if(r.props.showTimeInput)return H.createElement(m4,Le({},t.defaultProps,r.props,{date:g,timeString:i,onChange:r.props.onTimeChange}))},r.renderAriaLiveRegion=function(){var g,a=Ka(r.state.date,(g=r.props.yearItemNumber)!==null&&g!==void 0?g:t.defaultProps.yearItemNumber),i=a.startPeriod,l=a.endPeriod,s;return r.props.showYearPicker?s="".concat(i," - ").concat(l):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?s=Ne(r.state.date):s="".concat(yB(Vn(r.state.date),r.props.locale)," ").concat(Ne(r.state.date)),H.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&s)},r.renderChildren=function(){if(r.props.children)return H.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=J.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:Ac}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var n=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){n.setState({monthContainer:n.monthContainer})}())},t.prototype.componentDidUpdate=function(n){var r=this;if(this.props.preSelection&&(!Me(this.props.preSelection,n.preSelection)||this.props.monthSelectedIn!==n.monthSelectedIn)){var g=!Wn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return g&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!Me(this.props.openToDate,n.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var n=this.props.container||Pj;return H.createElement(yA,{onClickOutside:this.handleClickOutside,style:{display:"contents"},containerRef:this.containerRef,ignoreClass:this.props.outsideClickIgnoreClass},H.createElement(n,{className:Ve("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))},t}(J.Component),H4=function(e){var t=e.icon,n=e.className,r=n===void 0?"":n,g=e.onClick,a="react-datepicker__calendar-icon";return typeof t=="string"?H.createElement("i",{className:"".concat(a," ").concat(t," ").concat(r),"aria-hidden":"true",onClick:g}):H.isValidElement(t)?H.cloneElement(t,{className:"".concat(t.props.className||""," ").concat(a," ").concat(r),onClick:function(i){typeof t.props.onClick=="function"&&t.props.onClick(i),typeof g=="function"&&g(i)}}):H.createElement("svg",{className:"".concat(a," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:g},H.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},OF=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return fD.createPortal(this.props.children,this.el)},t}(J.Component),N4="[tabindex], a, button, input, select, textarea",F4=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},jF=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;return r.getTabChildren=function(){var g;return Array.prototype.slice.call((g=r.tabLoopRef.current)===null||g===void 0?void 0:g.querySelectorAll(N4),1,-1).filter(F4)},r.handleFocusStart=function(){var g=r.getTabChildren();g&&g.length>1&&g[g.length-1].focus()},r.handleFocusEnd=function(){var g=r.getTabChildren();g&&g.length>1&&g[0].focus()},r.tabLoopRef=J.createRef(),r}return t.prototype.render=function(){var n;return((n=this.props.enableTabLoop)!==null&&n!==void 0?n:t.defaultProps.enableTabLoop)?H.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},H.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,H.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(J.Component);function K4(e){var t=function(n){var r,g=typeof n.hidePopper=="boolean"?n.hidePopper:!0,a=J.useRef(null),i=Uj(Le({open:!g,whileElementsMounted:Bj,placement:n.popperPlacement,middleware:mg([kj({padding:15}),Rj(10),Xj({element:a})],(r=n.popperModifiers)!==null&&r!==void 0?r:[],!0)},n.popperProps)),l=Le(Le({},n),{hidePopper:g,popperProps:Le(Le({},i),{arrowRef:a})});return H.createElement(e,Le({},l))};return t}var x4=function(e){an(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var n=this.props,r=n.className,g=n.wrapperClassName,a=n.hidePopper,i=a===void 0?t.defaultProps.hidePopper:a,l=n.popperComponent,s=n.targetComponent,c=n.enableTabLoop,C=n.popperOnKeyDown,d=n.portalId,A=n.portalHost,f=n.popperProps,b=n.showArrow,p=void 0;if(!i){var h=Ve("react-datepicker-popper",r);p=H.createElement(jF,{enableTabLoop:c},H.createElement("div",{ref:f.refs.setFloating,style:f.floatingStyles,className:h,"data-placement":f.placement,onKeyDown:C},l,b&&H.createElement(xj,{ref:f.arrowRef,context:f.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(p=J.createElement(this.props.popperContainer,{},p)),d&&!i&&(p=H.createElement(OF,{portalId:d,portalHost:A},p));var G=Ve("react-datepicker-wrapper",g);return H.createElement(H.Fragment,null,H.createElement("div",{ref:f.refs.setReference,className:G},s),p)},t}(J.Component),E4=K4(x4),aR="react-datepicker-ignore-onclickoutside";function M4(e,t){return e&&t?Vn(e)!==Vn(t)||Ne(e)!==Ne(t):e!==t}var Hp="Date input not valid.",_me=function(e){an(t,e);function t(n){var r=e.call(this,n)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:at()},r.modifyHolidays=function(){var g;return(g=r.props.holidays)===null||g===void 0?void 0:g.reduce(function(a,i){var l=new Date(i.date);return Mg(l)?mg(mg([],a,!0),[Le(Le({},i),{date:l})],!1):a},[])},r.calcInitialState=function(){var g,a=r.getPreSelection(),i=UF(r.props),l=PF(r.props),s=i&&Ni(a,yC(i))?i:l&&La(a,Lw(l))?l:a;return{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(g=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&g!==void 0?g:s,highlightDates:qw(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.resetHiddenStatus=function(){r.setState(Le(Le({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Le(Le({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.safeFocus=function(){setTimeout(function(){var g,a;(a=(g=r.input)===null||g===void 0?void 0:g.focus)===null||a===void 0||a.call(g,{preventScroll:!0})},0)},r.safeBlur=function(){setTimeout(function(){var g,a;(a=(g=r.input)===null||g===void 0?void 0:g.blur)===null||a===void 0||a.call(g)},0)},r.setFocus=function(){r.safeFocus()},r.setBlur=function(){r.safeBlur(),r.cancelFocusInput()},r.setOpen=function(g,a){a===void 0&&(a=!1),r.setState({open:g,preSelection:g&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Np},function(){g||r.setState(function(i){return{focused:a?i.focused:!1}},function(){!a&&r.setBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Og(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(g){var a,i,l=r.state.wasHidden,s=l?r.state.open:!0;l&&r.resetHiddenStatus(),!r.state.preventFocus&&s&&((i=(a=r.props).onFocus)===null||i===void 0||i.call(a,g),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.handleBlur=function(g){var a,i;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((i=(a=r.props).onBlur)===null||i===void 0||i.call(a,g)),r.setState({focused:!1})},r.handleCalendarClickOutside=function(g){var a,i;r.props.inline||r.setOpen(!1),(i=(a=r.props).onClickOutside)===null||i===void 0||i.call(a,g),r.props.withPortal&&g.preventDefault()},r.handleChange=function(){for(var g,a,i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];var s=i[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,i),!s||typeof s.isDefaultPrevented!="function"||s.isDefaultPrevented()))){r.setState({inputValue:(s==null?void 0:s.target)instanceof HTMLInputElement?s.target.value:null,lastPreSelectChange:D4});var c=r.props,C=c.dateFormat,d=C===void 0?t.defaultProps.dateFormat:C,A=c.strictParsing,f=A===void 0?t.defaultProps.strictParsing:A,b=c.selectsRange,p=c.startDate,h=c.endDate,G=(s==null?void 0:s.target)instanceof HTMLInputElement?s.target.value:"";if(b){var v=G.split("-",2).map(function(R){return R.trim()}),S=v[0],V=v[1],Z=Xp(S??"",d,r.props.locale,f),W=Xp(V??"",d,r.props.locale,f),w=(p==null?void 0:p.getTime())!==(Z==null?void 0:Z.getTime()),X=(h==null?void 0:h.getTime())!==(W==null?void 0:W.getTime());if(!w&&!X||Z&&hr(Z,r.props)||W&&hr(W,r.props))return;(a=(g=r.props).onChange)===null||a===void 0||a.call(g,[Z,W],s)}else{var N=Xp(G,d,r.props.locale,f,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&N&&!Me(N,r.props.selected)&&(N=zO(r.props.selected,{hours:pg(N),minutes:hg(N),seconds:jg(N)})),(N||!G)&&r.setSelected(N,s,!0)}}},r.handleSelect=function(g,a,i){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(a),r.setSelected(g,a,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(g);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var l=r.props,s=l.startDate,c=l.endDate;s&&!c&&(r.props.swapRange||!nR(g,s))&&r.setOpen(!1)}},r.setSelected=function(g,a,i,l){var s,c,C=g;if(r.props.showYearPicker){if(C!==null&&ZC(Ne(C),r.props))return}else if(r.props.showMonthYearPicker){if(C!==null&&zF(C,r.props))return}else if(C!==null&&hr(C,r.props))return;var d=r.props,A=d.onChange,f=d.selectsRange,b=d.startDate,p=d.endDate,h=d.selectsMultiple,G=d.selectedDates,v=d.minTime,S=d.swapRange;if(!bi(r.props.selected,C)||r.props.allowSameDay||f||h)if(C!==null&&(r.props.selected&&(!i||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(C=Jp(C,{hour:pg(r.props.selected),minute:hg(r.props.selected),second:jg(r.props.selected)})),!i&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&v&&(C=Jp(C,{hour:v.getHours(),minute:v.getMinutes(),second:v.getSeconds()})),r.props.inline||r.setState({preSelection:C}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:l})),f){var V=!b&&!p,Z=b&&!p,W=b&&p;V?A==null||A([C,null],a):Z&&(C===null?A==null||A([null,null],a):nR(C,b)?S?A==null||A([C,b],a):A==null||A([C,null],a):A==null||A([b,C],a)),W&&(A==null||A([C,null],a))}else if(h){if(C!==null)if(!(G!=null&&G.length))A==null||A([C],a);else{var w=G.some(function(N){return Me(N,C)});if(w){var X=G.filter(function(N){return!Me(N,C)});A==null||A(X,a)}else A==null||A(mg(mg([],G,!0),[C],!1),a)}}else A==null||A(C,a);i||((c=(s=r.props).onSelect)===null||c===void 0||c.call(s,C,a),r.setState({inputValue:null}))},r.setPreSelection=function(g){var a=Og(r.props.minDate),i=Og(r.props.maxDate),l=!0;if(g){var s=yC(g);if(a&&i)l=qI(g,r.props.minDate,r.props.maxDate);else if(a){var c=yC(r.props.minDate);l=La(g,c)||bi(s,c)}else if(i){var C=Lw(r.props.maxDate);l=Ni(g,C)||bi(s,C)}}l&&r.setState({preSelection:g})},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(g){var a,i;if(!(r.props.selectsRange||r.props.selectsMultiple)){var l=r.props.selected?r.props.selected:r.getPreSelection(),s=r.props.selected?g:Jp(l,{hour:pg(g),minute:hg(g)});r.setState({preSelection:s}),(i=(a=r.props).onChange)===null||i===void 0||i.call(a,s),r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var g,a;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(a=(g=r.props).onInputClick)===null||a===void 0||a.call(g)},r.onInputKeyDown=function(g){var a,i,l,s,c,C;(i=(a=r.props).onKeyDown)===null||i===void 0||i.call(a,g);var d=g.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===ue.ArrowDown||d===ue.ArrowUp||d===ue.Enter)&&((l=r.onInputClick)===null||l===void 0||l.call(r));return}if(r.state.open){if(d===ue.ArrowDown||d===ue.ArrowUp){g.preventDefault();var A=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',f=((s=r.calendar)===null||s===void 0?void 0:s.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(A);f instanceof HTMLElement&&f.focus({preventScroll:!0});return}var b=at(r.state.preSelection);d===ue.Enter?(g.preventDefault(),g.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===Np?(r.handleSelect(b,g),!r.props.shouldCloseOnSelect&&r.setPreSelection(b)):r.setOpen(!1)):d===ue.Escape?(g.preventDefault(),g.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):d===ue.Tab&&r.setOpen(!1),r.inputOk()||(C=(c=r.props).onInputError)===null||C===void 0||C.call(c,{code:1,msg:Hp})}},r.onPortalKeyDown=function(g){var a=g.key;a===ue.Escape&&(g.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(g){var a,i,l,s,c,C,d=r.props,A=d.minDate,f=d.maxDate,b=d.disabledKeyboardNavigation,p=d.showWeekPicker,h=d.shouldCloseOnSelect,G=d.locale,v=d.calendarStartDay,S=d.adjustDateOnChange,V=d.inline;if((i=(a=r.props).onKeyDown)===null||i===void 0||i.call(a,g),!b){var Z=g.key,W=g.shiftKey,w=at(r.state.preSelection),X=function(z,U){var O=U;switch(z){case ue.ArrowRight:O=p?DC(U,1):zr(U,1);break;case ue.ArrowLeft:O=p?Jw(U):VO(U);break;case ue.ArrowUp:O=Jw(U);break;case ue.ArrowDown:O=DC(U,1);break;case ue.PageUp:O=W?$o(U,1):Vi(U,1);break;case ue.PageDown:O=W?Qg(U,1):Pr(U,1);break;case ue.Home:O=Ea(U,G,v);break;case ue.End:O=e4(U);break}return O},N=function(z,U){for(var O=40,D=z,_=!1,te=0,x=X(z,U);!_;){if(te>=O){x=U;break}A&&x<A&&(D=ue.ArrowRight,x=hr(A,r.props)?X(D,x):A),f&&x>f&&(D=ue.ArrowLeft,x=hr(f,r.props)?X(D,x):f),hr(x,r.props)?((D===ue.PageUp||D===ue.Home)&&(D=ue.ArrowRight),(D===ue.PageDown||D===ue.End)&&(D=ue.ArrowLeft),x=X(D,x)):_=!0,te++}return x};if(Z===ue.Enter){g.preventDefault(),r.handleSelect(w,g),!h&&r.setPreSelection(w);return}else if(Z===ue.Escape){g.preventDefault(),r.setOpen(!1),r.inputOk()||(s=(l=r.props).onInputError)===null||s===void 0||s.call(l,{code:1,msg:Hp});return}var R=null;switch(Z){case ue.ArrowLeft:case ue.ArrowRight:case ue.ArrowUp:case ue.ArrowDown:case ue.PageUp:case ue.PageDown:case ue.Home:case ue.End:R=N(Z,w);break}if(!R){(C=(c=r.props).onInputError)===null||C===void 0||C.call(c,{code:1,msg:Hp});return}if(g.preventDefault(),r.setState({lastPreSelectChange:Np}),S&&r.setSelected(R),r.setPreSelection(R),V){var Y=Vn(w),K=Vn(R),E=Ne(w),L=Ne(R);Y!==K||E!==L?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}},r.onPopperKeyDown=function(g){var a=g.key;a===ue.Escape&&(g.preventDefault(),r.sendFocusBackToInput())},r.onClearClick=function(g){g&&g.preventDefault&&g.preventDefault(),r.sendFocusBackToInput();var a=r.props,i=a.selectsRange,l=a.onChange;i?l==null||l([null,null],g):l==null||l(null,g),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(g){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(g.target===document||g.target===document.documentElement||g.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(g)&&r.setOpen(!1)},r.renderCalendar=function(){var g,a;return!r.props.inline&&!r.isCalendarOpen()?null:H.createElement(Y4,Le({showMonthYearDropdown:void 0,ref:function(i){r.calendar=i}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(g=r.props.dateFormatCalendar)!==null&&g!==void 0?g:t.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:u4(r.modifyHolidays()),outsideClickIgnoreClass:aR,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(a=r.props.dropdownMode)!==null&&a!==void 0?a:t.defaultProps.dropdownMode}),r.props.children)},r.renderAriaLiveRegion=function(){var g=r.props,a=g.dateFormat,i=a===void 0?t.defaultProps.dateFormat:a,l=g.locale,s=r.props.showTimeInput||r.props.showTimeSelect,c=s?"PPPPp":"PPPP",C;return r.props.selectsRange?C="Selected start date: ".concat(pr(r.props.startDate,{dateFormat:c,locale:l}),". ").concat(r.props.endDate?"End date: "+pr(r.props.endDate,{dateFormat:c,locale:l}):""):r.props.showTimeSelectOnly?C="Selected time: ".concat(pr(r.props.selected,{dateFormat:i,locale:l})):r.props.showYearPicker?C="Selected year: ".concat(pr(r.props.selected,{dateFormat:"yyyy",locale:l})):r.props.showMonthYearPicker?C="Selected month: ".concat(pr(r.props.selected,{dateFormat:"MMMM yyyy",locale:l})):r.props.showQuarterYearPicker?C="Selected quarter: ".concat(pr(r.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):C="Selected date: ".concat(pr(r.props.selected,{dateFormat:c,locale:l})),H.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},C)},r.renderDateInput=function(){var g,a,i,l=Ve(r.props.className,(g={},g[aR]=r.state.open,g)),s=r.props.customInput||H.createElement("input",{type:"text"}),c=r.props.customInputRef||"ref",C=r.props,d=C.dateFormat,A=d===void 0?t.defaultProps.dateFormat:d,f=C.locale,b=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?jj(r.props.startDate,r.props.endDate,{dateFormat:A,locale:f}):r.props.selectsMultiple?_j((i=r.props.selectedDates)!==null&&i!==void 0?i:[],{dateFormat:A,locale:f}):pr(r.props.selected,{dateFormat:A,locale:f});return J.cloneElement(s,(a={},a[c]=function(p){r.input=p},a.value=b,a.onBlur=r.handleBlur,a.onChange=r.handleChange,a.onClick=r.onInputClick,a.onFocus=r.handleFocus,a.onKeyDown=r.onInputKeyDown,a.id=r.props.id,a.name=r.props.name,a.form=r.props.form,a.autoFocus=r.props.autoFocus,a.placeholder=r.props.placeholderText,a.disabled=r.props.disabled,a.autoComplete=r.props.autoComplete,a.className=Ve(s.props.className,l),a.title=r.props.title,a.readOnly=r.props.readOnly,a.required=r.props.required,a.tabIndex=r.props.tabIndex,a["aria-describedby"]=r.props.ariaDescribedBy,a["aria-invalid"]=r.props.ariaInvalid,a["aria-labelledby"]=r.props.ariaLabelledBy,a["aria-required"]=r.props.ariaRequired,a))},r.renderClearButton=function(){var g=r.props,a=g.isClearable,i=g.disabled,l=g.selected,s=g.startDate,c=g.endDate,C=g.clearButtonTitle,d=g.clearButtonClassName,A=d===void 0?"":d,f=g.ariaLabelClose,b=f===void 0?"Close":f,p=g.selectedDates;return a&&(l!=null||s!=null||c!=null||p!=null&&p.length)?H.createElement("button",{type:"button",className:Ve("react-datepicker__close-icon",A,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":b,onClick:r.onClearClick,title:C,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:Ac,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(n,r){var g,a,i,l;n.inline&&M4(n.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&n.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),n.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:qw(this.props.highlightDates)}),!r.focused&&!bi(n.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((a=(g=this.props).onCalendarOpen)===null||a===void 0||a.call(g)),r.open===!0&&this.state.open===!1&&((l=(i=this.props).onCalendarClose)===null||l===void 0||l.call(i)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var n=this.props,r=n.showIcon,g=n.icon,a=n.calendarIconClassname,i=n.calendarIconClassName,l=n.toggleCalendarOnIconClick,s=this.state.open;return a&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),H.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&H.createElement(H4,Le({icon:g,className:Ve(i,!i&&a,s&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var n=this.renderCalendar();if(this.props.inline)return n;if(this.props.withPortal){var r=this.state.open?H.createElement(jF,{enableTabLoop:this.props.enableTabLoop},H.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},n)):null;return this.state.open&&this.props.portalId&&(r=H.createElement(OF,Le({portalId:this.props.portalId},this.props),r)),H.createElement("div",null,this.renderInputContainer(),r)}return H.createElement(E4,Le({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:n,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(J.Component),D4="input",Np="navigate";function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},td.apply(null,arguments)}function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}function T4(e,t){if(ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L4(e){var t=T4(e,"string");return ms(t)=="symbol"?t:t+""}function z4(e,t,n){return(t=L4(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U4(e){if(Array.isArray(e))return e}function P4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function iR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Q4(e,t){if(e){if(typeof e=="string")return iR(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iR(e,t):void 0}}function O4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j4(e,t){return U4(e)||P4(e,t)||Q4(e,t)||O4()}function _4(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function q4(e,t){if(e==null)return{};var n,r,g=_4(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(g[n]=e[n])}return g}var _F={exports:{}},It={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var on=typeof Symbol=="function"&&Symbol.for,GB=on?Symbol.for("react.element"):60103,BB=on?Symbol.for("react.portal"):60106,ZA=on?Symbol.for("react.fragment"):60107,GA=on?Symbol.for("react.strict_mode"):60108,BA=on?Symbol.for("react.profiler"):60114,vA=on?Symbol.for("react.provider"):60109,SA=on?Symbol.for("react.context"):60110,vB=on?Symbol.for("react.async_mode"):60111,WA=on?Symbol.for("react.concurrent_mode"):60111,VA=on?Symbol.for("react.forward_ref"):60112,wA=on?Symbol.for("react.suspense"):60113,$4=on?Symbol.for("react.suspense_list"):60120,RA=on?Symbol.for("react.memo"):60115,kA=on?Symbol.for("react.lazy"):60116,e_=on?Symbol.for("react.block"):60121,t_=on?Symbol.for("react.fundamental"):60117,n_=on?Symbol.for("react.responder"):60118,r_=on?Symbol.for("react.scope"):60119;function Ir(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GB:switch(e=e.type,e){case vB:case WA:case ZA:case BA:case GA:case wA:return e;default:switch(e=e&&e.$$typeof,e){case SA:case VA:case kA:case RA:case vA:return e;default:return t}}case BB:return t}}}function qF(e){return Ir(e)===WA}It.AsyncMode=vB;It.ConcurrentMode=WA;It.ContextConsumer=SA;It.ContextProvider=vA;It.Element=GB;It.ForwardRef=VA;It.Fragment=ZA;It.Lazy=kA;It.Memo=RA;It.Portal=BB;It.Profiler=BA;It.StrictMode=GA;It.Suspense=wA;It.isAsyncMode=function(e){return qF(e)||Ir(e)===vB};It.isConcurrentMode=qF;It.isContextConsumer=function(e){return Ir(e)===SA};It.isContextProvider=function(e){return Ir(e)===vA};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GB};It.isForwardRef=function(e){return Ir(e)===VA};It.isFragment=function(e){return Ir(e)===ZA};It.isLazy=function(e){return Ir(e)===kA};It.isMemo=function(e){return Ir(e)===RA};It.isPortal=function(e){return Ir(e)===BB};It.isProfiler=function(e){return Ir(e)===BA};It.isStrictMode=function(e){return Ir(e)===GA};It.isSuspense=function(e){return Ir(e)===wA};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ZA||e===WA||e===BA||e===GA||e===wA||e===$4||typeof e=="object"&&e!==null&&(e.$$typeof===kA||e.$$typeof===RA||e.$$typeof===vA||e.$$typeof===SA||e.$$typeof===VA||e.$$typeof===t_||e.$$typeof===n_||e.$$typeof===r_||e.$$typeof===e_)};It.typeOf=Ir;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var oR=Object.getOwnPropertySymbols,g_=Object.prototype.hasOwnProperty,a_=Object.prototype.propertyIsEnumerable;function i_(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function o_(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(a){return t[a]});if(r.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(a){g[a]=a}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}o_();var l_="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",I_=l_;Function.call.bind(Object.prototype.hasOwnProperty);var s_=I_;function $F(){}function eK(){}eK.resetWarningCache=$F;var c_=function(){function e(r,g,a,i,l,s){if(s!==s_){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eK,resetWarningCache:$F};return n.PropTypes=n,n};_F.exports=c_();var Go=_F.exports;function u_(e,t){var n=atob(e);return n}function C_(e,t,n){var r=u_(e),g=r.indexOf(`
`,10)+1,a=r.substring(g)+"",i=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(i)}function d_(e,t,n){var r;return function(a){return r=r||C_(e),new Worker(r,a)}}var A_=d_("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg=="),m_=["constraints","onError","onLoad","onScan","resolution","qrArea"];function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function IR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){z4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var f_=function(){return new A_},sR=function(t){t&&(t.getVideoTracks&&t.getAudioTracks?(t.getVideoTracks().forEach(function(n){t.removeTrack(n),n.stop()}),t.getAudioTracks().forEach(function(n){t.removeTrack(n),n.stop()})):t.stop())},tK=function(t){var n=t.constraints,r=t.onError,g=t.onLoad,a=t.onScan,i=t.resolution,l=t.qrArea,s=q4(t,m_),c=J.useRef(null),C=J.useRef(null),d=J.useRef(document.createElement("canvas")),A=J.useRef(null),f=J.useRef(),b=J.useState(null),p=j4(b,2),h=p[0],G=p[1],v=J.useRef(!1),S=J.useRef();J.useEffect(function(){S.current=f_();var w=S.current;return w.onmessage=function(X){a&&a(X.data?IR(IR({},X.data),{},{canvas:d.current}):null),v.current=!1},function(){w.terminate()}},[a]);var V=JSON.stringify(l),Z=J.useCallback(function(){var w=JSON.parse(V),X=S.current,N=C.current&&C.current.readyState===C.current.HAVE_ENOUGH_DATA;if(!v.current&&N){v.current=!0;var R=C.current.videoWidth,Y=C.current.videoHeight,K=R>Y?R:Y,E=Math.floor(i/K*100)/100;Y=Math.floor(E*Y),R=Math.floor(E*R),d.current.width=R,d.current.height=Y,A.current=d.current.getContext("2d"),A.current.drawImage(C.current,0,0,R,Y);var L;w&&w.length===2&&w[0]>0&&w[1]>0?L=A.current.getImageData(Math.floor((R-w[0])/2),Math.floor((Y-w[1])/2),w[0],w[1]):L=A.current.getImageData(0,0,R,Y),X.postMessage(L)}f.current=requestAnimationFrame(Z)},[i,V]),W=JSON.stringify(n);return J.useEffect(function(){var w=JSON.parse(W),X=!0;return navigator.mediaDevices.getUserMedia(w).then(function(N){if(!X)sR(N);else{c.current=N;try{C.current&&(C.current.srcObject=N,C.current.setAttribute("playsinline",!0))}catch{G(window.URL.createObjectURL(N))}g&&g(),f.current=requestAnimationFrame(Z)}}).catch(function(N){return X?r(N):null}),function(){cancelAnimationFrame(f.current),X=!1,sR(c.current),h&&window.URL.revokeObjectURL(h)}},[Z,W,r,g,h]),J.createElement("video",td({autoPlay:!0,playsInline:!0,src:h,ref:C},s))};tK.propTypes={constraints:Go.object,onError:Go.func.isRequired,onLoad:Go.func,onScan:Go.func.isRequired,resolution:Go.number,qrArea:Go.array};tK.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]};const fs={black:"#000",white:"#fff"},Bo={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},vo={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},So={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Wo={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Vo={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},EI={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},p_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Ki(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const h_="$$material";function b_(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function y_(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Z_=function(){function e(n){var r=this;this._insertTag=function(g){var a;r.tags.length===0?r.insertionPoint?a=r.insertionPoint.nextSibling:r.prepend?a=r.container.firstChild:a=r.before:a=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(g,a),r.tags.push(g)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(y_(this));var g=this.tags[this.tags.length-1];if(this.isSpeedy){var a=b_(g);try{a.insertRule(r,a.cssRules.length)}catch{}}else g.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var g;return(g=r.parentNode)==null?void 0:g.removeChild(r)}),this.tags=[],this.ctr=0},e}(),pn="-ms-",nd="-moz-",Qe="-webkit-",nK="comm",SB="rule",WB="decl",G_="@import",rK="@keyframes",B_="@layer",v_=Math.abs,XA=String.fromCharCode,S_=Object.assign;function W_(e,t){return un(e,0)^45?(((t<<2^un(e,0))<<2^un(e,1))<<2^un(e,2))<<2^un(e,3):0}function gK(e){return e.trim()}function V_(e,t){return(e=t.exec(e))?e[0]:e}function Oe(e,t,n){return e.replace(t,n)}function IZ(e,t){return e.indexOf(t)}function un(e,t){return e.charCodeAt(t)|0}function ps(e,t,n){return e.slice(t,n)}function sg(e){return e.length}function VB(e){return e.length}function ju(e,t){return t.push(e),e}function w_(e,t){return e.map(t).join("")}var JA=1,rl=1,aK=0,Mn=0,zt=0,Kl="";function YA(e,t,n,r,g,a,i){return{value:e,root:t,parent:n,type:r,props:g,children:a,line:JA,column:rl,length:i,return:""}}function MI(e,t){return S_(YA("",null,null,"",null,null,0),e,{length:-e.length},t)}function R_(){return zt}function k_(){return zt=Mn>0?un(Kl,--Mn):0,rl--,zt===10&&(rl=1,JA--),zt}function rr(){return zt=Mn<aK?un(Kl,Mn++):0,rl++,zt===10&&(rl=1,JA++),zt}function yg(){return un(Kl,Mn)}function GC(){return Mn}function fc(e,t){return ps(Kl,e,t)}function hs(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function iK(e){return JA=rl=1,aK=sg(Kl=e),Mn=0,[]}function oK(e){return Kl="",e}function BC(e){return gK(fc(Mn-1,sZ(e===91?e+2:e===40?e+1:e)))}function X_(e){for(;(zt=yg())&&zt<33;)rr();return hs(e)>2||hs(zt)>3?"":" "}function J_(e,t){for(;--t&&rr()&&!(zt<48||zt>102||zt>57&&zt<65||zt>70&&zt<97););return fc(e,GC()+(t<6&&yg()==32&&rr()==32))}function sZ(e){for(;rr();)switch(zt){case e:return Mn;case 34:case 39:e!==34&&e!==39&&sZ(zt);break;case 40:e===41&&sZ(e);break;case 92:rr();break}return Mn}function Y_(e,t){for(;rr()&&e+zt!==57;)if(e+zt===84&&yg()===47)break;return"/*"+fc(t,Mn-1)+"*"+XA(e===47?e:rr())}function H_(e){for(;!hs(yg());)rr();return fc(e,Mn)}function N_(e){return oK(vC("",null,null,null,[""],e=iK(e),0,[0],e))}function vC(e,t,n,r,g,a,i,l,s){for(var c=0,C=0,d=i,A=0,f=0,b=0,p=1,h=1,G=1,v=0,S="",V=g,Z=a,W=r,w=S;h;)switch(b=v,v=rr()){case 40:if(b!=108&&un(w,d-1)==58){IZ(w+=Oe(BC(v),"&","&\f"),"&\f")!=-1&&(G=-1);break}case 34:case 39:case 91:w+=BC(v);break;case 9:case 10:case 13:case 32:w+=X_(b);break;case 92:w+=J_(GC()-1,7);continue;case 47:switch(yg()){case 42:case 47:ju(F_(Y_(rr(),GC()),t,n),s);break;default:w+="/"}break;case 123*p:l[c++]=sg(w)*G;case 125*p:case 59:case 0:switch(v){case 0:case 125:h=0;case 59+C:G==-1&&(w=Oe(w,/\f/g,"")),f>0&&sg(w)-d&&ju(f>32?uR(w+";",r,n,d-1):uR(Oe(w," ","")+";",r,n,d-2),s);break;case 59:w+=";";default:if(ju(W=cR(w,t,n,c,C,g,l,S,V=[],Z=[],d),a),v===123)if(C===0)vC(w,t,W,W,V,a,d,l,Z);else switch(A===99&&un(w,3)===110?100:A){case 100:case 108:case 109:case 115:vC(e,W,W,r&&ju(cR(e,W,W,0,0,g,l,S,g,V=[],d),Z),g,Z,d,l,r?V:Z);break;default:vC(w,W,W,W,[""],Z,0,l,Z)}}c=C=f=0,p=G=1,S=w="",d=i;break;case 58:d=1+sg(w),f=b;default:if(p<1){if(v==123)--p;else if(v==125&&p++==0&&k_()==125)continue}switch(w+=XA(v),v*p){case 38:G=C>0?1:(w+="\f",-1);break;case 44:l[c++]=(sg(w)-1)*G,G=1;break;case 64:yg()===45&&(w+=BC(rr())),A=yg(),C=d=sg(S=w+=H_(GC())),v++;break;case 45:b===45&&sg(w)==2&&(p=0)}}return a}function cR(e,t,n,r,g,a,i,l,s,c,C){for(var d=g-1,A=g===0?a:[""],f=VB(A),b=0,p=0,h=0;b<r;++b)for(var G=0,v=ps(e,d+1,d=v_(p=i[b])),S=e;G<f;++G)(S=gK(p>0?A[G]+" "+v:Oe(v,/&\f/g,A[G])))&&(s[h++]=S);return YA(e,t,n,g===0?SB:l,s,c,C)}function F_(e,t,n){return YA(e,t,n,nK,XA(R_()),ps(e,2,-2),0)}function uR(e,t,n,r){return YA(e,t,n,WB,ps(e,0,r),ps(e,r+1,-1),r)}function Do(e,t){for(var n="",r=VB(e),g=0;g<r;g++)n+=t(e[g],g,e,t)||"";return n}function K_(e,t,n,r){switch(e.type){case B_:if(e.children.length)break;case G_:case WB:return e.return=e.return||e.value;case nK:return"";case rK:return e.return=e.value+"{"+Do(e.children,r)+"}";case SB:e.value=e.props.join(",")}return sg(n=Do(e.children,r))?e.return=e.value+"{"+n+"}":""}function x_(e){var t=VB(e);return function(n,r,g,a){for(var i="",l=0;l<t;l++)i+=e[l](n,r,g,a)||"";return i}}function E_(e){return function(t){t.root||(t=t.return)&&e(t)}}function lK(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var M_=function(t,n,r){for(var g=0,a=0;g=a,a=yg(),g===38&&a===12&&(n[r]=1),!hs(a);)rr();return fc(t,Mn)},D_=function(t,n){var r=-1,g=44;do switch(hs(g)){case 0:g===38&&yg()===12&&(n[r]=1),t[r]+=M_(Mn-1,n,r);break;case 2:t[r]+=BC(g);break;case 4:if(g===44){t[++r]=yg()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=XA(g)}while(g=rr());return t},T_=function(t,n){return oK(D_(iK(t),n))},CR=new WeakMap,L_=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,g=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!CR.get(r))&&!g){CR.set(t,!0);for(var a=[],i=T_(n,a),l=r.props,s=0,c=0;s<i.length;s++)for(var C=0;C<l.length;C++,c++)t.props[c]=a[s]?i[s].replace(/&\f/g,l[C]):l[C]+" "+i[s]}}},z_=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function IK(e,t){switch(W_(e,t)){case 5103:return Qe+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Qe+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Qe+e+nd+e+pn+e+e;case 6828:case 4268:return Qe+e+pn+e+e;case 6165:return Qe+e+pn+"flex-"+e+e;case 5187:return Qe+e+Oe(e,/(\w+).+(:[^]+)/,Qe+"box-$1$2"+pn+"flex-$1$2")+e;case 5443:return Qe+e+pn+"flex-item-"+Oe(e,/flex-|-self/,"")+e;case 4675:return Qe+e+pn+"flex-line-pack"+Oe(e,/align-content|flex-|-self/,"")+e;case 5548:return Qe+e+pn+Oe(e,"shrink","negative")+e;case 5292:return Qe+e+pn+Oe(e,"basis","preferred-size")+e;case 6060:return Qe+"box-"+Oe(e,"-grow","")+Qe+e+pn+Oe(e,"grow","positive")+e;case 4554:return Qe+Oe(e,/([^-])(transform)/g,"$1"+Qe+"$2")+e;case 6187:return Oe(Oe(Oe(e,/(zoom-|grab)/,Qe+"$1"),/(image-set)/,Qe+"$1"),e,"")+e;case 5495:case 3959:return Oe(e,/(image-set\([^]*)/,Qe+"$1$`$1");case 4968:return Oe(Oe(e,/(.+:)(flex-)?(.*)/,Qe+"box-pack:$3"+pn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Qe+e+e;case 4095:case 3583:case 4068:case 2532:return Oe(e,/(.+)-inline(.+)/,Qe+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(sg(e)-1-t>6)switch(un(e,t+1)){case 109:if(un(e,t+4)!==45)break;case 102:return Oe(e,/(.+:)(.+)-([^]+)/,"$1"+Qe+"$2-$3$1"+nd+(un(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~IZ(e,"stretch")?IK(Oe(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(un(e,t+1)!==115)break;case 6444:switch(un(e,sg(e)-3-(~IZ(e,"!important")&&10))){case 107:return Oe(e,":",":"+Qe)+e;case 101:return Oe(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Qe+(un(e,14)===45?"inline-":"")+"box$3$1"+Qe+"$2$3$1"+pn+"$2box$3")+e}break;case 5936:switch(un(e,t+11)){case 114:return Qe+e+pn+Oe(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Qe+e+pn+Oe(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Qe+e+pn+Oe(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Qe+e+pn+e+e}return e}var U_=function(t,n,r,g){if(t.length>-1&&!t.return)switch(t.type){case WB:t.return=IK(t.value,t.length);break;case rK:return Do([MI(t,{value:Oe(t.value,"@","@"+Qe)})],g);case SB:if(t.length)return w_(t.props,function(a){switch(V_(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Do([MI(t,{props:[Oe(a,/:(read-\w+)/,":"+nd+"$1")]})],g);case"::placeholder":return Do([MI(t,{props:[Oe(a,/:(plac\w+)/,":"+Qe+"input-$1")]}),MI(t,{props:[Oe(a,/:(plac\w+)/,":"+nd+"$1")]}),MI(t,{props:[Oe(a,/:(plac\w+)/,pn+"input-$1")]})],g)}return""})}},P_=[U_],Q_=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(p){var h=p.getAttribute("data-emotion");h.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var g=t.stylisPlugins||P_,a={},i,l=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var h=p.getAttribute("data-emotion").split(" "),G=1;G<h.length;G++)a[h[G]]=!0;l.push(p)});var s,c=[L_,z_];{var C,d=[K_,E_(function(p){C.insert(p)})],A=x_(c.concat(g,d)),f=function(h){return Do(N_(h),A)};s=function(h,G,v,S){C=v,f(h?h+"{"+G.styles+"}":G.styles),S&&(b.inserted[G.name]=!0)}}var b={key:n,sheet:new Z_({key:n,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:s};return b.sheet.hydrate(l),b},Fp={exports:{}},_e={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR;function O_(){if(dR)return _e;dR=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,g=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,s=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,C=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,A=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,b=e?Symbol.for("react.lazy"):60116,p=e?Symbol.for("react.block"):60121,h=e?Symbol.for("react.fundamental"):60117,G=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function S(Z){if(typeof Z=="object"&&Z!==null){var W=Z.$$typeof;switch(W){case t:switch(Z=Z.type,Z){case s:case c:case r:case a:case g:case d:return Z;default:switch(Z=Z&&Z.$$typeof,Z){case l:case C:case b:case f:case i:return Z;default:return W}}case n:return W}}}function V(Z){return S(Z)===c}return _e.AsyncMode=s,_e.ConcurrentMode=c,_e.ContextConsumer=l,_e.ContextProvider=i,_e.Element=t,_e.ForwardRef=C,_e.Fragment=r,_e.Lazy=b,_e.Memo=f,_e.Portal=n,_e.Profiler=a,_e.StrictMode=g,_e.Suspense=d,_e.isAsyncMode=function(Z){return V(Z)||S(Z)===s},_e.isConcurrentMode=V,_e.isContextConsumer=function(Z){return S(Z)===l},_e.isContextProvider=function(Z){return S(Z)===i},_e.isElement=function(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t},_e.isForwardRef=function(Z){return S(Z)===C},_e.isFragment=function(Z){return S(Z)===r},_e.isLazy=function(Z){return S(Z)===b},_e.isMemo=function(Z){return S(Z)===f},_e.isPortal=function(Z){return S(Z)===n},_e.isProfiler=function(Z){return S(Z)===a},_e.isStrictMode=function(Z){return S(Z)===g},_e.isSuspense=function(Z){return S(Z)===d},_e.isValidElementType=function(Z){return typeof Z=="string"||typeof Z=="function"||Z===r||Z===c||Z===a||Z===g||Z===d||Z===A||typeof Z=="object"&&Z!==null&&(Z.$$typeof===b||Z.$$typeof===f||Z.$$typeof===i||Z.$$typeof===l||Z.$$typeof===C||Z.$$typeof===h||Z.$$typeof===G||Z.$$typeof===v||Z.$$typeof===p)},_e.typeOf=S,_e}var AR;function j_(){return AR||(AR=1,Fp.exports=O_()),Fp.exports}var Kp,mR;function __(){if(mR)return Kp;mR=1;var e=j_(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[e.ForwardRef]=r,a[e.Memo]=g;function i(b){return e.isMemo(b)?g:a[b.$$typeof]||t}var l=Object.defineProperty,s=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,C=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,A=Object.prototype;function f(b,p,h){if(typeof p!="string"){if(A){var G=d(p);G&&G!==A&&f(b,G,h)}var v=s(p);c&&(v=v.concat(c(p)));for(var S=i(b),V=i(p),Z=0;Z<v.length;++Z){var W=v[Z];if(!n[W]&&!(h&&h[W])&&!(V&&V[W])&&!(S&&S[W])){var w=C(p,W);try{l(b,W,w)}catch{}}}}return b}return Kp=f,Kp}__();var q_=!0;function sK(e,t,n){var r="";return n.split(" ").forEach(function(g){e[g]!==void 0?t.push(e[g]+";"):g&&(r+=g+" ")}),r}var wB=function(t,n,r){var g=t.key+"-"+n.name;(r===!1||q_===!1)&&t.registered[g]===void 0&&(t.registered[g]=n.styles)},cK=function(t,n,r){wB(t,n,r);var g=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var a=n;do t.insert(n===a?"."+g:"",a,t.sheet,!0),a=a.next;while(a!==void 0)}};function $_(e){for(var t=0,n,r=0,g=e.length;g>=4;++r,g-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(g){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var e8={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},t8=/[A-Z]|^ms/g,n8=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uK=function(t){return t.charCodeAt(1)===45},fR=function(t){return t!=null&&typeof t!="boolean"},xp=lK(function(e){return uK(e)?e:e.replace(t8,"-$&").toLowerCase()}),pR=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(n8,function(r,g,a){return cg={name:g,styles:a,next:cg},g})}return e8[t]!==1&&!uK(t)&&typeof n=="number"&&n!==0?n+"px":n};function bs(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var g=n;if(g.anim===1)return cg={name:g.name,styles:g.styles,next:cg},g.name;var a=n;if(a.styles!==void 0){var i=a.next;if(i!==void 0)for(;i!==void 0;)cg={name:i.name,styles:i.styles,next:cg},i=i.next;var l=a.styles+";";return l}return r8(e,t,n)}case"function":{if(e!==void 0){var s=cg,c=n(e);return cg=s,bs(e,t,c)}break}}var C=n;if(t==null)return C;var d=t[C];return d!==void 0?d:C}function r8(e,t,n){var r="";if(Array.isArray(n))for(var g=0;g<n.length;g++)r+=bs(e,t,n[g])+";";else for(var a in n){var i=n[a];if(typeof i!="object"){var l=i;t!=null&&t[l]!==void 0?r+=a+"{"+t[l]+"}":fR(l)&&(r+=xp(a)+":"+pR(a,l)+";")}else if(Array.isArray(i)&&typeof i[0]=="string"&&(t==null||t[i[0]]===void 0))for(var s=0;s<i.length;s++)fR(i[s])&&(r+=xp(a)+":"+pR(a,i[s])+";");else{var c=bs(e,t,i);switch(a){case"animation":case"animationName":{r+=xp(a)+":"+c+";";break}default:r+=a+"{"+c+"}"}}}return r}var hR=/label:\s*([^\s;{]+)\s*(;|$)/g,cg;function HA(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,g="";cg=void 0;var a=e[0];if(a==null||a.raw===void 0)r=!1,g+=bs(n,t,a);else{var i=a;g+=i[0]}for(var l=1;l<e.length;l++)if(g+=bs(n,t,e[l]),r){var s=a;g+=s[l]}hR.lastIndex=0;for(var c="",C;(C=hR.exec(g))!==null;)c+="-"+C[1];var d=$_(g)+c;return{name:d,styles:g,next:cg}}var g8=function(t){return t()},a8=T0.useInsertionEffect?T0.useInsertionEffect:!1,CK=a8||g8,dK=J.createContext(typeof HTMLElement<"u"?Q_({key:"css"}):null);dK.Provider;var AK=function(t){return J.forwardRef(function(n,r){var g=J.useContext(dK);return t(n,g,r)})},mK=J.createContext({}),RB={}.hasOwnProperty,cZ="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",i8=function(t,n){var r={};for(var g in n)RB.call(n,g)&&(r[g]=n[g]);return r[cZ]=t,r},o8=function(t){var n=t.cache,r=t.serialized,g=t.isStringTag;return wB(n,r,g),CK(function(){return cK(n,r,g)}),null},l8=AK(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var g=e[cZ],a=[r],i="";typeof e.className=="string"?i=sK(t.registered,a,e.className):e.className!=null&&(i=e.className+" ");var l=HA(a,void 0,J.useContext(mK));i+=t.key+"-"+l.name;var s={};for(var c in e)RB.call(e,c)&&c!=="css"&&c!==cZ&&(s[c]=e[c]);return s.className=i,n&&(s.ref=n),J.createElement(J.Fragment,null,J.createElement(o8,{cache:t,serialized:l,isStringTag:typeof g=="string"}),J.createElement(g,s))}),I8=l8,s8=function(t,n){var r=arguments;if(n==null||!RB.call(n,"css"))return J.createElement.apply(void 0,r);var g=r.length,a=new Array(g);a[0]=I8,a[1]=i8(t,n);for(var i=2;i<g;i++)a[i]=r[i];return J.createElement.apply(null,a)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(s8);function kB(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HA(t)}function fK(){var e=kB.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var c8=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u8=lK(function(e){return c8.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),C8=u8,d8=function(t){return t!=="theme"},bR=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?C8:d8},yR=function(t,n,r){var g;if(n){var a=n.shouldForwardProp;g=t.__emotion_forwardProp&&a?function(i){return t.__emotion_forwardProp(i)&&a(i)}:a}return typeof g!="function"&&r&&(g=t.__emotion_forwardProp),g},A8=function(t){var n=t.cache,r=t.serialized,g=t.isStringTag;return wB(n,r,g),CK(function(){return cK(n,r,g)}),null},m8=function e(t,n){var r=t.__emotion_real===t,g=r&&t.__emotion_base||t,a,i;n!==void 0&&(a=n.label,i=n.target);var l=yR(t,n,r),s=l||bR(g),c=!s("as");return function(){var C=arguments,d=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(a!==void 0&&d.push("label:"+a+";"),C[0]==null||C[0].raw===void 0)d.push.apply(d,C);else{var A=C[0];d.push(A[0]);for(var f=C.length,b=1;b<f;b++)d.push(C[b],A[b])}var p=AK(function(h,G,v){var S=c&&h.as||g,V="",Z=[],W=h;if(h.theme==null){W={};for(var w in h)W[w]=h[w];W.theme=J.useContext(mK)}typeof h.className=="string"?V=sK(G.registered,Z,h.className):h.className!=null&&(V=h.className+" ");var X=HA(d.concat(Z),G.registered,W);V+=G.key+"-"+X.name,i!==void 0&&(V+=" "+i);var N=c&&l===void 0?bR(S):s,R={};for(var Y in h)c&&Y==="as"||N(Y)&&(R[Y]=h[Y]);return R.className=V,v&&(R.ref=v),J.createElement(J.Fragment,null,J.createElement(A8,{cache:G,serialized:X,isStringTag:typeof S=="string"}),J.createElement(S,R))});return p.displayName=a!==void 0?a:"Styled("+(typeof g=="string"?g:g.displayName||g.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=g,p.__emotion_styles=d,p.__emotion_forwardProp=l,Object.defineProperty(p,"toString",{value:function(){return"."+i}}),p.withComponent=function(h,G){var v=e(h,td({},n,G,{shouldForwardProp:yR(p,G,!0)}));return v.apply(void 0,d)},p}},f8=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],uZ=m8.bind(null);f8.forEach(function(e){uZ[e]=uZ(e)});var Ep={exports:{}},Mp,ZR;function p8(){if(ZR)return Mp;ZR=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Mp=e,Mp}var Dp,GR;function h8(){if(GR)return Dp;GR=1;var e=p8();function t(){}function n(){}return n.resetWarningCache=t,Dp=function(){function r(i,l,s,c,C,d){if(d!==e){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}r.isRequired=r;function g(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:g,element:r,elementType:r,instanceOf:g,node:r,objectOf:g,oneOf:g,oneOfType:g,shape:g,exact:g,checkPropTypes:n,resetWarningCache:t};return a.PropTypes=a,a},Dp}var BR;function b8(){return BR||(BR=1,Ep.exports=h8()()),Ep.exports}var y8=b8();const qe=lt(y8);/**
 * @mui/styled-engine v6.4.0
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Z8(e,t){return uZ(e,t)}function G8(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const vR=[];function SR(e){return vR[0]=e,HA(vR)}var Tp={exports:{}},it={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WR;function B8(){if(WR)return it;WR=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),i=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),s=Symbol.for("react.suspense"),c=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),f=Symbol.for("react.client.reference");function b(p){if(typeof p=="object"&&p!==null){var h=p.$$typeof;switch(h){case e:switch(p=p.type,p){case n:case g:case r:case s:case c:return p;default:switch(p=p&&p.$$typeof,p){case i:case l:case d:case C:return p;case a:return p;default:return h}}case t:return h}}}return it.ContextConsumer=a,it.ContextProvider=i,it.Element=e,it.ForwardRef=l,it.Fragment=n,it.Lazy=d,it.Memo=C,it.Portal=t,it.Profiler=g,it.StrictMode=r,it.Suspense=s,it.SuspenseList=c,it.isContextConsumer=function(p){return b(p)===a},it.isContextProvider=function(p){return b(p)===i},it.isElement=function(p){return typeof p=="object"&&p!==null&&p.$$typeof===e},it.isForwardRef=function(p){return b(p)===l},it.isFragment=function(p){return b(p)===n},it.isLazy=function(p){return b(p)===d},it.isMemo=function(p){return b(p)===C},it.isPortal=function(p){return b(p)===t},it.isProfiler=function(p){return b(p)===g},it.isStrictMode=function(p){return b(p)===r},it.isSuspense=function(p){return b(p)===s},it.isSuspenseList=function(p){return b(p)===c},it.isValidElementType=function(p){return typeof p=="string"||typeof p=="function"||p===n||p===g||p===r||p===s||p===c||p===A||typeof p=="object"&&p!==null&&(p.$$typeof===d||p.$$typeof===C||p.$$typeof===i||p.$$typeof===a||p.$$typeof===l||p.$$typeof===f||p.getModuleId!==void 0)},it.typeOf=b,it}var VR;function v8(){return VR||(VR=1,Tp.exports=B8()),Tp.exports}var pK=v8();function Dg(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function hK(e){if(J.isValidElement(e)||pK.isValidElementType(e)||!Dg(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=hK(e[n])}),t}function gr(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Dg(e)&&Dg(t)&&Object.keys(t).forEach(g=>{J.isValidElement(t[g])||pK.isValidElementType(t[g])?r[g]=t[g]:Dg(t[g])&&Object.prototype.hasOwnProperty.call(e,g)&&Dg(e[g])?r[g]=gr(e[g],t[g],n):n.clone?r[g]=Dg(t[g])?hK(t[g]):t[g]:r[g]=t[g]}),r}const S8=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function W8(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...g}=e,a=S8(t),i=Object.keys(a);function l(A){return`@media (min-width:${typeof t[A]=="number"?t[A]:A}${n})`}function s(A){return`@media (max-width:${(typeof t[A]=="number"?t[A]:A)-r/100}${n})`}function c(A,f){const b=i.indexOf(f);return`@media (min-width:${typeof t[A]=="number"?t[A]:A}${n}) and (max-width:${(b!==-1&&typeof t[i[b]]=="number"?t[i[b]]:f)-r/100}${n})`}function C(A){return i.indexOf(A)+1<i.length?c(A,i[i.indexOf(A)+1]):l(A)}function d(A){const f=i.indexOf(A);return f===0?l(i[1]):f===i.length-1?s(i[f]):c(A,i[i.indexOf(A)+1]).replace("@media","@media not all and")}return{keys:i,values:a,up:l,down:s,between:c,only:C,not:d,unit:n,...g}}function V8(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,g)=>{var i,l;const a=/min-width:\s*([0-9.]+)/;return+(((i=r.match(a))==null?void 0:i[1])||0)-+(((l=g.match(a))==null?void 0:l[1])||0)});return n.length?n.reduce((r,g)=>{const a=t[g];return delete r[g],r[g]=a,r},{...t}):t}function w8(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function R8(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,g]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(g).up(a)}function k8(e){const t=(a,i)=>a.replace("@media",i?`@container ${i}`:"@container");function n(a,i){a.up=(...l)=>t(e.breakpoints.up(...l),i),a.down=(...l)=>t(e.breakpoints.down(...l),i),a.between=(...l)=>t(e.breakpoints.between(...l),i),a.only=(...l)=>t(e.breakpoints.only(...l),i),a.not=(...l)=>{const s=t(e.breakpoints.not(...l),i);return s.includes("not all and")?s.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):s}}const r={},g=a=>(n(r,a),r);return n(g),{...e,containerQueries:g}}const X8={borderRadius:4};function as(e,t){return t?gr(e,t,{clone:!1}):e}const NA={xs:0,sm:600,md:900,lg:1200,xl:1536},wR={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${NA[e]}px)`},J8={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:NA[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function ra(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const a=r.breakpoints||wR;return t.reduce((i,l,s)=>(i[a.up(a.keys[s])]=n(t[s]),i),{})}if(typeof t=="object"){const a=r.breakpoints||wR;return Object.keys(t).reduce((i,l)=>{if(w8(a.keys,l)){const s=R8(r.containerQueries?r:J8,l);s&&(i[s]=n(t[l],l))}else if(Object.keys(a.values||NA).includes(l)){const s=a.up(l);i[s]=n(t[l],l)}else{const s=l;i[s]=t[s]}return i},{})}return n(t)}function Y8(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,g)=>{const a=e.up(g);return r[a]={},r},{}))||{}}function H8(e,t){return e.reduce((n,r)=>{const g=n[r];return(!g||Object.keys(g).length===0)&&delete n[r],n},t)}function gl(e){if(typeof e!="string")throw new Error(Ki(7));return e.charAt(0).toUpperCase()+e.slice(1)}function FA(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((g,a)=>g&&g[a]?g[a]:null,e);if(r!=null)return r}return t.split(".").reduce((r,g)=>r&&r[g]!=null?r[g]:null,e)}function rd(e,t,n,r=n){let g;return typeof e=="function"?g=e(n):Array.isArray(e)?g=e[n]||r:g=FA(e,n)||r,t&&(g=t(g,r,e)),g}function Dt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:g}=e,a=i=>{if(i[t]==null)return null;const l=i[t],s=i.theme,c=FA(s,r)||{};return ra(i,l,d=>{let A=rd(c,g,d);return d===A&&typeof d=="string"&&(A=rd(c,g,`${t}${d==="default"?"":gl(d)}`,d)),n===!1?A:{[n]:A}})};return a.propTypes={},a.filterProps=[t],a}function N8(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const F8={m:"margin",p:"padding"},K8={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},RR={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},x8=N8(e=>{if(e.length>2)if(RR[e])e=RR[e];else return[e];const[t,n]=e.split(""),r=F8[t],g=K8[n]||"";return Array.isArray(g)?g.map(a=>r+a):[r+g]}),XB=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],JB=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...XB,...JB];function pc(e,t,n,r){const g=FA(e,t,!0)??n;return typeof g=="number"||typeof g=="string"?a=>typeof a=="string"?a:typeof g=="string"?`calc(${a} * ${g})`:g*a:Array.isArray(g)?a=>{if(typeof a=="string")return a;const i=Math.abs(a),l=g[i];return a>=0?l:typeof l=="number"?-l:`-${l}`}:typeof g=="function"?g:()=>{}}function YB(e){return pc(e,"spacing",8)}function hc(e,t){return typeof t=="string"||t==null?t:e(t)}function E8(e,t){return n=>e.reduce((r,g)=>(r[g]=hc(t,n),r),{})}function M8(e,t,n,r){if(!t.includes(n))return null;const g=x8(n),a=E8(g,r),i=e[n];return ra(e,i,a)}function bK(e,t){const n=YB(e.theme);return Object.keys(e).map(r=>M8(e,t,r,n)).reduce(as,{})}function kt(e){return bK(e,XB)}kt.propTypes={};kt.filterProps=XB;function Xt(e){return bK(e,JB)}Xt.propTypes={};Xt.filterProps=JB;function yK(e=8,t=YB({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(a=>{const i=t(a);return typeof i=="number"?`${i}px`:i}).join(" ");return n.mui=!0,n}function KA(...e){const t=e.reduce((r,g)=>(g.filterProps.forEach(a=>{r[a]=g}),r),{}),n=r=>Object.keys(r).reduce((g,a)=>t[a]?as(g,t[a](r)):g,{});return n.propTypes={},n.filterProps=e.reduce((r,g)=>r.concat(g.filterProps),[]),n}function br(e){return typeof e!="number"?e:`${e}px solid`}function Wr(e,t){return Dt({prop:e,themeKey:"borders",transform:t})}const D8=Wr("border",br),T8=Wr("borderTop",br),L8=Wr("borderRight",br),z8=Wr("borderBottom",br),U8=Wr("borderLeft",br),P8=Wr("borderColor"),Q8=Wr("borderTopColor"),O8=Wr("borderRightColor"),j8=Wr("borderBottomColor"),_8=Wr("borderLeftColor"),q8=Wr("outline",br),$8=Wr("outlineColor"),xA=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=pc(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:hc(t,r)});return ra(e,e.borderRadius,n)}return null};xA.propTypes={};xA.filterProps=["borderRadius"];KA(D8,T8,L8,z8,U8,P8,Q8,O8,j8,_8,xA,q8,$8);const EA=e=>{if(e.gap!==void 0&&e.gap!==null){const t=pc(e.theme,"spacing",8),n=r=>({gap:hc(t,r)});return ra(e,e.gap,n)}return null};EA.propTypes={};EA.filterProps=["gap"];const MA=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=pc(e.theme,"spacing",8),n=r=>({columnGap:hc(t,r)});return ra(e,e.columnGap,n)}return null};MA.propTypes={};MA.filterProps=["columnGap"];const DA=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=pc(e.theme,"spacing",8),n=r=>({rowGap:hc(t,r)});return ra(e,e.rowGap,n)}return null};DA.propTypes={};DA.filterProps=["rowGap"];const e7=Dt({prop:"gridColumn"}),t7=Dt({prop:"gridRow"}),n7=Dt({prop:"gridAutoFlow"}),r7=Dt({prop:"gridAutoColumns"}),g7=Dt({prop:"gridAutoRows"}),a7=Dt({prop:"gridTemplateColumns"}),i7=Dt({prop:"gridTemplateRows"}),o7=Dt({prop:"gridTemplateAreas"}),l7=Dt({prop:"gridArea"});KA(EA,MA,DA,e7,t7,n7,r7,g7,a7,i7,o7,l7);function To(e,t){return t==="grey"?t:e}const I7=Dt({prop:"color",themeKey:"palette",transform:To}),s7=Dt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:To}),c7=Dt({prop:"backgroundColor",themeKey:"palette",transform:To});KA(I7,s7,c7);function $n(e){return e<=1&&e!==0?`${e*100}%`:e}const u7=Dt({prop:"width",transform:$n}),HB=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var g,a,i,l,s;const r=((i=(a=(g=e.theme)==null?void 0:g.breakpoints)==null?void 0:a.values)==null?void 0:i[n])||NA[n];return r?((s=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:s.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:$n(n)}};return ra(e,e.maxWidth,t)}return null};HB.filterProps=["maxWidth"];const C7=Dt({prop:"minWidth",transform:$n}),d7=Dt({prop:"height",transform:$n}),A7=Dt({prop:"maxHeight",transform:$n}),m7=Dt({prop:"minHeight",transform:$n});Dt({prop:"size",cssProperty:"width",transform:$n});Dt({prop:"size",cssProperty:"height",transform:$n});const f7=Dt({prop:"boxSizing"});KA(u7,HB,C7,d7,A7,m7,f7);const TA={border:{themeKey:"borders",transform:br},borderTop:{themeKey:"borders",transform:br},borderRight:{themeKey:"borders",transform:br},borderBottom:{themeKey:"borders",transform:br},borderLeft:{themeKey:"borders",transform:br},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:br},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:xA},color:{themeKey:"palette",transform:To},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:To},backgroundColor:{themeKey:"palette",transform:To},p:{style:Xt},pt:{style:Xt},pr:{style:Xt},pb:{style:Xt},pl:{style:Xt},px:{style:Xt},py:{style:Xt},padding:{style:Xt},paddingTop:{style:Xt},paddingRight:{style:Xt},paddingBottom:{style:Xt},paddingLeft:{style:Xt},paddingX:{style:Xt},paddingY:{style:Xt},paddingInline:{style:Xt},paddingInlineStart:{style:Xt},paddingInlineEnd:{style:Xt},paddingBlock:{style:Xt},paddingBlockStart:{style:Xt},paddingBlockEnd:{style:Xt},m:{style:kt},mt:{style:kt},mr:{style:kt},mb:{style:kt},ml:{style:kt},mx:{style:kt},my:{style:kt},margin:{style:kt},marginTop:{style:kt},marginRight:{style:kt},marginBottom:{style:kt},marginLeft:{style:kt},marginX:{style:kt},marginY:{style:kt},marginInline:{style:kt},marginInlineStart:{style:kt},marginInlineEnd:{style:kt},marginBlock:{style:kt},marginBlockStart:{style:kt},marginBlockEnd:{style:kt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:EA},rowGap:{style:DA},columnGap:{style:MA},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:$n},maxWidth:{style:HB},minWidth:{transform:$n},height:{transform:$n},maxHeight:{transform:$n},minHeight:{transform:$n},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function p7(...e){const t=e.reduce((r,g)=>r.concat(Object.keys(g)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function h7(e,t){return typeof e=="function"?e(t):e}function b7(){function e(n,r,g,a){const i={[n]:r,theme:g},l=a[n];if(!l)return{[n]:r};const{cssProperty:s=n,themeKey:c,transform:C,style:d}=l;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const A=FA(g,c)||{};return d?d(i):ra(i,r,b=>{let p=rd(A,C,b);return b===p&&typeof b=="string"&&(p=rd(A,C,`${n}${b==="default"?"":gl(b)}`,b)),s===!1?p:{[s]:p}})}function t(n){const{sx:r,theme:g={}}=n||{};if(!r)return null;const a=g.unstable_sxConfig??TA;function i(l){let s=l;if(typeof l=="function")s=l(g);else if(typeof l!="object")return l;if(!s)return null;const c=Y8(g.breakpoints),C=Object.keys(c);let d=c;return Object.keys(s).forEach(A=>{const f=h7(s[A],g);if(f!=null)if(typeof f=="object")if(a[A])d=as(d,e(A,f,g,a));else{const b=ra({theme:g},f,p=>({[A]:p}));p7(b,f)?d[A]=t({sx:f,theme:g}):d=as(d,b)}else d=as(d,e(A,f,g,a))}),V8(g,H8(C,d))}return Array.isArray(r)?r.map(i):i(r)}return t}const al=b7();al.filterProps=["sx"];function y7(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let g=n.getColorSchemeSelector(e);return g==="&"?t:((g.includes("data-")||g.includes("."))&&(g=`*:where(${g.replace(/\s*&$/,"")}) &`),{[g]:t})}return n.palette.mode===e?t:{}}function ZK(e={},...t){const{breakpoints:n={},palette:r={},spacing:g,shape:a={},...i}=e,l=W8(n),s=yK(g);let c=gr({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:s,shape:{...X8,...a}},i);return c=k8(c),c.applyStyles=y7,c=t.reduce((C,d)=>gr(C,d),c),c.unstable_sxConfig={...TA,...i==null?void 0:i.unstable_sxConfig},c.unstable_sx=function(d){return al({sx:d,theme:this})},c}const kR=e=>e,Z7=()=>{let e=kR;return{configure(t){e=t},generate(t){return e(t)},reset(){e=kR}}},G7=Z7(),B7={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function GK(e,t,n="Mui"){const r=B7[t];return r?`${n}-${r}`:`${G7.generate(e)}-${t}`}function v7(e,t,n="Mui"){const r={};return t.forEach(g=>{r[g]=GK(e,g,n)}),r}function BK(e){const{variants:t,...n}=e,r={variants:t,style:SR(n),isProcessed:!0};return r.style===n||t&&t.forEach(g=>{typeof g.style!="function"&&(g.style=SR(g.style))}),r}const S7=ZK();function Lp(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function W7(e){return e?(t,n)=>n[e]:null}function V7(e,t,n){e.theme=k7(e.theme)?n:e.theme[t]||e.theme}function SC(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>SC(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:g,...a}=n;r=a}return vK(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function vK(e,t,n=[]){var g;let r;e:for(let a=0;a<t.length;a+=1){const i=t[a];if(typeof i.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!i.props(r))continue}else for(const l in i.props)if(e[l]!==i.props[l]&&((g=e.ownerState)==null?void 0:g[l])!==i.props[l])continue e;typeof i.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(i.style(r))):n.push(i.style)}return n}function w7(e={}){const{themeId:t,defaultTheme:n=S7,rootShouldForwardProp:r=Lp,slotShouldForwardProp:g=Lp}=e;function a(l){V7(l,t,n)}return(l,s={})=>{G8(l,Z=>Z.filter(W=>W!==al));const{name:c,slot:C,skipVariantsResolver:d,skipSx:A,overridesResolver:f=W7(J7(C)),...b}=s,p=d!==void 0?d:C&&C!=="Root"&&C!=="root"||!1,h=A||!1;let G=Lp;C==="Root"||C==="root"?G=r:C?G=g:X7(l)&&(G=void 0);const v=Z8(l,{shouldForwardProp:G,label:R7(),...b}),S=Z=>{if(typeof Z=="function"&&Z.__emotion_real!==Z)return function(w){return SC(w,Z)};if(Dg(Z)){const W=BK(Z);return W.variants?function(X){return SC(X,W)}:W.style}return Z},V=(...Z)=>{const W=[],w=Z.map(S),X=[];if(W.push(a),c&&f&&X.push(function(K){var U,O;const L=(O=(U=K.theme.components)==null?void 0:U[c])==null?void 0:O.styleOverrides;if(!L)return null;const z={};for(const D in L)z[D]=SC(K,L[D]);return f(K,z)}),c&&!p&&X.push(function(K){var z,U;const E=K.theme,L=(U=(z=E==null?void 0:E.components)==null?void 0:z[c])==null?void 0:U.variants;return L?vK(K,L):null}),h||X.push(al),Array.isArray(w[0])){const Y=w.shift(),K=new Array(W.length).fill(""),E=new Array(X.length).fill("");let L;L=[...K,...Y,...E],L.raw=[...K,...Y.raw,...E],W.unshift(L)}const N=[...W,...w,...X],R=v(...N);return l.muiName&&(R.muiName=l.muiName),R};return v.withConfig&&(V.withConfig=v.withConfig),V}}function R7(e,t){return void 0}function k7(e){for(const t in e)return!1;return!0}function X7(e){return typeof e=="string"&&e.charCodeAt(0)>96}function J7(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}function CZ(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const g=r;if(g==="components"||g==="slots")n[g]={...e[g],...n[g]};else if(g==="componentsProps"||g==="slotProps"){const a=e[g],i=t[g];if(!i)n[g]=a||{};else if(!a)n[g]=i;else{n[g]={...i};for(const l in a)if(Object.prototype.hasOwnProperty.call(a,l)){const s=l;n[g][s]=CZ(a[s],i[s])}}}else n[g]===void 0&&(n[g]=e[g])}return n}function Y7(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function NB(e,t=0,n=1){return Y7(e,t,n)}function H7(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,g)=>g<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Ua(e){if(e.type)return e;if(e.charAt(0)==="#")return Ua(H7(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ki(9,e));let r=e.substring(t+1,e.length-1),g;if(n==="color"){if(r=r.split(" "),g=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(g))throw new Error(Ki(10,g))}else r=r.split(",");return r=r.map(a=>parseFloat(a)),{type:n,values:r,colorSpace:g}}const N7=e=>{const t=Ua(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},$I=(e,t)=>{try{return N7(e)}catch{return e}};function LA(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((g,a)=>a<3?parseInt(g,10):g):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function SK(e){e=Ua(e);const{values:t}=e,n=t[0],r=t[1]/100,g=t[2]/100,a=r*Math.min(g,1-g),i=(c,C=(c+n/30)%12)=>g-a*Math.max(Math.min(C-3,9-C,1),-1);let l="rgb";const s=[Math.round(i(0)*255),Math.round(i(8)*255),Math.round(i(4)*255)];return e.type==="hsla"&&(l+="a",s.push(t[3])),LA({type:l,values:s})}function dZ(e){e=Ua(e);let t=e.type==="hsl"||e.type==="hsla"?Ua(SK(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function F7(e,t){const n=dZ(e),r=dZ(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function K7(e,t){return e=Ua(e),t=NB(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,LA(e)}function _u(e,t,n){try{return K7(e,t)}catch{return e}}function FB(e,t){if(e=Ua(e),t=NB(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return LA(e)}function ct(e,t,n){try{return FB(e,t)}catch{return e}}function KB(e,t){if(e=Ua(e),t=NB(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return LA(e)}function ut(e,t,n){try{return KB(e,t)}catch{return e}}function x7(e,t=.15){return dZ(e)>.5?FB(e,t):KB(e,t)}function qu(e,t,n){try{return x7(e,t)}catch{return e}}function E7(e,t,n=void 0){const r={};for(const g in e){const a=e[g];let i="",l=!0;for(let s=0;s<a.length;s+=1){const c=a[s];c&&(i+=(l===!0?"":" ")+t(c),l=!1,n&&n[c]&&(i+=" "+n[c]))}r[g]=i}return r}const M7=J.createContext(void 0);function D7(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const g=t.components[n];return g.defaultProps?CZ(g.defaultProps,r):!g.styleOverrides&&!g.variants?CZ(g,r):r}function T7({props:e,name:t}){const n=J.useContext(M7);return D7({props:e,name:t,theme:{components:n}})}const XR={theme:void 0};function L7(e){let t,n;return function(g){let a=t;return(a===void 0||g.theme!==n)&&(XR.theme=g.theme,a=BK(e(XR)),t=a,n=g.theme),a}}function z7(e=""){function t(...r){if(!r.length)return"";const g=r[0];return typeof g=="string"&&!g.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${g}${t(...r.slice(1))})`:`, ${g}`}return(r,...g)=>`var(--${e?`${e}-`:""}${r}${t(...g)})`}const JR=(e,t,n,r=[])=>{let g=e;t.forEach((a,i)=>{i===t.length-1?Array.isArray(g)?g[Number(a)]=n:g&&typeof g=="object"&&(g[a]=n):g&&typeof g=="object"&&(g[a]||(g[a]=r.includes(a)?[]:{}),g=g[a])})},U7=(e,t,n)=>{function r(g,a=[],i=[]){Object.entries(g).forEach(([l,s])=>{(!n||!n([...a,l]))&&s!=null&&(typeof s=="object"&&Object.keys(s).length>0?r(s,[...a,l],Array.isArray(s)?[...i,l]:i):t([...a,l],s,i))})}r(e)},P7=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function zp(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},g={},a={},i={};return U7(e,(l,s,c)=>{if((typeof s=="string"||typeof s=="number")&&(!r||!r(l,s))){const C=`--${n?`${n}-`:""}${l.join("-")}`,d=P7(l,s);Object.assign(g,{[C]:d}),JR(a,l,`var(${C})`,c),JR(i,l,`var(${C}, ${d})`,c)}},l=>l[0]==="vars"),{css:g,vars:a,varsWithDefaults:i}}function Q7(e,t={}){const{getSelector:n=h,disableCssColorScheme:r,colorSchemeSelector:g}=t,{colorSchemes:a={},components:i,defaultColorScheme:l="light",...s}=e,{vars:c,css:C,varsWithDefaults:d}=zp(s,t);let A=d;const f={},{[l]:b,...p}=a;if(Object.entries(p||{}).forEach(([S,V])=>{const{vars:Z,css:W,varsWithDefaults:w}=zp(V,t);A=gr(A,w),f[S]={css:W,vars:Z}}),b){const{css:S,vars:V,varsWithDefaults:Z}=zp(b,t);A=gr(A,Z),f[l]={css:S,vars:V}}function h(S,V){var W,w;let Z=g;if(g==="class"&&(Z=".%s"),g==="data"&&(Z="[data-%s]"),g!=null&&g.startsWith("data-")&&!g.includes("%s")&&(Z=`[${g}="%s"]`),S){if(Z==="media")return e.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((w=(W=a[S])==null?void 0:W.palette)==null?void 0:w.mode)||S})`]:{":root":V}};if(Z)return e.defaultColorScheme===S?`:root, ${Z.replace("%s",String(S))}`:Z.replace("%s",String(S))}return":root"}return{vars:A,generateThemeVars:()=>{let S={...c};return Object.entries(f).forEach(([,{vars:V}])=>{S=gr(S,V)}),S},generateStyleSheets:()=>{var X,N;const S=[],V=e.defaultColorScheme||"light";function Z(R,Y){Object.keys(Y).length&&S.push(typeof R=="string"?{[R]:{...Y}}:R)}Z(n(void 0,{...C}),C);const{[V]:W,...w}=f;if(W){const{css:R}=W,Y=(N=(X=a[V])==null?void 0:X.palette)==null?void 0:N.mode,K=!r&&Y?{colorScheme:Y,...R}:{...R};Z(n(V,{...K}),K)}return Object.entries(w).forEach(([R,{css:Y}])=>{var L,z;const K=(z=(L=a[R])==null?void 0:L.palette)==null?void 0:z.mode,E=!r&&K?{colorScheme:K,...Y}:{...Y};Z(n(R,{...E}),E)}),S}}}function O7(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}function WK(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:fs.white,default:fs.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const j7=WK();function VK(){return{text:{primary:fs.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:fs.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const YR=VK();function HR(e,t,n,r){const g=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=KB(e.main,g):t==="dark"&&(e.dark=FB(e.main,a)))}function _7(e="light"){return e==="dark"?{main:So[200],light:So[50],dark:So[400]}:{main:So[700],light:So[400],dark:So[800]}}function q7(e="light"){return e==="dark"?{main:vo[200],light:vo[50],dark:vo[400]}:{main:vo[500],light:vo[300],dark:vo[700]}}function $7(e="light"){return e==="dark"?{main:Bo[500],light:Bo[300],dark:Bo[700]}:{main:Bo[700],light:Bo[400],dark:Bo[800]}}function eq(e="light"){return e==="dark"?{main:Wo[400],light:Wo[300],dark:Wo[700]}:{main:Wo[700],light:Wo[500],dark:Wo[900]}}function tq(e="light"){return e==="dark"?{main:Vo[400],light:Vo[300],dark:Vo[700]}:{main:Vo[800],light:Vo[500],dark:Vo[900]}}function nq(e="light"){return e==="dark"?{main:EI[400],light:EI[300],dark:EI[700]}:{main:"#ed6c02",light:EI[500],dark:EI[900]}}function xB(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...g}=e,a=e.primary||_7(t),i=e.secondary||q7(t),l=e.error||$7(t),s=e.info||eq(t),c=e.success||tq(t),C=e.warning||nq(t);function d(p){return F7(p,YR.text.primary)>=n?YR.text.primary:j7.text.primary}const A=({color:p,name:h,mainShade:G=500,lightShade:v=300,darkShade:S=700})=>{if(p={...p},!p.main&&p[G]&&(p.main=p[G]),!p.hasOwnProperty("main"))throw new Error(Ki(11,h?` (${h})`:"",G));if(typeof p.main!="string")throw new Error(Ki(12,h?` (${h})`:"",JSON.stringify(p.main)));return HR(p,"light",v,r),HR(p,"dark",S,r),p.contrastText||(p.contrastText=d(p.main)),p};let f;return t==="light"?f=WK():t==="dark"&&(f=VK()),gr({common:{...fs},mode:t,primary:A({color:a,name:"primary"}),secondary:A({color:i,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:A({color:l,name:"error"}),warning:A({color:C,name:"warning"}),info:A({color:s,name:"info"}),success:A({color:c,name:"success"}),grey:p_,contrastThreshold:n,getContrastText:d,augmentColor:A,tonalOffset:r,...f},g)}function rq(e){const t={};return Object.entries(e).forEach(r=>{const[g,a]=r;typeof a=="object"&&(t[g]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),t}function gq(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function aq(e){return Math.round(e*1e5)/1e5}const NR={textTransform:"uppercase"},FR='"Roboto", "Helvetica", "Arial", sans-serif';function iq(e,t){const{fontFamily:n=FR,fontSize:r=14,fontWeightLight:g=300,fontWeightRegular:a=400,fontWeightMedium:i=500,fontWeightBold:l=700,htmlFontSize:s=16,allVariants:c,pxToRem:C,...d}=typeof t=="function"?t(e):t,A=r/14,f=C||(h=>`${h/s*A}rem`),b=(h,G,v,S,V)=>({fontFamily:n,fontWeight:h,fontSize:f(G),lineHeight:v,...n===FR?{letterSpacing:`${aq(S/G)}em`}:{},...V,...c}),p={h1:b(g,96,1.167,-1.5),h2:b(g,60,1.2,-.5),h3:b(a,48,1.167,0),h4:b(a,34,1.235,.25),h5:b(a,24,1.334,0),h6:b(i,20,1.6,.15),subtitle1:b(a,16,1.75,.15),subtitle2:b(i,14,1.57,.1),body1:b(a,16,1.5,.15),body2:b(a,14,1.43,.15),button:b(i,14,1.75,.4,NR),caption:b(a,12,1.66,.4),overline:b(a,12,2.66,1,NR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return gr({htmlFontSize:s,pxToRem:f,fontFamily:n,fontSize:r,fontWeightLight:g,fontWeightRegular:a,fontWeightMedium:i,fontWeightBold:l,...p},d,{clone:!1})}const oq=.2,lq=.14,Iq=.12;function Zt(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${oq})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${lq})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Iq})`].join(",")}const sq=["none",Zt(0,2,1,-1,0,1,1,0,0,1,3,0),Zt(0,3,1,-2,0,2,2,0,0,1,5,0),Zt(0,3,3,-2,0,3,4,0,0,1,8,0),Zt(0,2,4,-1,0,4,5,0,0,1,10,0),Zt(0,3,5,-1,0,5,8,0,0,1,14,0),Zt(0,3,5,-1,0,6,10,0,0,1,18,0),Zt(0,4,5,-2,0,7,10,1,0,2,16,1),Zt(0,5,5,-3,0,8,10,1,0,3,14,2),Zt(0,5,6,-3,0,9,12,1,0,3,16,2),Zt(0,6,6,-3,0,10,14,1,0,4,18,3),Zt(0,6,7,-4,0,11,15,1,0,4,20,3),Zt(0,7,8,-4,0,12,17,2,0,5,22,4),Zt(0,7,8,-4,0,13,19,2,0,5,24,4),Zt(0,7,9,-4,0,14,21,2,0,5,26,4),Zt(0,8,9,-5,0,15,22,2,0,6,28,5),Zt(0,8,10,-5,0,16,24,2,0,6,30,5),Zt(0,8,11,-5,0,17,26,2,0,6,32,5),Zt(0,9,11,-5,0,18,28,2,0,7,34,6),Zt(0,9,12,-6,0,19,29,2,0,7,36,6),Zt(0,10,13,-6,0,20,31,3,0,8,38,7),Zt(0,10,13,-6,0,21,33,3,0,8,40,7),Zt(0,10,14,-6,0,22,35,3,0,8,42,7),Zt(0,11,14,-7,0,23,36,3,0,9,44,8),Zt(0,11,15,-7,0,24,38,3,0,9,46,8)],cq={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},uq={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function KR(e){return`${Math.round(e)}ms`}function Cq(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function dq(e){const t={...cq,...e.easing},n={...uq,...e.duration};return{getAutoHeightDuration:Cq,create:(g=["all"],a={})=>{const{duration:i=n.standard,easing:l=t.easeInOut,delay:s=0,...c}=a;return(Array.isArray(g)?g:[g]).map(C=>`${C} ${typeof i=="string"?i:KR(i)} ${l} ${typeof s=="string"?s:KR(s)}`).join(",")},...e,easing:t,duration:n}}const Aq={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function mq(e){return Dg(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function wK(e={}){const t={...e};function n(r){const g=Object.entries(r);for(let a=0;a<g.length;a++){const[i,l]=g[a];!mq(l)||i.startsWith("unstable_")?delete r[i]:Dg(l)&&(r[i]={...l},n(r[i]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function AZ(e={},...t){const{breakpoints:n,mixins:r={},spacing:g,palette:a={},transitions:i={},typography:l={},shape:s,...c}=e;if(e.vars)throw new Error(Ki(20));const C=xB(a),d=ZK(e);let A=gr(d,{mixins:gq(d.breakpoints,r),palette:C,shadows:sq.slice(),typography:iq(C,l),transitions:dq(i),zIndex:{...Aq}});return A=gr(A,c),A=t.reduce((f,b)=>gr(f,b),A),A.unstable_sxConfig={...TA,...c==null?void 0:c.unstable_sxConfig},A.unstable_sx=function(b){return al({sx:b,theme:this})},A.toRuntimeSource=wK,A}function fq(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const pq=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=fq(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function RK(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function kK(e){return e==="dark"?pq:[]}function hq(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...g}=e,a=xB(t);return{palette:a,opacity:{...RK(a.mode),...n},overlays:r||kK(a.mode),...g}}function bq(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const yq=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Zq=e=>(t,n)=>{const r=e.rootSelector||":root",g=e.colorSchemeSelector;let a=g;if(g==="class"&&(a=".%s"),g==="data"&&(a="[data-%s]"),g!=null&&g.startsWith("data-")&&!g.includes("%s")&&(a=`[${g}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const i={};return yq(e.cssVarPrefix).forEach(l=>{i[l]=n[l],delete n[l]}),a==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:a?{[a.replace("%s",t)]:i,[`${r}, ${a.replace("%s",t)}`]:n}:{[r]:{...n,...i}}}if(a&&a!=="media")return`${r}, ${a.replace("%s",String(t))}`}else if(t){if(a==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r};function Gq(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function ne(e,t,n){!e[t]&&n&&(e[t]=n)}function es(e){return typeof e!="string"||!e.startsWith("hsl")?e:SK(e)}function Kg(e,t){`${t}Channel`in e||(e[`${t}Channel`]=$I(es(e[t])))}function Bq(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const ig=e=>{try{return e()}catch{}},vq=(e="mui")=>z7(e);function Up(e,t,n,r){if(!t)return;t=t===!0?{}:t;const g=r==="dark"?"dark":"light";if(!n){e[r]=hq({...t,palette:{mode:g,...t==null?void 0:t.palette}});return}const{palette:a,...i}=AZ({...n,palette:{mode:g,...t==null?void 0:t.palette}});return e[r]={...t,palette:a,opacity:{...RK(g),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||kK(g)},i}function Sq(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:g=!1,cssVarPrefix:a="mui",shouldSkipGeneratingVar:i=bq,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:s=":root",...c}=e,C=Object.keys(n)[0],d=r||(n.light&&C!=="light"?"light":C),A=vq(a),{[d]:f,light:b,dark:p,...h}=n,G={...h};let v=f;if((d==="dark"&&!("dark"in n)||d==="light"&&!("light"in n))&&(v=!0),!v)throw new Error(Ki(21,d));const S=Up(G,v,c,d);b&&!G.light&&Up(G,b,void 0,"light"),p&&!G.dark&&Up(G,p,void 0,"dark");let V={defaultColorScheme:d,...S,cssVarPrefix:a,colorSchemeSelector:l,rootSelector:s,getCssVar:A,colorSchemes:G,font:{...rq(S.typography),...S.font},spacing:Bq(c.spacing)};Object.keys(V.colorSchemes).forEach(N=>{const R=V.colorSchemes[N].palette,Y=K=>{const E=K.split("-"),L=E[1],z=E[2];return A(K,R[L][z])};if(R.mode==="light"&&(ne(R.common,"background","#fff"),ne(R.common,"onBackground","#000")),R.mode==="dark"&&(ne(R.common,"background","#000"),ne(R.common,"onBackground","#fff")),Gq(R,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),R.mode==="light"){ne(R.Alert,"errorColor",ct(R.error.light,.6)),ne(R.Alert,"infoColor",ct(R.info.light,.6)),ne(R.Alert,"successColor",ct(R.success.light,.6)),ne(R.Alert,"warningColor",ct(R.warning.light,.6)),ne(R.Alert,"errorFilledBg",Y("palette-error-main")),ne(R.Alert,"infoFilledBg",Y("palette-info-main")),ne(R.Alert,"successFilledBg",Y("palette-success-main")),ne(R.Alert,"warningFilledBg",Y("palette-warning-main")),ne(R.Alert,"errorFilledColor",ig(()=>R.getContrastText(R.error.main))),ne(R.Alert,"infoFilledColor",ig(()=>R.getContrastText(R.info.main))),ne(R.Alert,"successFilledColor",ig(()=>R.getContrastText(R.success.main))),ne(R.Alert,"warningFilledColor",ig(()=>R.getContrastText(R.warning.main))),ne(R.Alert,"errorStandardBg",ut(R.error.light,.9)),ne(R.Alert,"infoStandardBg",ut(R.info.light,.9)),ne(R.Alert,"successStandardBg",ut(R.success.light,.9)),ne(R.Alert,"warningStandardBg",ut(R.warning.light,.9)),ne(R.Alert,"errorIconColor",Y("palette-error-main")),ne(R.Alert,"infoIconColor",Y("palette-info-main")),ne(R.Alert,"successIconColor",Y("palette-success-main")),ne(R.Alert,"warningIconColor",Y("palette-warning-main")),ne(R.AppBar,"defaultBg",Y("palette-grey-100")),ne(R.Avatar,"defaultBg",Y("palette-grey-400")),ne(R.Button,"inheritContainedBg",Y("palette-grey-300")),ne(R.Button,"inheritContainedHoverBg",Y("palette-grey-A100")),ne(R.Chip,"defaultBorder",Y("palette-grey-400")),ne(R.Chip,"defaultAvatarColor",Y("palette-grey-700")),ne(R.Chip,"defaultIconColor",Y("palette-grey-700")),ne(R.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ne(R.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ne(R.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ne(R.LinearProgress,"primaryBg",ut(R.primary.main,.62)),ne(R.LinearProgress,"secondaryBg",ut(R.secondary.main,.62)),ne(R.LinearProgress,"errorBg",ut(R.error.main,.62)),ne(R.LinearProgress,"infoBg",ut(R.info.main,.62)),ne(R.LinearProgress,"successBg",ut(R.success.main,.62)),ne(R.LinearProgress,"warningBg",ut(R.warning.main,.62)),ne(R.Skeleton,"bg",`rgba(${Y("palette-text-primaryChannel")} / 0.11)`),ne(R.Slider,"primaryTrack",ut(R.primary.main,.62)),ne(R.Slider,"secondaryTrack",ut(R.secondary.main,.62)),ne(R.Slider,"errorTrack",ut(R.error.main,.62)),ne(R.Slider,"infoTrack",ut(R.info.main,.62)),ne(R.Slider,"successTrack",ut(R.success.main,.62)),ne(R.Slider,"warningTrack",ut(R.warning.main,.62));const K=qu(R.background.default,.8);ne(R.SnackbarContent,"bg",K),ne(R.SnackbarContent,"color",ig(()=>R.getContrastText(K))),ne(R.SpeedDialAction,"fabHoverBg",qu(R.background.paper,.15)),ne(R.StepConnector,"border",Y("palette-grey-400")),ne(R.StepContent,"border",Y("palette-grey-400")),ne(R.Switch,"defaultColor",Y("palette-common-white")),ne(R.Switch,"defaultDisabledColor",Y("palette-grey-100")),ne(R.Switch,"primaryDisabledColor",ut(R.primary.main,.62)),ne(R.Switch,"secondaryDisabledColor",ut(R.secondary.main,.62)),ne(R.Switch,"errorDisabledColor",ut(R.error.main,.62)),ne(R.Switch,"infoDisabledColor",ut(R.info.main,.62)),ne(R.Switch,"successDisabledColor",ut(R.success.main,.62)),ne(R.Switch,"warningDisabledColor",ut(R.warning.main,.62)),ne(R.TableCell,"border",ut(_u(R.divider,1),.88)),ne(R.Tooltip,"bg",_u(R.grey[700],.92))}if(R.mode==="dark"){ne(R.Alert,"errorColor",ut(R.error.light,.6)),ne(R.Alert,"infoColor",ut(R.info.light,.6)),ne(R.Alert,"successColor",ut(R.success.light,.6)),ne(R.Alert,"warningColor",ut(R.warning.light,.6)),ne(R.Alert,"errorFilledBg",Y("palette-error-dark")),ne(R.Alert,"infoFilledBg",Y("palette-info-dark")),ne(R.Alert,"successFilledBg",Y("palette-success-dark")),ne(R.Alert,"warningFilledBg",Y("palette-warning-dark")),ne(R.Alert,"errorFilledColor",ig(()=>R.getContrastText(R.error.dark))),ne(R.Alert,"infoFilledColor",ig(()=>R.getContrastText(R.info.dark))),ne(R.Alert,"successFilledColor",ig(()=>R.getContrastText(R.success.dark))),ne(R.Alert,"warningFilledColor",ig(()=>R.getContrastText(R.warning.dark))),ne(R.Alert,"errorStandardBg",ct(R.error.light,.9)),ne(R.Alert,"infoStandardBg",ct(R.info.light,.9)),ne(R.Alert,"successStandardBg",ct(R.success.light,.9)),ne(R.Alert,"warningStandardBg",ct(R.warning.light,.9)),ne(R.Alert,"errorIconColor",Y("palette-error-main")),ne(R.Alert,"infoIconColor",Y("palette-info-main")),ne(R.Alert,"successIconColor",Y("palette-success-main")),ne(R.Alert,"warningIconColor",Y("palette-warning-main")),ne(R.AppBar,"defaultBg",Y("palette-grey-900")),ne(R.AppBar,"darkBg",Y("palette-background-paper")),ne(R.AppBar,"darkColor",Y("palette-text-primary")),ne(R.Avatar,"defaultBg",Y("palette-grey-600")),ne(R.Button,"inheritContainedBg",Y("palette-grey-800")),ne(R.Button,"inheritContainedHoverBg",Y("palette-grey-700")),ne(R.Chip,"defaultBorder",Y("palette-grey-700")),ne(R.Chip,"defaultAvatarColor",Y("palette-grey-300")),ne(R.Chip,"defaultIconColor",Y("palette-grey-300")),ne(R.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ne(R.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ne(R.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ne(R.LinearProgress,"primaryBg",ct(R.primary.main,.5)),ne(R.LinearProgress,"secondaryBg",ct(R.secondary.main,.5)),ne(R.LinearProgress,"errorBg",ct(R.error.main,.5)),ne(R.LinearProgress,"infoBg",ct(R.info.main,.5)),ne(R.LinearProgress,"successBg",ct(R.success.main,.5)),ne(R.LinearProgress,"warningBg",ct(R.warning.main,.5)),ne(R.Skeleton,"bg",`rgba(${Y("palette-text-primaryChannel")} / 0.13)`),ne(R.Slider,"primaryTrack",ct(R.primary.main,.5)),ne(R.Slider,"secondaryTrack",ct(R.secondary.main,.5)),ne(R.Slider,"errorTrack",ct(R.error.main,.5)),ne(R.Slider,"infoTrack",ct(R.info.main,.5)),ne(R.Slider,"successTrack",ct(R.success.main,.5)),ne(R.Slider,"warningTrack",ct(R.warning.main,.5));const K=qu(R.background.default,.98);ne(R.SnackbarContent,"bg",K),ne(R.SnackbarContent,"color",ig(()=>R.getContrastText(K))),ne(R.SpeedDialAction,"fabHoverBg",qu(R.background.paper,.15)),ne(R.StepConnector,"border",Y("palette-grey-600")),ne(R.StepContent,"border",Y("palette-grey-600")),ne(R.Switch,"defaultColor",Y("palette-grey-300")),ne(R.Switch,"defaultDisabledColor",Y("palette-grey-600")),ne(R.Switch,"primaryDisabledColor",ct(R.primary.main,.55)),ne(R.Switch,"secondaryDisabledColor",ct(R.secondary.main,.55)),ne(R.Switch,"errorDisabledColor",ct(R.error.main,.55)),ne(R.Switch,"infoDisabledColor",ct(R.info.main,.55)),ne(R.Switch,"successDisabledColor",ct(R.success.main,.55)),ne(R.Switch,"warningDisabledColor",ct(R.warning.main,.55)),ne(R.TableCell,"border",ct(_u(R.divider,1),.68)),ne(R.Tooltip,"bg",_u(R.grey[700],.92))}Kg(R.background,"default"),Kg(R.background,"paper"),Kg(R.common,"background"),Kg(R.common,"onBackground"),Kg(R,"divider"),Object.keys(R).forEach(K=>{const E=R[K];K!=="tonalOffset"&&E&&typeof E=="object"&&(E.main&&ne(R[K],"mainChannel",$I(es(E.main))),E.light&&ne(R[K],"lightChannel",$I(es(E.light))),E.dark&&ne(R[K],"darkChannel",$I(es(E.dark))),E.contrastText&&ne(R[K],"contrastTextChannel",$I(es(E.contrastText))),K==="text"&&(Kg(R[K],"primary"),Kg(R[K],"secondary")),K==="action"&&(E.active&&Kg(R[K],"active"),E.selected&&Kg(R[K],"selected")))})}),V=t.reduce((N,R)=>gr(N,R),V);const Z={prefix:a,disableCssColorScheme:g,shouldSkipGeneratingVar:i,getSelector:Zq(V)},{vars:W,generateThemeVars:w,generateStyleSheets:X}=Q7(V,Z);return V.vars=W,Object.entries(V.colorSchemes[V.defaultColorScheme]).forEach(([N,R])=>{V[N]=R}),V.generateThemeVars=w,V.generateStyleSheets=X,V.generateSpacing=function(){return yK(c.spacing,YB(this))},V.getColorSchemeSelector=O7(l),V.spacing=V.generateSpacing(),V.shouldSkipGeneratingVar=i,V.unstable_sxConfig={...TA,...c==null?void 0:c.unstable_sxConfig},V.unstable_sx=function(R){return al({sx:R,theme:this})},V.toRuntimeSource=wK,V}function xR(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:xB({...n===!0?{}:n.palette,mode:t})})}function Wq(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:g=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...i}=e,l=a||"light",s=g==null?void 0:g[l],c={...g,...n?{[l]:{...typeof s!="boolean"&&s,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return AZ(e,...t);let C=n;"palette"in e||c[l]&&(c[l]!==!0?C=c[l].palette:l==="dark"&&(C={mode:"dark"}));const d=AZ({...e,palette:C},...t);return d.defaultColorScheme=l,d.colorSchemes=c,d.palette.mode==="light"&&(d.colorSchemes.light={...c.light!==!0&&c.light,palette:d.palette},xR(d,"dark",c.dark)),d.palette.mode==="dark"&&(d.colorSchemes.dark={...c.dark!==!0&&c.dark,palette:d.palette},xR(d,"light",c.light)),d}return!n&&!("light"in c)&&l==="light"&&(c.light=!0),Sq({...i,colorSchemes:c,defaultColorScheme:l,...typeof r!="boolean"&&r},...t)}const Vq=Wq();function wq(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Rq=e=>wq(e)&&e!=="classes",EB=w7({themeId:h_,defaultTheme:Vq,rootShouldForwardProp:Rq}),XK=L7;function kq(e){return T7(e)}function Xq(e){return typeof e.main=="string"}function Jq(e,t=[]){if(!Xq(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function Yq(e=[]){return([,t])=>t&&Jq(t,e)}function Hq(e){return GK("MuiCircularProgress",e)}v7("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const ka=44,mZ=fK`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,fZ=fK`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,Nq=typeof mZ!="string"?kB`
        animation: ${mZ} 1.4s linear infinite;
      `:null,Fq=typeof fZ!="string"?kB`
        animation: ${fZ} 1.4s ease-in-out infinite;
      `:null,Kq=e=>{const{classes:t,variant:n,color:r,disableShrink:g}=e,a={root:["root",n,`color${gl(r)}`],svg:["svg"],circle:["circle",`circle${gl(n)}`,g&&"circleDisableShrink"]};return E7(a,Hq,t)},xq=EB("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${gl(n.color)}`]]}})(XK(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:Nq||{animation:`${mZ} 1.4s linear infinite`}},...Object.entries(e.palette).filter(Yq()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),Eq=EB("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Mq=EB("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${gl(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(XK(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:Fq||{animation:`${fZ} 1.4s ease-in-out infinite`}}]}))),qme=J.forwardRef(function(t,n){const r=kq({props:t,name:"MuiCircularProgress"}),{className:g,color:a="primary",disableShrink:i=!1,size:l=40,style:s,thickness:c=3.6,value:C=0,variant:d="indeterminate",...A}=r,f={...r,color:a,disableShrink:i,size:l,thickness:c,value:C,variant:d},b=Kq(f),p={},h={},G={};if(d==="determinate"){const v=2*Math.PI*((ka-c)/2);p.strokeDasharray=v.toFixed(3),G["aria-valuenow"]=Math.round(C),p.strokeDashoffset=`${((100-C)/100*v).toFixed(3)}px`,h.transform="rotate(-90deg)"}return Ya.jsx(xq,{className:Ve(b.root,g),style:{width:l,height:l,...h,...s},ownerState:f,ref:n,role:"progressbar",...G,...A,children:Ya.jsx(Eq,{className:b.svg,ownerState:f,viewBox:`${ka/2} ${ka/2} ${ka} ${ka}`,children:Ya.jsx(Mq,{className:b.circle,style:p,ownerState:f,cx:ka,cy:ka,r:(ka-c)/2,fill:"none",strokeWidth:c})})})});var Pp,ER;function Ln(){if(ER)return Pp;ER=1;var e=Array.isArray;return Pp=e,Pp}var Qp,MR;function JK(){if(MR)return Qp;MR=1;var e=typeof xu=="object"&&xu&&xu.Object===Object&&xu;return Qp=e,Qp}var Op,DR;function wg(){if(DR)return Op;DR=1;var e=JK(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Op=n,Op}var jp,TR;function bc(){if(TR)return jp;TR=1;var e=wg(),t=e.Symbol;return jp=t,jp}var _p,LR;function Dq(){if(LR)return _p;LR=1;var e=bc(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,g=e?e.toStringTag:void 0;function a(i){var l=n.call(i,g),s=i[g];try{i[g]=void 0;var c=!0}catch{}var C=r.call(i);return c&&(l?i[g]=s:delete i[g]),C}return _p=a,_p}var qp,zR;function Tq(){if(zR)return qp;zR=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return qp=n,qp}var $p,UR;function la(){if(UR)return $p;UR=1;var e=bc(),t=Dq(),n=Tq(),r="[object Null]",g="[object Undefined]",a=e?e.toStringTag:void 0;function i(l){return l==null?l===void 0?g:r:a&&a in Object(l)?t(l):n(l)}return $p=i,$p}var eh,PR;function Ia(){if(PR)return eh;PR=1;function e(t){return t!=null&&typeof t=="object"}return eh=e,eh}var th,QR;function xl(){if(QR)return th;QR=1;var e=la(),t=Ia(),n="[object Symbol]";function r(g){return typeof g=="symbol"||t(g)&&e(g)==n}return th=r,th}var nh,OR;function MB(){if(OR)return nh;OR=1;var e=Ln(),t=xl(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function g(a,i){if(e(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||t(a)?!0:r.test(a)||!n.test(a)||i!=null&&a in Object(i)}return nh=g,nh}var rh,jR;function Oa(){if(jR)return rh;jR=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return rh=e,rh}var gh,_R;function DB(){if(_R)return gh;_R=1;var e=la(),t=Oa(),n="[object AsyncFunction]",r="[object Function]",g="[object GeneratorFunction]",a="[object Proxy]";function i(l){if(!t(l))return!1;var s=e(l);return s==r||s==g||s==n||s==a}return gh=i,gh}var ah,qR;function Lq(){if(qR)return ah;qR=1;var e=wg(),t=e["__core-js_shared__"];return ah=t,ah}var ih,$R;function zq(){if($R)return ih;$R=1;var e=Lq(),t=function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function n(r){return!!t&&t in r}return ih=n,ih}var oh,ek;function YK(){if(ek)return oh;ek=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return oh=n,oh}var lh,tk;function Uq(){if(tk)return lh;tk=1;var e=DB(),t=zq(),n=Oa(),r=YK(),g=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,i=Function.prototype,l=Object.prototype,s=i.toString,c=l.hasOwnProperty,C=RegExp("^"+s.call(c).replace(g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(A){if(!n(A)||t(A))return!1;var f=e(A)?C:a;return f.test(r(A))}return lh=d,lh}var Ih,nk;function Pq(){if(nk)return Ih;nk=1;function e(t,n){return t==null?void 0:t[n]}return Ih=e,Ih}var sh,rk;function Ui(){if(rk)return sh;rk=1;var e=Uq(),t=Pq();function n(r,g){var a=t(r,g);return e(a)?a:void 0}return sh=n,sh}var ch,gk;function zA(){if(gk)return ch;gk=1;var e=Ui(),t=e(Object,"create");return ch=t,ch}var uh,ak;function Qq(){if(ak)return uh;ak=1;var e=zA();function t(){this.__data__=e?e(null):{},this.size=0}return uh=t,uh}var Ch,ik;function Oq(){if(ik)return Ch;ik=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return Ch=e,Ch}var dh,ok;function jq(){if(ok)return dh;ok=1;var e=zA(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function g(a){var i=this.__data__;if(e){var l=i[a];return l===t?void 0:l}return r.call(i,a)?i[a]:void 0}return dh=g,dh}var Ah,lk;function _q(){if(lk)return Ah;lk=1;var e=zA(),t=Object.prototype,n=t.hasOwnProperty;function r(g){var a=this.__data__;return e?a[g]!==void 0:n.call(a,g)}return Ah=r,Ah}var mh,Ik;function qq(){if(Ik)return mh;Ik=1;var e=zA(),t="__lodash_hash_undefined__";function n(r,g){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=e&&g===void 0?t:g,this}return mh=n,mh}var fh,sk;function $q(){if(sk)return fh;sk=1;var e=Qq(),t=Oq(),n=jq(),r=_q(),g=qq();function a(i){var l=-1,s=i==null?0:i.length;for(this.clear();++l<s;){var c=i[l];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=g,fh=a,fh}var ph,ck;function e$(){if(ck)return ph;ck=1;function e(){this.__data__=[],this.size=0}return ph=e,ph}var hh,uk;function TB(){if(uk)return hh;uk=1;function e(t,n){return t===n||t!==t&&n!==n}return hh=e,hh}var bh,Ck;function UA(){if(Ck)return bh;Ck=1;var e=TB();function t(n,r){for(var g=n.length;g--;)if(e(n[g][0],r))return g;return-1}return bh=t,bh}var yh,dk;function t$(){if(dk)return yh;dk=1;var e=UA(),t=Array.prototype,n=t.splice;function r(g){var a=this.__data__,i=e(a,g);if(i<0)return!1;var l=a.length-1;return i==l?a.pop():n.call(a,i,1),--this.size,!0}return yh=r,yh}var Zh,Ak;function n$(){if(Ak)return Zh;Ak=1;var e=UA();function t(n){var r=this.__data__,g=e(r,n);return g<0?void 0:r[g][1]}return Zh=t,Zh}var Gh,mk;function r$(){if(mk)return Gh;mk=1;var e=UA();function t(n){return e(this.__data__,n)>-1}return Gh=t,Gh}var Bh,fk;function g$(){if(fk)return Bh;fk=1;var e=UA();function t(n,r){var g=this.__data__,a=e(g,n);return a<0?(++this.size,g.push([n,r])):g[a][1]=r,this}return Bh=t,Bh}var vh,pk;function PA(){if(pk)return vh;pk=1;var e=e$(),t=t$(),n=n$(),r=r$(),g=g$();function a(i){var l=-1,s=i==null?0:i.length;for(this.clear();++l<s;){var c=i[l];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=g,vh=a,vh}var Sh,hk;function LB(){if(hk)return Sh;hk=1;var e=Ui(),t=wg(),n=e(t,"Map");return Sh=n,Sh}var Wh,bk;function a$(){if(bk)return Wh;bk=1;var e=$q(),t=PA(),n=LB();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Wh=r,Wh}var Vh,yk;function i$(){if(yk)return Vh;yk=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Vh=e,Vh}var wh,Zk;function QA(){if(Zk)return wh;Zk=1;var e=i$();function t(n,r){var g=n.__data__;return e(r)?g[typeof r=="string"?"string":"hash"]:g.map}return wh=t,wh}var Rh,Gk;function o$(){if(Gk)return Rh;Gk=1;var e=QA();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return Rh=t,Rh}var kh,Bk;function l$(){if(Bk)return kh;Bk=1;var e=QA();function t(n){return e(this,n).get(n)}return kh=t,kh}var Xh,vk;function I$(){if(vk)return Xh;vk=1;var e=QA();function t(n){return e(this,n).has(n)}return Xh=t,Xh}var Jh,Sk;function s$(){if(Sk)return Jh;Sk=1;var e=QA();function t(n,r){var g=e(this,n),a=g.size;return g.set(n,r),this.size+=g.size==a?0:1,this}return Jh=t,Jh}var Yh,Wk;function zB(){if(Wk)return Yh;Wk=1;var e=a$(),t=o$(),n=l$(),r=I$(),g=s$();function a(i){var l=-1,s=i==null?0:i.length;for(this.clear();++l<s;){var c=i[l];this.set(c[0],c[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=n,a.prototype.has=r,a.prototype.set=g,Yh=a,Yh}var Hh,Vk;function HK(){if(Vk)return Hh;Vk=1;var e=zB(),t="Expected a function";function n(r,g){if(typeof r!="function"||g!=null&&typeof g!="function")throw new TypeError(t);var a=function(){var i=arguments,l=g?g.apply(this,i):i[0],s=a.cache;if(s.has(l))return s.get(l);var c=r.apply(this,i);return a.cache=s.set(l,c)||s,c};return a.cache=new(n.Cache||e),a}return n.Cache=e,Hh=n,Hh}var Nh,wk;function c$(){if(wk)return Nh;wk=1;var e=HK(),t=500;function n(r){var g=e(r,function(i){return a.size===t&&a.clear(),i}),a=g.cache;return g}return Nh=n,Nh}var Fh,Rk;function u$(){if(Rk)return Fh;Rk=1;var e=c$(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(g){var a=[];return g.charCodeAt(0)===46&&a.push(""),g.replace(t,function(i,l,s,c){a.push(s?c.replace(n,"$1"):l||i)}),a});return Fh=r,Fh}var Kh,kk;function UB(){if(kk)return Kh;kk=1;function e(t,n){for(var r=-1,g=t==null?0:t.length,a=Array(g);++r<g;)a[r]=n(t[r],r,t);return a}return Kh=e,Kh}var xh,Xk;function C$(){if(Xk)return xh;Xk=1;var e=bc(),t=UB(),n=Ln(),r=xl(),g=e?e.prototype:void 0,a=g?g.toString:void 0;function i(l){if(typeof l=="string")return l;if(n(l))return t(l,i)+"";if(r(l))return a?a.call(l):"";var s=l+"";return s=="0"&&1/l==-1/0?"-0":s}return xh=i,xh}var Eh,Jk;function NK(){if(Jk)return Eh;Jk=1;var e=C$();function t(n){return n==null?"":e(n)}return Eh=t,Eh}var Mh,Yk;function FK(){if(Yk)return Mh;Yk=1;var e=Ln(),t=MB(),n=u$(),r=NK();function g(a,i){return e(a)?a:t(a,i)?[a]:n(r(a))}return Mh=g,Mh}var Dh,Hk;function OA(){if(Hk)return Dh;Hk=1;var e=xl();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Dh=t,Dh}var Th,Nk;function PB(){if(Nk)return Th;Nk=1;var e=FK(),t=OA();function n(r,g){g=e(g,r);for(var a=0,i=g.length;r!=null&&a<i;)r=r[t(g[a++])];return a&&a==i?r:void 0}return Th=n,Th}var Lh,Fk;function KK(){if(Fk)return Lh;Fk=1;var e=PB();function t(n,r,g){var a=n==null?void 0:e(n,r);return a===void 0?g:a}return Lh=t,Lh}var d$=KK();const Zr=lt(d$);var zh,Kk;function A$(){if(Kk)return zh;Kk=1;function e(t){return t==null}return zh=e,zh}var m$=A$();const Ke=lt(m$);var Uh,xk;function f$(){if(xk)return Uh;xk=1;var e=la(),t=Ln(),n=Ia(),r="[object String]";function g(a){return typeof a=="string"||!t(a)&&n(a)&&e(a)==r}return Uh=g,Uh}var p$=f$();const yc=lt(p$);var h$=DB();const Ye=lt(h$);var b$=Oa();const El=lt(b$);var Ph={exports:{}},$e={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek;function y$(){if(Ek)return $e;Ek=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),i=Symbol.for("react.context"),l=Symbol.for("react.server_context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function p(h){if(typeof h=="object"&&h!==null){var G=h.$$typeof;switch(G){case e:switch(h=h.type,h){case n:case g:case r:case c:case C:return h;default:switch(h=h&&h.$$typeof,h){case l:case i:case s:case A:case d:case a:return h;default:return G}}case t:return G}}}return $e.ContextConsumer=i,$e.ContextProvider=a,$e.Element=e,$e.ForwardRef=s,$e.Fragment=n,$e.Lazy=A,$e.Memo=d,$e.Portal=t,$e.Profiler=g,$e.StrictMode=r,$e.Suspense=c,$e.SuspenseList=C,$e.isAsyncMode=function(){return!1},$e.isConcurrentMode=function(){return!1},$e.isContextConsumer=function(h){return p(h)===i},$e.isContextProvider=function(h){return p(h)===a},$e.isElement=function(h){return typeof h=="object"&&h!==null&&h.$$typeof===e},$e.isForwardRef=function(h){return p(h)===s},$e.isFragment=function(h){return p(h)===n},$e.isLazy=function(h){return p(h)===A},$e.isMemo=function(h){return p(h)===d},$e.isPortal=function(h){return p(h)===t},$e.isProfiler=function(h){return p(h)===g},$e.isStrictMode=function(h){return p(h)===r},$e.isSuspense=function(h){return p(h)===c},$e.isSuspenseList=function(h){return p(h)===C},$e.isValidElementType=function(h){return typeof h=="string"||typeof h=="function"||h===n||h===g||h===r||h===c||h===C||h===f||typeof h=="object"&&h!==null&&(h.$$typeof===A||h.$$typeof===d||h.$$typeof===a||h.$$typeof===i||h.$$typeof===s||h.$$typeof===b||h.getModuleId!==void 0)},$e.typeOf=p,$e}var Mk;function Z$(){return Mk||(Mk=1,Ph.exports=y$()),Ph.exports}var G$=Z$(),Qh,Dk;function xK(){if(Dk)return Qh;Dk=1;var e=la(),t=Ia(),n="[object Number]";function r(g){return typeof g=="number"||t(g)&&e(g)==n}return Qh=r,Qh}var Oh,Tk;function B$(){if(Tk)return Oh;Tk=1;var e=xK();function t(n){return e(n)&&n!=+n}return Oh=t,Oh}var v$=B$();const Zc=lt(v$);var S$=xK();const W$=lt(S$);var Lr=function(t){return t===0?0:t>0?1:-1},yi=function(t){return yc(t)&&t.indexOf("%")===t.length-1},ce=function(t){return W$(t)&&!Zc(t)},jt=function(t){return ce(t)||yc(t)},V$=0,Gc=function(t){var n=++V$;return"".concat(t||"").concat(n)},xi=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ce(t)&&!yc(t))return r;var a;if(yi(t)){var i=t.indexOf("%");a=n*parseFloat(t.slice(0,i))/100}else a=+t;return Zc(a)&&(a=r),g&&a>n&&(a=n),a},Ha=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},w$=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},g=0;g<n;g++)if(!r[t[g]])r[t[g]]=!0;else return!0;return!1},Dr=function(t,n){return ce(t)&&ce(n)?function(r){return t+r*(n-t)}:function(){return n}};function gd(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Zr(r,t))===n})}function Lo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function pZ(e){"@babel/helpers - typeof";return pZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pZ(e)}var R$=["viewBox","children"],k$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Lk=["points","pathLength"],jh={svg:R$,polygon:Lk,polyline:Lk},QB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ad=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(J.isValidElement(t)&&(r=t.props),!El(r))return null;var g={};return Object.keys(r).forEach(function(a){QB.includes(a)&&(g[a]=n||function(i){return r[a](r,i)})}),g},X$=function(t,n,r){return function(g){return t(n,r,g),null}},id=function(t,n,r){if(!El(t)||pZ(t)!=="object")return null;var g=null;return Object.keys(t).forEach(function(a){var i=t[a];QB.includes(a)&&typeof i=="function"&&(g||(g={}),g[a]=X$(i,n,r))}),g},J$=["children"],Y$=["children"];function zk(e,t){if(e==null)return{};var n=H$(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function H$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hZ(e){"@babel/helpers - typeof";return hZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hZ(e)}var Uk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},qg=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Pk=null,_h=null,OB=function e(t){if(t===Pk&&Array.isArray(_h))return _h;var n=[];return J.Children.forEach(t,function(r){Ke(r)||(G$.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),_h=n,Pk=t,n};function Gr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(g){return qg(g)}):r=[qg(t)],OB(e).forEach(function(g){var a=Zr(g,"type.displayName")||Zr(g,"type.name");r.indexOf(a)!==-1&&n.push(g)}),n}function _n(e,t){var n=Gr(e,t);return n[0]}var Qk=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,g=n.height;return!(!ce(r)||r<=0||!ce(g)||g<=0)},N$=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],F$=function(t){return t&&t.type&&yc(t.type)&&N$.indexOf(t.type)>=0},K$=function(t){return t&&hZ(t)==="object"&&"clipDot"in t},x$=function(t,n,r,g){var a,i=(a=jh==null?void 0:jh[g])!==null&&a!==void 0?a:[];return!Ye(t)&&(g&&i.includes(n)||k$.includes(n))||r&&QB.includes(n)},xe=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var g=t;if(J.isValidElement(t)&&(g=t.props),!El(g))return null;var a={};return Object.keys(g).forEach(function(i){var l;x$((l=g)===null||l===void 0?void 0:l[i],i,n,r)&&(a[i]=g[i])}),a},bZ=function e(t,n){if(t===n)return!0;var r=J.Children.count(t);if(r!==J.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Ok(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var g=0;g<r;g++){var a=t[g],i=n[g];if(Array.isArray(a)||Array.isArray(i)){if(!e(a,i))return!1}else if(!Ok(a,i))return!1}return!0},Ok=function(t,n){if(Ke(t)&&Ke(n))return!0;if(!Ke(t)&&!Ke(n)){var r=t.props||{},g=r.children,a=zk(r,J$),i=n.props||{},l=i.children,s=zk(i,Y$);return g&&l?Lo(a,s)&&bZ(g,l):!g&&!l?Lo(a,s):!1}return!1},jk=function(t,n){var r=[],g={};return OB(t).forEach(function(a,i){if(F$(a))r.push(a);else if(a){var l=qg(a.type),s=n[l]||{},c=s.handler,C=s.once;if(c&&(!C||!g[l])){var d=c(a,l,i);r.push(d),g[l]=!0}}}),r},E$=function(t){var n=t&&t.type;return n&&Uk[n]?Uk[n]:null},M$=function(t,n){return OB(n).indexOf(t)},D$=["children","width","height","viewBox","className","style","title","desc"];function yZ(){return yZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yZ.apply(this,arguments)}function T$(e,t){if(e==null)return{};var n=L$(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function L$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ZZ(e){var t=e.children,n=e.width,r=e.height,g=e.viewBox,a=e.className,i=e.style,l=e.title,s=e.desc,c=T$(e,D$),C=g||{width:n,height:r,x:0,y:0},d=Ve("recharts-surface",a);return H.createElement("svg",yZ({},xe(c,!0,"svg"),{className:d,width:n,height:r,style:i,viewBox:"".concat(C.x," ").concat(C.y," ").concat(C.width," ").concat(C.height)}),H.createElement("title",null,l),H.createElement("desc",null,s),t)}var z$=["children","className"];function GZ(){return GZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GZ.apply(this,arguments)}function U$(e,t){if(e==null)return{};var n=P$(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function P$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Kt=H.forwardRef(function(e,t){var n=e.children,r=e.className,g=U$(e,z$),a=Ve("recharts-layer",r);return H.createElement("g",GZ({className:a},xe(g,!0),{ref:t}),n)}),$g=function(t,n){for(var r=arguments.length,g=new Array(r>2?r-2:0),a=2;a<r;a++)g[a-2]=arguments[a]},qh,_k;function Q$(){if(_k)return qh;_k=1;function e(t,n,r){var g=-1,a=t.length;n<0&&(n=-n>a?0:a+n),r=r>a?a:r,r<0&&(r+=a),a=n>r?0:r-n>>>0,n>>>=0;for(var i=Array(a);++g<a;)i[g]=t[g+n];return i}return qh=e,qh}var $h,qk;function O$(){if(qk)return $h;qk=1;var e=Q$();function t(n,r,g){var a=n.length;return g=g===void 0?a:g,!r&&g>=a?n:e(n,r,g)}return $h=t,$h}var eb,$k;function EK(){if($k)return eb;$k=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",g=t+n+r,a="\\ufe0e\\ufe0f",i="\\u200d",l=RegExp("["+i+e+g+a+"]");function s(c){return l.test(c)}return eb=s,eb}var tb,e2;function j$(){if(e2)return tb;e2=1;function e(t){return t.split("")}return tb=e,tb}var nb,t2;function _$(){if(t2)return nb;t2=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",g=t+n+r,a="\\ufe0e\\ufe0f",i="["+e+"]",l="["+g+"]",s="\\ud83c[\\udffb-\\udfff]",c="(?:"+l+"|"+s+")",C="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",A="[\\ud800-\\udbff][\\udc00-\\udfff]",f="\\u200d",b=c+"?",p="["+a+"]?",h="(?:"+f+"(?:"+[C,d,A].join("|")+")"+p+b+")*",G=p+b+h,v="(?:"+[C+l+"?",l,d,A,i].join("|")+")",S=RegExp(s+"(?="+s+")|"+v+G,"g");function V(Z){return Z.match(S)||[]}return nb=V,nb}var rb,n2;function q$(){if(n2)return rb;n2=1;var e=j$(),t=EK(),n=_$();function r(g){return t(g)?n(g):e(g)}return rb=r,rb}var gb,r2;function $$(){if(r2)return gb;r2=1;var e=O$(),t=EK(),n=q$(),r=NK();function g(a){return function(i){i=r(i);var l=t(i)?n(i):void 0,s=l?l[0]:i.charAt(0),c=l?e(l,1).join(""):i.slice(1);return s[a]()+c}}return gb=g,gb}var ab,g2;function e6(){if(g2)return ab;g2=1;var e=$$(),t=e("toUpperCase");return ab=t,ab}var t6=e6();const jA=lt(t6);function At(e){return function(){return e}}const MK=Math.cos,od=Math.sin,jr=Math.sqrt,ld=Math.PI,_A=2*ld,BZ=Math.PI,vZ=2*BZ,mi=1e-6,n6=vZ-mi;function DK(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function r6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DK;const n=10**t;return function(r){this._+=r[0];for(let g=1,a=r.length;g<a;++g)this._+=Math.round(arguments[g]*n)/n+r[g]}}class g6{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DK:r6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,g){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+g}`}bezierCurveTo(t,n,r,g,a,i){this._append`C${+t},${+n},${+r},${+g},${this._x1=+a},${this._y1=+i}`}arcTo(t,n,r,g,a){if(t=+t,n=+n,r=+r,g=+g,a=+a,a<0)throw new Error(`negative radius: ${a}`);let i=this._x1,l=this._y1,s=r-t,c=g-n,C=i-t,d=l-n,A=C*C+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(A>mi)if(!(Math.abs(d*s-c*C)>mi)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let f=r-i,b=g-l,p=s*s+c*c,h=f*f+b*b,G=Math.sqrt(p),v=Math.sqrt(A),S=a*Math.tan((BZ-Math.acos((p+A-h)/(2*G*v)))/2),V=S/v,Z=S/G;Math.abs(V-1)>mi&&this._append`L${t+V*C},${n+V*d}`,this._append`A${a},${a},0,0,${+(d*f>C*b)},${this._x1=t+Z*s},${this._y1=n+Z*c}`}}arc(t,n,r,g,a,i){if(t=+t,n=+n,r=+r,i=!!i,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(g),s=r*Math.sin(g),c=t+l,C=n+s,d=1^i,A=i?g-a:a-g;this._x1===null?this._append`M${c},${C}`:(Math.abs(this._x1-c)>mi||Math.abs(this._y1-C)>mi)&&this._append`L${c},${C}`,r&&(A<0&&(A=A%vZ+vZ),A>n6?this._append`A${r},${r},0,1,${d},${t-l},${n-s}A${r},${r},0,1,${d},${this._x1=c},${this._y1=C}`:A>mi&&this._append`A${r},${r},0,${+(A>=BZ)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,g){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+g}h${-r}Z`}toString(){return this._}}function jB(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new g6(t)}function _B(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function TK(e){this._context=e}TK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qA(e){return new TK(e)}function LK(e){return e[0]}function zK(e){return e[1]}function UK(e,t){var n=At(!0),r=null,g=qA,a=null,i=jB(l);e=typeof e=="function"?e:e===void 0?LK:At(e),t=typeof t=="function"?t:t===void 0?zK:At(t);function l(s){var c,C=(s=_B(s)).length,d,A=!1,f;for(r==null&&(a=g(f=i())),c=0;c<=C;++c)!(c<C&&n(d=s[c],c,s))===A&&((A=!A)?a.lineStart():a.lineEnd()),A&&a.point(+e(d,c,s),+t(d,c,s));if(f)return a=null,f+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:At(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:At(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:At(!!s),l):n},l.curve=function(s){return arguments.length?(g=s,r!=null&&(a=g(r)),l):g},l.context=function(s){return arguments.length?(s==null?r=a=null:a=g(r=s),l):r},l}function $u(e,t,n){var r=null,g=At(!0),a=null,i=qA,l=null,s=jB(c);e=typeof e=="function"?e:e===void 0?LK:At(+e),t=typeof t=="function"?t:At(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?zK:At(+n);function c(d){var A,f,b,p=(d=_B(d)).length,h,G=!1,v,S=new Array(p),V=new Array(p);for(a==null&&(l=i(v=s())),A=0;A<=p;++A){if(!(A<p&&g(h=d[A],A,d))===G)if(G=!G)f=A,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=A-1;b>=f;--b)l.point(S[b],V[b]);l.lineEnd(),l.areaEnd()}G&&(S[A]=+e(h,A,d),V[A]=+t(h,A,d),l.point(r?+r(h,A,d):S[A],n?+n(h,A,d):V[A]))}if(v)return l=null,v+""||null}function C(){return UK().defined(g).curve(i).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:At(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:At(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:At(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:At(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:At(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:At(+d),c):n},c.lineX0=c.lineY0=function(){return C().x(e).y(t)},c.lineY1=function(){return C().x(e).y(n)},c.lineX1=function(){return C().x(r).y(t)},c.defined=function(d){return arguments.length?(g=typeof d=="function"?d:At(!!d),c):g},c.curve=function(d){return arguments.length?(i=d,a!=null&&(l=i(a)),c):i},c.context=function(d){return arguments.length?(d==null?a=l=null:l=i(a=d),c):a},c}class PK{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function a6(e){return new PK(e,!0)}function i6(e){return new PK(e,!1)}const qB={draw(e,t){const n=jr(t/ld);e.moveTo(n,0),e.arc(0,0,n,0,_A)}},o6={draw(e,t){const n=jr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},QK=jr(1/3),l6=QK*2,I6={draw(e,t){const n=jr(t/l6),r=n*QK;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},s6={draw(e,t){const n=jr(t),r=-n/2;e.rect(r,r,n,n)}},c6=.8908130915292852,OK=od(ld/10)/od(7*ld/10),u6=od(_A/10)*OK,C6=-MK(_A/10)*OK,d6={draw(e,t){const n=jr(t*c6),r=u6*n,g=C6*n;e.moveTo(0,-n),e.lineTo(r,g);for(let a=1;a<5;++a){const i=_A*a/5,l=MK(i),s=od(i);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*g,s*r+l*g)}e.closePath()}},ib=jr(3),A6={draw(e,t){const n=-jr(t/(ib*3));e.moveTo(0,n*2),e.lineTo(-ib*n,-n),e.lineTo(ib*n,-n),e.closePath()}},mr=-.5,fr=jr(3)/2,SZ=1/jr(12),m6=(SZ/2+1)*3,f6={draw(e,t){const n=jr(t/m6),r=n/2,g=n*SZ,a=r,i=n*SZ+n,l=-a,s=i;e.moveTo(r,g),e.lineTo(a,i),e.lineTo(l,s),e.lineTo(mr*r-fr*g,fr*r+mr*g),e.lineTo(mr*a-fr*i,fr*a+mr*i),e.lineTo(mr*l-fr*s,fr*l+mr*s),e.lineTo(mr*r+fr*g,mr*g-fr*r),e.lineTo(mr*a+fr*i,mr*i-fr*a),e.lineTo(mr*l+fr*s,mr*s-fr*l),e.closePath()}};function p6(e,t){let n=null,r=jB(g);e=typeof e=="function"?e:At(e||qB),t=typeof t=="function"?t:At(t===void 0?64:+t);function g(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return g.type=function(a){return arguments.length?(e=typeof a=="function"?a:At(a),g):e},g.size=function(a){return arguments.length?(t=typeof a=="function"?a:At(+a),g):t},g.context=function(a){return arguments.length?(n=a??null,g):n},g}function Id(){}function sd(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function jK(e){this._context=e}jK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function h6(e){return new jK(e)}function _K(e){this._context=e}_K.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function b6(e){return new _K(e)}function qK(e){this._context=e}qK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function y6(e){return new qK(e)}function $K(e){this._context=e}$K.prototype={areaStart:Id,areaEnd:Id,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Z6(e){return new $K(e)}function a2(e){return e<0?-1:1}function i2(e,t,n){var r=e._x1-e._x0,g=t-e._x1,a=(e._y1-e._y0)/(r||g<0&&-0),i=(n-e._y1)/(g||r<0&&-0),l=(a*g+i*r)/(r+g);return(a2(a)+a2(i))*Math.min(Math.abs(a),Math.abs(i),.5*Math.abs(l))||0}function o2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function ob(e,t,n){var r=e._x0,g=e._y0,a=e._x1,i=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,g+l*t,a-l,i-l*n,a,i)}function cd(e){this._context=e}cd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ob(this,this._t0,o2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ob(this,o2(this,n=i2(this,e,t)),n);break;default:ob(this,this._t0,n=i2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ex(e){this._context=new tx(e)}(ex.prototype=Object.create(cd.prototype)).point=function(e,t){cd.prototype.point.call(this,t,e)};function tx(e){this._context=e}tx.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,g,a){this._context.bezierCurveTo(t,e,r,n,a,g)}};function G6(e){return new cd(e)}function B6(e){return new ex(e)}function nx(e){this._context=e}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=l2(e),g=l2(t),a=0,i=1;i<n;++a,++i)this._context.bezierCurveTo(r[0][a],g[0][a],r[1][a],g[1][a],e[i],t[i]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function l2(e){var t,n=e.length-1,r,g=new Array(n),a=new Array(n),i=new Array(n);for(g[0]=0,a[0]=2,i[0]=e[0]+2*e[1],t=1;t<n-1;++t)g[t]=1,a[t]=4,i[t]=4*e[t]+2*e[t+1];for(g[n-1]=2,a[n-1]=7,i[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=g[t]/a[t-1],a[t]-=r,i[t]-=r*i[t-1];for(g[n-1]=i[n-1]/a[n-1],t=n-2;t>=0;--t)g[t]=(i[t]-g[t+1])/a[t];for(a[n-1]=(e[n]+g[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-g[t+1];return[g,a]}function v6(e){return new nx(e)}function $A(e,t){this._context=e,this._t=t}$A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function S6(e){return new $A(e,.5)}function W6(e){return new $A(e,0)}function V6(e){return new $A(e,1)}function il(e,t){if((i=e.length)>1)for(var n=1,r,g,a=e[t[0]],i,l=a.length;n<i;++n)for(g=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(g[r][1])?g[r][0]:g[r][1]}function WZ(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function w6(e,t){return e[t]}function R6(e){const t=[];return t.key=e,t}function k6(){var e=At([]),t=WZ,n=il,r=w6;function g(a){var i=Array.from(e.apply(this,arguments),R6),l,s=i.length,c=-1,C;for(const d of a)for(l=0,++c;l<s;++l)(i[l][c]=[0,+r(d,i[l].key,c,a)]).data=d;for(l=0,C=_B(t(i));l<s;++l)i[C[l]].index=l;return n(i,C),i}return g.keys=function(a){return arguments.length?(e=typeof a=="function"?a:At(Array.from(a)),g):e},g.value=function(a){return arguments.length?(r=typeof a=="function"?a:At(+a),g):r},g.order=function(a){return arguments.length?(t=a==null?WZ:typeof a=="function"?a:At(Array.from(a)),g):t},g.offset=function(a){return arguments.length?(n=a??il,g):n},g}function X6(e,t){if((r=e.length)>0){for(var n,r,g=0,a=e[0].length,i;g<a;++g){for(i=n=0;n<r;++n)i+=e[n][g][1]||0;if(i)for(n=0;n<r;++n)e[n][g][1]/=i}il(e,t)}}function J6(e,t){if((g=e.length)>0){for(var n=0,r=e[t[0]],g,a=r.length;n<a;++n){for(var i=0,l=0;i<g;++i)l+=e[i][n][1]||0;r[n][1]+=r[n][0]=-l/2}il(e,t)}}function Y6(e,t){if(!(!((i=e.length)>0)||!((a=(g=e[t[0]]).length)>0))){for(var n=0,r=1,g,a,i;r<a;++r){for(var l=0,s=0,c=0;l<i;++l){for(var C=e[t[l]],d=C[r][1]||0,A=C[r-1][1]||0,f=(d-A)/2,b=0;b<l;++b){var p=e[t[b]],h=p[r][1]||0,G=p[r-1][1]||0;f+=h-G}s+=d,c+=f*d}g[r-1][1]+=g[r-1][0]=n,s&&(n-=c/s)}g[r-1][1]+=g[r-1][0]=n,il(e,t)}}function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}var H6=["type","size","sizeType"];function VZ(){return VZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VZ.apply(this,arguments)}function I2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function s2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I2(Object(n),!0).forEach(function(r){N6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N6(e,t,n){return t=F6(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F6(e){var t=K6(e,"string");return ys(t)=="symbol"?t:t+""}function K6(e,t){if(ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x6(e,t){if(e==null)return{};var n=E6(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function E6(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var rx={symbolCircle:qB,symbolCross:o6,symbolDiamond:I6,symbolSquare:s6,symbolStar:d6,symbolTriangle:A6,symbolWye:f6},M6=Math.PI/180,D6=function(t){var n="symbol".concat(jA(t));return rx[n]||qB},T6=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var g=18*M6;return 1.25*t*t*(Math.tan(g)-Math.tan(g*2)*Math.pow(Math.tan(g),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},L6=function(t,n){rx["symbol".concat(jA(t))]=n},$B=function(t){var n=t.type,r=n===void 0?"circle":n,g=t.size,a=g===void 0?64:g,i=t.sizeType,l=i===void 0?"area":i,s=x6(t,H6),c=s2(s2({},s),{},{type:r,size:a,sizeType:l}),C=function(){var h=D6(r),G=p6().type(h).size(T6(a,l,r));return G()},d=c.className,A=c.cx,f=c.cy,b=xe(c,!0);return A===+A&&f===+f&&a===+a?H.createElement("path",VZ({},b,{className:Ve("recharts-symbols",d),transform:"translate(".concat(A,", ").concat(f,")"),d:C()})):null};$B.registerSymbol=L6;function ol(e){"@babel/helpers - typeof";return ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ol(e)}function wZ(){return wZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wZ.apply(this,arguments)}function c2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function z6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c2(Object(n),!0).forEach(function(r){Zs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ax(r.key),r)}}function Q6(e,t,n){return P6(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O6(e,t,n){return t=ud(t),j6(e,gx()?Reflect.construct(t,n||[],ud(e).constructor):t.apply(e,n))}function j6(e,t){if(t&&(ol(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _6(e)}function _6(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gx=function(){return!!e})()}function ud(e){return ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ud(e)}function q6(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RZ(e,t)}function RZ(e,t){return RZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},RZ(e,t)}function Zs(e,t,n){return t=ax(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ax(e){var t=$6(e,"string");return ol(t)=="symbol"?t:t+""}function $6(e,t){if(ol(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kr=32,ev=function(e){function t(){return U6(this,t),O6(this,t,arguments)}return q6(t,e),Q6(t,[{key:"renderIcon",value:function(r){var g=this.props.inactiveColor,a=Kr/2,i=Kr/6,l=Kr/3,s=r.inactive?g:r.color;if(r.type==="plainline")return H.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Kr,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return H.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Kr,"M").concat(2*l,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return H.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Kr/8,"h").concat(Kr,"v").concat(Kr*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(H.isValidElement(r.legendIcon)){var c=z6({},r);return delete c.legendIcon,H.cloneElement(r.legendIcon,c)}return H.createElement($B,{fill:s,cx:a,cy:a,size:Kr,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,g=this.props,a=g.payload,i=g.iconSize,l=g.layout,s=g.formatter,c=g.inactiveColor,C={x:0,y:0,width:Kr,height:Kr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},A={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(f,b){var p=f.formatter||s,h=Ve(Zs(Zs({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",f.inactive));if(f.type==="none")return null;var G=Ye(f.value)?null:f.value;$g(!Ye(f.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=f.inactive?c:f.color;return H.createElement("li",wZ({className:h,style:d,key:"legend-item-".concat(b)},id(r.props,f,b)),H.createElement(ZZ,{width:i,height:i,viewBox:C,style:A},r.renderIcon(f)),H.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(G,f,b):G))})}},{key:"render",value:function(){var r=this.props,g=r.payload,a=r.layout,i=r.align;if(!g||!g.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?i:"left"};return H.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(J.PureComponent);Zs(ev,"displayName","Legend");Zs(ev,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var lb,u2;function eee(){if(u2)return lb;u2=1;var e=PA();function t(){this.__data__=new e,this.size=0}return lb=t,lb}var Ib,C2;function tee(){if(C2)return Ib;C2=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return Ib=e,Ib}var sb,d2;function nee(){if(d2)return sb;d2=1;function e(t){return this.__data__.get(t)}return sb=e,sb}var cb,A2;function ree(){if(A2)return cb;A2=1;function e(t){return this.__data__.has(t)}return cb=e,cb}var ub,m2;function gee(){if(m2)return ub;m2=1;var e=PA(),t=LB(),n=zB(),r=200;function g(a,i){var l=this.__data__;if(l instanceof e){var s=l.__data__;if(!t||s.length<r-1)return s.push([a,i]),this.size=++l.size,this;l=this.__data__=new n(s)}return l.set(a,i),this.size=l.size,this}return ub=g,ub}var Cb,f2;function ix(){if(f2)return Cb;f2=1;var e=PA(),t=eee(),n=tee(),r=nee(),g=ree(),a=gee();function i(l){var s=this.__data__=new e(l);this.size=s.size}return i.prototype.clear=t,i.prototype.delete=n,i.prototype.get=r,i.prototype.has=g,i.prototype.set=a,Cb=i,Cb}var db,p2;function aee(){if(p2)return db;p2=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return db=t,db}var Ab,h2;function iee(){if(h2)return Ab;h2=1;function e(t){return this.__data__.has(t)}return Ab=e,Ab}var mb,b2;function ox(){if(b2)return mb;b2=1;var e=zB(),t=aee(),n=iee();function r(g){var a=-1,i=g==null?0:g.length;for(this.__data__=new e;++a<i;)this.add(g[a])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,mb=r,mb}var fb,y2;function lx(){if(y2)return fb;y2=1;function e(t,n){for(var r=-1,g=t==null?0:t.length;++r<g;)if(n(t[r],r,t))return!0;return!1}return fb=e,fb}var pb,Z2;function Ix(){if(Z2)return pb;Z2=1;function e(t,n){return t.has(n)}return pb=e,pb}var hb,G2;function sx(){if(G2)return hb;G2=1;var e=ox(),t=lx(),n=Ix(),r=1,g=2;function a(i,l,s,c,C,d){var A=s&r,f=i.length,b=l.length;if(f!=b&&!(A&&b>f))return!1;var p=d.get(i),h=d.get(l);if(p&&h)return p==l&&h==i;var G=-1,v=!0,S=s&g?new e:void 0;for(d.set(i,l),d.set(l,i);++G<f;){var V=i[G],Z=l[G];if(c)var W=A?c(Z,V,G,l,i,d):c(V,Z,G,i,l,d);if(W!==void 0){if(W)continue;v=!1;break}if(S){if(!t(l,function(w,X){if(!n(S,X)&&(V===w||C(V,w,s,c,d)))return S.push(X)})){v=!1;break}}else if(!(V===Z||C(V,Z,s,c,d))){v=!1;break}}return d.delete(i),d.delete(l),v}return hb=a,hb}var bb,B2;function oee(){if(B2)return bb;B2=1;var e=wg(),t=e.Uint8Array;return bb=t,bb}var yb,v2;function lee(){if(v2)return yb;v2=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(g,a){r[++n]=[a,g]}),r}return yb=e,yb}var Zb,S2;function tv(){if(S2)return Zb;S2=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(g){r[++n]=g}),r}return Zb=e,Zb}var Gb,W2;function Iee(){if(W2)return Gb;W2=1;var e=bc(),t=oee(),n=TB(),r=sx(),g=lee(),a=tv(),i=1,l=2,s="[object Boolean]",c="[object Date]",C="[object Error]",d="[object Map]",A="[object Number]",f="[object RegExp]",b="[object Set]",p="[object String]",h="[object Symbol]",G="[object ArrayBuffer]",v="[object DataView]",S=e?e.prototype:void 0,V=S?S.valueOf:void 0;function Z(W,w,X,N,R,Y,K){switch(X){case v:if(W.byteLength!=w.byteLength||W.byteOffset!=w.byteOffset)return!1;W=W.buffer,w=w.buffer;case G:return!(W.byteLength!=w.byteLength||!Y(new t(W),new t(w)));case s:case c:case A:return n(+W,+w);case C:return W.name==w.name&&W.message==w.message;case f:case p:return W==w+"";case d:var E=g;case b:var L=N&i;if(E||(E=a),W.size!=w.size&&!L)return!1;var z=K.get(W);if(z)return z==w;N|=l,K.set(W,w);var U=r(E(W),E(w),N,R,Y,K);return K.delete(W),U;case h:if(V)return V.call(W)==V.call(w)}return!1}return Gb=Z,Gb}var Bb,V2;function cx(){if(V2)return Bb;V2=1;function e(t,n){for(var r=-1,g=n.length,a=t.length;++r<g;)t[a+r]=n[r];return t}return Bb=e,Bb}var vb,w2;function see(){if(w2)return vb;w2=1;var e=cx(),t=Ln();function n(r,g,a){var i=g(r);return t(r)?i:e(i,a(r))}return vb=n,vb}var Sb,R2;function cee(){if(R2)return Sb;R2=1;function e(t,n){for(var r=-1,g=t==null?0:t.length,a=0,i=[];++r<g;){var l=t[r];n(l,r,t)&&(i[a++]=l)}return i}return Sb=e,Sb}var Wb,k2;function uee(){if(k2)return Wb;k2=1;function e(){return[]}return Wb=e,Wb}var Vb,X2;function Cee(){if(X2)return Vb;X2=1;var e=cee(),t=uee(),n=Object.prototype,r=n.propertyIsEnumerable,g=Object.getOwnPropertySymbols,a=g?function(i){return i==null?[]:(i=Object(i),e(g(i),function(l){return r.call(i,l)}))}:t;return Vb=a,Vb}var wb,J2;function dee(){if(J2)return wb;J2=1;function e(t,n){for(var r=-1,g=Array(t);++r<t;)g[r]=n(r);return g}return wb=e,wb}var Rb,Y2;function Aee(){if(Y2)return Rb;Y2=1;var e=la(),t=Ia(),n="[object Arguments]";function r(g){return t(g)&&e(g)==n}return Rb=r,Rb}var kb,H2;function nv(){if(H2)return kb;H2=1;var e=Aee(),t=Ia(),n=Object.prototype,r=n.hasOwnProperty,g=n.propertyIsEnumerable,a=e(function(){return arguments}())?e:function(i){return t(i)&&r.call(i,"callee")&&!g.call(i,"callee")};return kb=a,kb}var ts={exports:{}},Xb,N2;function mee(){if(N2)return Xb;N2=1;function e(){return!1}return Xb=e,Xb}ts.exports;var F2;function ux(){return F2||(F2=1,function(e,t){var n=wg(),r=mee(),g=t&&!t.nodeType&&t,a=g&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===g,l=i?n.Buffer:void 0,s=l?l.isBuffer:void 0,c=s||r;e.exports=c}(ts,ts.exports)),ts.exports}var Jb,K2;function rv(){if(K2)return Jb;K2=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,g){var a=typeof r;return g=g??e,!!g&&(a=="number"||a!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<g}return Jb=n,Jb}var Yb,x2;function gv(){if(x2)return Yb;x2=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return Yb=t,Yb}var Hb,E2;function fee(){if(E2)return Hb;E2=1;var e=la(),t=gv(),n=Ia(),r="[object Arguments]",g="[object Array]",a="[object Boolean]",i="[object Date]",l="[object Error]",s="[object Function]",c="[object Map]",C="[object Number]",d="[object Object]",A="[object RegExp]",f="[object Set]",b="[object String]",p="[object WeakMap]",h="[object ArrayBuffer]",G="[object DataView]",v="[object Float32Array]",S="[object Float64Array]",V="[object Int8Array]",Z="[object Int16Array]",W="[object Int32Array]",w="[object Uint8Array]",X="[object Uint8ClampedArray]",N="[object Uint16Array]",R="[object Uint32Array]",Y={};Y[v]=Y[S]=Y[V]=Y[Z]=Y[W]=Y[w]=Y[X]=Y[N]=Y[R]=!0,Y[r]=Y[g]=Y[h]=Y[a]=Y[G]=Y[i]=Y[l]=Y[s]=Y[c]=Y[C]=Y[d]=Y[A]=Y[f]=Y[b]=Y[p]=!1;function K(E){return n(E)&&t(E.length)&&!!Y[e(E)]}return Hb=K,Hb}var Nb,M2;function Cx(){if(M2)return Nb;M2=1;function e(t){return function(n){return t(n)}}return Nb=e,Nb}var ns={exports:{}};ns.exports;var D2;function pee(){return D2||(D2=1,function(e,t){var n=JK(),r=t&&!t.nodeType&&t,g=r&&!0&&e&&!e.nodeType&&e,a=g&&g.exports===r,i=a&&n.process,l=function(){try{var s=g&&g.require&&g.require("util").types;return s||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l}(ns,ns.exports)),ns.exports}var Fb,T2;function dx(){if(T2)return Fb;T2=1;var e=fee(),t=Cx(),n=pee(),r=n&&n.isTypedArray,g=r?t(r):e;return Fb=g,Fb}var Kb,L2;function hee(){if(L2)return Kb;L2=1;var e=dee(),t=nv(),n=Ln(),r=ux(),g=rv(),a=dx(),i=Object.prototype,l=i.hasOwnProperty;function s(c,C){var d=n(c),A=!d&&t(c),f=!d&&!A&&r(c),b=!d&&!A&&!f&&a(c),p=d||A||f||b,h=p?e(c.length,String):[],G=h.length;for(var v in c)(C||l.call(c,v))&&!(p&&(v=="length"||f&&(v=="offset"||v=="parent")||b&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||g(v,G)))&&h.push(v);return h}return Kb=s,Kb}var xb,z2;function bee(){if(z2)return xb;z2=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,g=typeof r=="function"&&r.prototype||e;return n===g}return xb=t,xb}var Eb,U2;function Ax(){if(U2)return Eb;U2=1;function e(t,n){return function(r){return t(n(r))}}return Eb=e,Eb}var Mb,P2;function yee(){if(P2)return Mb;P2=1;var e=Ax(),t=e(Object.keys,Object);return Mb=t,Mb}var Db,Q2;function Zee(){if(Q2)return Db;Q2=1;var e=bee(),t=yee(),n=Object.prototype,r=n.hasOwnProperty;function g(a){if(!e(a))return t(a);var i=[];for(var l in Object(a))r.call(a,l)&&l!="constructor"&&i.push(l);return i}return Db=g,Db}var Tb,O2;function Bc(){if(O2)return Tb;O2=1;var e=DB(),t=gv();function n(r){return r!=null&&t(r.length)&&!e(r)}return Tb=n,Tb}var Lb,j2;function em(){if(j2)return Lb;j2=1;var e=hee(),t=Zee(),n=Bc();function r(g){return n(g)?e(g):t(g)}return Lb=r,Lb}var zb,_2;function Gee(){if(_2)return zb;_2=1;var e=see(),t=Cee(),n=em();function r(g){return e(g,n,t)}return zb=r,zb}var Ub,q2;function Bee(){if(q2)return Ub;q2=1;var e=Gee(),t=1,n=Object.prototype,r=n.hasOwnProperty;function g(a,i,l,s,c,C){var d=l&t,A=e(a),f=A.length,b=e(i),p=b.length;if(f!=p&&!d)return!1;for(var h=f;h--;){var G=A[h];if(!(d?G in i:r.call(i,G)))return!1}var v=C.get(a),S=C.get(i);if(v&&S)return v==i&&S==a;var V=!0;C.set(a,i),C.set(i,a);for(var Z=d;++h<f;){G=A[h];var W=a[G],w=i[G];if(s)var X=d?s(w,W,G,i,a,C):s(W,w,G,a,i,C);if(!(X===void 0?W===w||c(W,w,l,s,C):X)){V=!1;break}Z||(Z=G=="constructor")}if(V&&!Z){var N=a.constructor,R=i.constructor;N!=R&&"constructor"in a&&"constructor"in i&&!(typeof N=="function"&&N instanceof N&&typeof R=="function"&&R instanceof R)&&(V=!1)}return C.delete(a),C.delete(i),V}return Ub=g,Ub}var Pb,$2;function vee(){if($2)return Pb;$2=1;var e=Ui(),t=wg(),n=e(t,"DataView");return Pb=n,Pb}var Qb,eX;function See(){if(eX)return Qb;eX=1;var e=Ui(),t=wg(),n=e(t,"Promise");return Qb=n,Qb}var Ob,tX;function mx(){if(tX)return Ob;tX=1;var e=Ui(),t=wg(),n=e(t,"Set");return Ob=n,Ob}var jb,nX;function Wee(){if(nX)return jb;nX=1;var e=Ui(),t=wg(),n=e(t,"WeakMap");return jb=n,jb}var _b,rX;function Vee(){if(rX)return _b;rX=1;var e=vee(),t=LB(),n=See(),r=mx(),g=Wee(),a=la(),i=YK(),l="[object Map]",s="[object Object]",c="[object Promise]",C="[object Set]",d="[object WeakMap]",A="[object DataView]",f=i(e),b=i(t),p=i(n),h=i(r),G=i(g),v=a;return(e&&v(new e(new ArrayBuffer(1)))!=A||t&&v(new t)!=l||n&&v(n.resolve())!=c||r&&v(new r)!=C||g&&v(new g)!=d)&&(v=function(S){var V=a(S),Z=V==s?S.constructor:void 0,W=Z?i(Z):"";if(W)switch(W){case f:return A;case b:return l;case p:return c;case h:return C;case G:return d}return V}),_b=v,_b}var qb,gX;function wee(){if(gX)return qb;gX=1;var e=ix(),t=sx(),n=Iee(),r=Bee(),g=Vee(),a=Ln(),i=ux(),l=dx(),s=1,c="[object Arguments]",C="[object Array]",d="[object Object]",A=Object.prototype,f=A.hasOwnProperty;function b(p,h,G,v,S,V){var Z=a(p),W=a(h),w=Z?C:g(p),X=W?C:g(h);w=w==c?d:w,X=X==c?d:X;var N=w==d,R=X==d,Y=w==X;if(Y&&i(p)){if(!i(h))return!1;Z=!0,N=!1}if(Y&&!N)return V||(V=new e),Z||l(p)?t(p,h,G,v,S,V):n(p,h,w,G,v,S,V);if(!(G&s)){var K=N&&f.call(p,"__wrapped__"),E=R&&f.call(h,"__wrapped__");if(K||E){var L=K?p.value():p,z=E?h.value():h;return V||(V=new e),S(L,z,G,v,V)}}return Y?(V||(V=new e),r(p,h,G,v,S,V)):!1}return qb=b,qb}var $b,aX;function av(){if(aX)return $b;aX=1;var e=wee(),t=Ia();function n(r,g,a,i,l){return r===g?!0:r==null||g==null||!t(r)&&!t(g)?r!==r&&g!==g:e(r,g,a,i,n,l)}return $b=n,$b}var ey,iX;function Ree(){if(iX)return ey;iX=1;var e=ix(),t=av(),n=1,r=2;function g(a,i,l,s){var c=l.length,C=c,d=!s;if(a==null)return!C;for(a=Object(a);c--;){var A=l[c];if(d&&A[2]?A[1]!==a[A[0]]:!(A[0]in a))return!1}for(;++c<C;){A=l[c];var f=A[0],b=a[f],p=A[1];if(d&&A[2]){if(b===void 0&&!(f in a))return!1}else{var h=new e;if(s)var G=s(b,p,f,a,i,h);if(!(G===void 0?t(p,b,n|r,s,h):G))return!1}}return!0}return ey=g,ey}var ty,oX;function fx(){if(oX)return ty;oX=1;var e=Oa();function t(n){return n===n&&!e(n)}return ty=t,ty}var ny,lX;function kee(){if(lX)return ny;lX=1;var e=fx(),t=em();function n(r){for(var g=t(r),a=g.length;a--;){var i=g[a],l=r[i];g[a]=[i,l,e(l)]}return g}return ny=n,ny}var ry,IX;function px(){if(IX)return ry;IX=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return ry=e,ry}var gy,sX;function Xee(){if(sX)return gy;sX=1;var e=Ree(),t=kee(),n=px();function r(g){var a=t(g);return a.length==1&&a[0][2]?n(a[0][0],a[0][1]):function(i){return i===g||e(i,g,a)}}return gy=r,gy}var ay,cX;function Jee(){if(cX)return ay;cX=1;function e(t,n){return t!=null&&n in Object(t)}return ay=e,ay}var iy,uX;function Yee(){if(uX)return iy;uX=1;var e=FK(),t=nv(),n=Ln(),r=rv(),g=gv(),a=OA();function i(l,s,c){s=e(s,l);for(var C=-1,d=s.length,A=!1;++C<d;){var f=a(s[C]);if(!(A=l!=null&&c(l,f)))break;l=l[f]}return A||++C!=d?A:(d=l==null?0:l.length,!!d&&g(d)&&r(f,d)&&(n(l)||t(l)))}return iy=i,iy}var oy,CX;function Hee(){if(CX)return oy;CX=1;var e=Jee(),t=Yee();function n(r,g){return r!=null&&t(r,g,e)}return oy=n,oy}var ly,dX;function Nee(){if(dX)return ly;dX=1;var e=av(),t=KK(),n=Hee(),r=MB(),g=fx(),a=px(),i=OA(),l=1,s=2;function c(C,d){return r(C)&&g(d)?a(i(C),d):function(A){var f=t(A,C);return f===void 0&&f===d?n(A,C):e(d,f,l|s)}}return ly=c,ly}var Iy,AX;function Ml(){if(AX)return Iy;AX=1;function e(t){return t}return Iy=e,Iy}var sy,mX;function Fee(){if(mX)return sy;mX=1;function e(t){return function(n){return n==null?void 0:n[t]}}return sy=e,sy}var cy,fX;function Kee(){if(fX)return cy;fX=1;var e=PB();function t(n){return function(r){return e(r,n)}}return cy=t,cy}var uy,pX;function xee(){if(pX)return uy;pX=1;var e=Fee(),t=Kee(),n=MB(),r=OA();function g(a){return n(a)?e(r(a)):t(a)}return uy=g,uy}var Cy,hX;function ja(){if(hX)return Cy;hX=1;var e=Xee(),t=Nee(),n=Ml(),r=Ln(),g=xee();function a(i){return typeof i=="function"?i:i==null?n:typeof i=="object"?r(i)?t(i[0],i[1]):e(i):g(i)}return Cy=a,Cy}var dy,bX;function hx(){if(bX)return dy;bX=1;function e(t,n,r,g){for(var a=t.length,i=r+(g?1:-1);g?i--:++i<a;)if(n(t[i],i,t))return i;return-1}return dy=e,dy}var Ay,yX;function Eee(){if(yX)return Ay;yX=1;function e(t){return t!==t}return Ay=e,Ay}var my,ZX;function Mee(){if(ZX)return my;ZX=1;function e(t,n,r){for(var g=r-1,a=t.length;++g<a;)if(t[g]===n)return g;return-1}return my=e,my}var fy,GX;function Dee(){if(GX)return fy;GX=1;var e=hx(),t=Eee(),n=Mee();function r(g,a,i){return a===a?n(g,a,i):e(g,t,i)}return fy=r,fy}var py,BX;function Tee(){if(BX)return py;BX=1;var e=Dee();function t(n,r){var g=n==null?0:n.length;return!!g&&e(n,r,0)>-1}return py=t,py}var hy,vX;function Lee(){if(vX)return hy;vX=1;function e(t,n,r){for(var g=-1,a=t==null?0:t.length;++g<a;)if(r(n,t[g]))return!0;return!1}return hy=e,hy}var by,SX;function zee(){if(SX)return by;SX=1;function e(){}return by=e,by}var yy,WX;function Uee(){if(WX)return yy;WX=1;var e=mx(),t=zee(),n=tv(),r=1/0,g=e&&1/n(new e([,-0]))[1]==r?function(a){return new e(a)}:t;return yy=g,yy}var Zy,VX;function Pee(){if(VX)return Zy;VX=1;var e=ox(),t=Tee(),n=Lee(),r=Ix(),g=Uee(),a=tv(),i=200;function l(s,c,C){var d=-1,A=t,f=s.length,b=!0,p=[],h=p;if(C)b=!1,A=n;else if(f>=i){var G=c?null:g(s);if(G)return a(G);b=!1,A=r,h=new e}else h=c?[]:p;e:for(;++d<f;){var v=s[d],S=c?c(v):v;if(v=C||v!==0?v:0,b&&S===S){for(var V=h.length;V--;)if(h[V]===S)continue e;c&&h.push(S),p.push(v)}else A(h,S,C)||(h!==p&&h.push(S),p.push(v))}return p}return Zy=l,Zy}var Gy,wX;function Qee(){if(wX)return Gy;wX=1;var e=ja(),t=Pee();function n(r,g){return r&&r.length?t(r,e(g,2)):[]}return Gy=n,Gy}var Oee=Qee();const RX=lt(Oee);function bx(e,t,n){return t===!0?RX(e,n):Ye(t)?RX(e,t):e}function ll(e){"@babel/helpers - typeof";return ll=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ll(e)}var jee=["ref"];function kX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kX(Object(n),!0).forEach(function(r){tm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XX(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zx(r.key),r)}}function qee(e,t,n){return XX(e.prototype,t),XX(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ee(e,t,n){return t=Cd(t),ete(e,yx()?Reflect.construct(t,n,Cd(e).constructor):t.apply(e,n))}function ete(e,t){if(t&&(ll(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tte(e)}function tte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yx=function(){return!!e})()}function Cd(e){return Cd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cd(e)}function nte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kZ(e,t)}function kZ(e,t){return kZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},kZ(e,t)}function tm(e,t,n){return t=Zx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zx(e){var t=rte(e,"string");return ll(t)=="symbol"?t:t+""}function rte(e,t){if(ll(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ll(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gte(e,t){if(e==null)return{};var n=ate(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ate(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ite(e){return e.value}function ote(e,t){if(H.isValidElement(e))return H.cloneElement(e,t);if(typeof e=="function")return H.createElement(e,t);t.ref;var n=gte(t,jee);return H.createElement(ev,n)}var JX=1,zo=function(e){function t(){var n;_ee(this,t);for(var r=arguments.length,g=new Array(r),a=0;a<r;a++)g[a]=arguments[a];return n=$ee(this,t,[].concat(g)),tm(n,"lastBoundingBox",{width:-1,height:-1}),n}return nte(t,e),qee(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,g=this.getBBox();g?(Math.abs(g.width-this.lastBoundingBox.width)>JX||Math.abs(g.height-this.lastBoundingBox.height)>JX)&&(this.lastBoundingBox.width=g.width,this.lastBoundingBox.height=g.height,r&&r(g)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?xg({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var g=this.props,a=g.layout,i=g.align,l=g.verticalAlign,s=g.margin,c=g.chartWidth,C=g.chartHeight,d,A;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(i==="center"&&a==="vertical"){var f=this.getBBoxSnapshot();d={left:((c||0)-f.width)/2}}else d=i==="right"?{right:s&&s.right||0}:{left:s&&s.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();A={top:((C||0)-b.height)/2}}else A=l==="bottom"?{bottom:s&&s.bottom||0}:{top:s&&s.top||0};return xg(xg({},d),A)}},{key:"render",value:function(){var r=this,g=this.props,a=g.content,i=g.width,l=g.height,s=g.wrapperStyle,c=g.payloadUniqBy,C=g.payload,d=xg(xg({position:"absolute",width:i||"auto",height:l||"auto"},this.getDefaultPosition(s)),s);return H.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(f){r.wrapperNode=f}},ote(a,xg(xg({},this.props),{},{payload:bx(C,c,ite)})))}}],[{key:"getWithHeight",value:function(r,g){var a=xg(xg({},this.defaultProps),r.props),i=a.layout;return i==="vertical"&&ce(r.props.height)?{height:r.props.height}:i==="horizontal"?{width:r.props.width||g}:null}}])}(J.PureComponent);tm(zo,"displayName","Legend");tm(zo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var By,YX;function lte(){if(YX)return By;YX=1;var e=bc(),t=nv(),n=Ln(),r=e?e.isConcatSpreadable:void 0;function g(a){return n(a)||t(a)||!!(r&&a&&a[r])}return By=g,By}var vy,HX;function Gx(){if(HX)return vy;HX=1;var e=cx(),t=lte();function n(r,g,a,i,l){var s=-1,c=r.length;for(a||(a=t),l||(l=[]);++s<c;){var C=r[s];g>0&&a(C)?g>1?n(C,g-1,a,i,l):e(l,C):i||(l[l.length]=C)}return l}return vy=n,vy}var Sy,NX;function Ite(){if(NX)return Sy;NX=1;function e(t){return function(n,r,g){for(var a=-1,i=Object(n),l=g(n),s=l.length;s--;){var c=l[t?s:++a];if(r(i[c],c,i)===!1)break}return n}}return Sy=e,Sy}var Wy,FX;function ste(){if(FX)return Wy;FX=1;var e=Ite(),t=e();return Wy=t,Wy}var Vy,KX;function Bx(){if(KX)return Vy;KX=1;var e=ste(),t=em();function n(r,g){return r&&e(r,g,t)}return Vy=n,Vy}var wy,xX;function cte(){if(xX)return wy;xX=1;var e=Bc();function t(n,r){return function(g,a){if(g==null)return g;if(!e(g))return n(g,a);for(var i=g.length,l=r?i:-1,s=Object(g);(r?l--:++l<i)&&a(s[l],l,s)!==!1;);return g}}return wy=t,wy}var Ry,EX;function iv(){if(EX)return Ry;EX=1;var e=Bx(),t=cte(),n=t(e);return Ry=n,Ry}var ky,MX;function vx(){if(MX)return ky;MX=1;var e=iv(),t=Bc();function n(r,g){var a=-1,i=t(r)?Array(r.length):[];return e(r,function(l,s,c){i[++a]=g(l,s,c)}),i}return ky=n,ky}var Xy,DX;function ute(){if(DX)return Xy;DX=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return Xy=e,Xy}var Jy,TX;function Cte(){if(TX)return Jy;TX=1;var e=xl();function t(n,r){if(n!==r){var g=n!==void 0,a=n===null,i=n===n,l=e(n),s=r!==void 0,c=r===null,C=r===r,d=e(r);if(!c&&!d&&!l&&n>r||l&&s&&C&&!c&&!d||a&&s&&C||!g&&C||!i)return 1;if(!a&&!l&&!d&&n<r||d&&g&&i&&!a&&!l||c&&g&&i||!s&&i||!C)return-1}return 0}return Jy=t,Jy}var Yy,LX;function dte(){if(LX)return Yy;LX=1;var e=Cte();function t(n,r,g){for(var a=-1,i=n.criteria,l=r.criteria,s=i.length,c=g.length;++a<s;){var C=e(i[a],l[a]);if(C){if(a>=c)return C;var d=g[a];return C*(d=="desc"?-1:1)}}return n.index-r.index}return Yy=t,Yy}var Hy,zX;function Ate(){if(zX)return Hy;zX=1;var e=UB(),t=PB(),n=ja(),r=vx(),g=ute(),a=Cx(),i=dte(),l=Ml(),s=Ln();function c(C,d,A){d.length?d=e(d,function(p){return s(p)?function(h){return t(h,p.length===1?p[0]:p)}:p}):d=[l];var f=-1;d=e(d,a(n));var b=r(C,function(p,h,G){var v=e(d,function(S){return S(p)});return{criteria:v,index:++f,value:p}});return g(b,function(p,h){return i(p,h,A)})}return Hy=c,Hy}var Ny,UX;function mte(){if(UX)return Ny;UX=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return Ny=e,Ny}var Fy,PX;function fte(){if(PX)return Fy;PX=1;var e=mte(),t=Math.max;function n(r,g,a){return g=t(g===void 0?r.length-1:g,0),function(){for(var i=arguments,l=-1,s=t(i.length-g,0),c=Array(s);++l<s;)c[l]=i[g+l];l=-1;for(var C=Array(g+1);++l<g;)C[l]=i[l];return C[g]=a(c),e(r,this,C)}}return Fy=n,Fy}var Ky,QX;function pte(){if(QX)return Ky;QX=1;function e(t){return function(){return t}}return Ky=e,Ky}var xy,OX;function Sx(){if(OX)return xy;OX=1;var e=Ui(),t=function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}}();return xy=t,xy}var Ey,jX;function hte(){if(jX)return Ey;jX=1;var e=pte(),t=Sx(),n=Ml(),r=t?function(g,a){return t(g,"toString",{configurable:!0,enumerable:!1,value:e(a),writable:!0})}:n;return Ey=r,Ey}var My,_X;function bte(){if(_X)return My;_X=1;var e=800,t=16,n=Date.now;function r(g){var a=0,i=0;return function(){var l=n(),s=t-(l-i);if(i=l,s>0){if(++a>=e)return arguments[0]}else a=0;return g.apply(void 0,arguments)}}return My=r,My}var Dy,qX;function yte(){if(qX)return Dy;qX=1;var e=hte(),t=bte(),n=t(e);return Dy=n,Dy}var Ty,$X;function Zte(){if($X)return Ty;$X=1;var e=Ml(),t=fte(),n=yte();function r(g,a){return n(t(g,a,e),g+"")}return Ty=r,Ty}var Ly,eJ;function nm(){if(eJ)return Ly;eJ=1;var e=TB(),t=Bc(),n=rv(),r=Oa();function g(a,i,l){if(!r(l))return!1;var s=typeof i;return(s=="number"?t(l)&&n(i,l.length):s=="string"&&i in l)?e(l[i],a):!1}return Ly=g,Ly}var zy,tJ;function Gte(){if(tJ)return zy;tJ=1;var e=Gx(),t=Ate(),n=Zte(),r=nm(),g=n(function(a,i){if(a==null)return[];var l=i.length;return l>1&&r(a,i[0],i[1])?i=[]:l>2&&r(i[0],i[1],i[2])&&(i=[i[0]]),t(a,e(i,1),[])});return zy=g,zy}var Bte=Gte();const ov=lt(Bte);function Gs(e){"@babel/helpers - typeof";return Gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gs(e)}function XZ(){return XZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XZ.apply(this,arguments)}function vte(e,t){return wte(e)||Vte(e,t)||Wte(e,t)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wte(e,t){if(e){if(typeof e=="string")return nJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nJ(e,t)}}function nJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vte(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function wte(e){if(Array.isArray(e))return e}function rJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function Uy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rJ(Object(n),!0).forEach(function(r){Rte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rte(e,t,n){return t=kte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kte(e){var t=Xte(e,"string");return Gs(t)=="symbol"?t:t+""}function Xte(e,t){if(Gs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jte(e){return Array.isArray(e)&&jt(e[0])&&jt(e[1])?e.join(" ~ "):e}var Yte=function(t){var n=t.separator,r=n===void 0?" : ":n,g=t.contentStyle,a=g===void 0?{}:g,i=t.itemStyle,l=i===void 0?{}:i,s=t.labelStyle,c=s===void 0?{}:s,C=t.payload,d=t.formatter,A=t.itemSorter,f=t.wrapperClassName,b=t.labelClassName,p=t.label,h=t.labelFormatter,G=t.accessibilityLayer,v=G===void 0?!1:G,S=function(){if(C&&C.length){var K={padding:0,margin:0},E=(A?ov(C,A):C).map(function(L,z){if(L.type==="none")return null;var U=Uy({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},l),O=L.formatter||d||Jte,D=L.value,_=L.name,te=D,x=_;if(te!=null&&x!=null){var P=O(D,_,L,z,C);if(Array.isArray(P)){var se=vte(P,2);te=se[0],x=se[1]}else te=P}return H.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:U},jt(x)?H.createElement("span",{className:"recharts-tooltip-item-name"},x):null,jt(x)?H.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,H.createElement("span",{className:"recharts-tooltip-item-value"},te),H.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return H.createElement("ul",{className:"recharts-tooltip-item-list",style:K},E)}return null},V=Uy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),Z=Uy({margin:0},c),W=!Ke(p),w=W?p:"",X=Ve("recharts-default-tooltip",f),N=Ve("recharts-tooltip-label",b);W&&h&&C!==void 0&&C!==null&&(w=h(p,C));var R=v?{role:"status","aria-live":"assertive"}:{};return H.createElement("div",XZ({className:X,style:V},R),H.createElement("p",{className:N,style:Z},H.isValidElement(w)?w:"".concat(w)),S())};function Bs(e){"@babel/helpers - typeof";return Bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}function eC(e,t,n){return t=Hte(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hte(e){var t=Nte(e,"string");return Bs(t)=="symbol"?t:t+""}function Nte(e,t){if(Bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DI="recharts-tooltip-wrapper",Fte={visibility:"hidden"};function Kte(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ve(DI,eC(eC(eC(eC({},"".concat(DI,"-right"),ce(n)&&t&&ce(t.x)&&n>=t.x),"".concat(DI,"-left"),ce(n)&&t&&ce(t.x)&&n<t.x),"".concat(DI,"-bottom"),ce(r)&&t&&ce(t.y)&&r>=t.y),"".concat(DI,"-top"),ce(r)&&t&&ce(t.y)&&r<t.y))}function gJ(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,g=e.offsetTopLeft,a=e.position,i=e.reverseDirection,l=e.tooltipDimension,s=e.viewBox,c=e.viewBoxDimension;if(a&&ce(a[r]))return a[r];var C=n[r]-l-g,d=n[r]+g;if(t[r])return i[r]?C:d;if(i[r]){var A=C,f=s[r];return A<f?Math.max(d,s[r]):Math.max(C,s[r])}var b=d+l,p=s[r]+c;return b>p?Math.max(C,s[r]):Math.max(d,s[r])}function xte(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Ete(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,g=e.position,a=e.reverseDirection,i=e.tooltipBox,l=e.useTranslate3d,s=e.viewBox,c,C,d;return i.height>0&&i.width>0&&n?(C=gJ({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:g,reverseDirection:a,tooltipDimension:i.width,viewBox:s,viewBoxDimension:s.width}),d=gJ({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:g,reverseDirection:a,tooltipDimension:i.height,viewBox:s,viewBoxDimension:s.height}),c=xte({translateX:C,translateY:d,useTranslate3d:l})):c=Fte,{cssProperties:c,cssClasses:Kte({translateX:C,translateY:d,coordinate:n})}}function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function aJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function iJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aJ(Object(n),!0).forEach(function(r){YZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vx(r.key),r)}}function Tte(e,t,n){return Dte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lte(e,t,n){return t=dd(t),zte(e,Wx()?Reflect.construct(t,n,dd(e).constructor):t.apply(e,n))}function zte(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ute(e)}function Ute(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wx=function(){return!!e})()}function dd(e){return dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dd(e)}function Pte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JZ(e,t)}function JZ(e,t){return JZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},JZ(e,t)}function YZ(e,t,n){return t=Vx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vx(e){var t=Qte(e,"string");return Il(t)=="symbol"?t:t+""}function Qte(e,t){if(Il(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oJ=1,Ote=function(e){function t(){var n;Mte(this,t);for(var r=arguments.length,g=new Array(r),a=0;a<r;a++)g[a]=arguments[a];return n=Lte(this,t,[].concat(g)),YZ(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),YZ(n,"handleKeyDown",function(i){if(i.key==="Escape"){var l,s,c,C;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(s=n.props.coordinate)===null||s===void 0?void 0:s.x)!==null&&l!==void 0?l:0,y:(c=(C=n.props.coordinate)===null||C===void 0?void 0:C.y)!==null&&c!==void 0?c:0}})}}),n}return Pte(t,e),Tte(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>oJ||Math.abs(r.height-this.state.lastBoundingBox.height)>oJ)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,g;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((g=this.props.coordinate)===null||g===void 0?void 0:g.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,g=this.props,a=g.active,i=g.allowEscapeViewBox,l=g.animationDuration,s=g.animationEasing,c=g.children,C=g.coordinate,d=g.hasPayload,A=g.isAnimationActive,f=g.offset,b=g.position,p=g.reverseDirection,h=g.useTranslate3d,G=g.viewBox,v=g.wrapperStyle,S=Ete({allowEscapeViewBox:i,coordinate:C,offsetTopLeft:f,position:b,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:h,viewBox:G}),V=S.cssClasses,Z=S.cssProperties,W=iJ(iJ({transition:A&&a?"transform ".concat(l,"ms ").concat(s):void 0},Z),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&d?"visible":"hidden",position:"absolute",top:0,left:0},v);return H.createElement("div",{tabIndex:-1,className:V,style:W,ref:function(X){r.wrapperNode=X}},c)}}])}(J.PureComponent),jte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ea={isSsr:jte(),get:function(t){return ea[t]},set:function(t,n){if(typeof t=="string")ea[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(g){ea[g]=t[g]})}}};function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function lJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function IJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lJ(Object(n),!0).forEach(function(r){lv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qte(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rx(r.key),r)}}function $te(e,t,n){return qte(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ene(e,t,n){return t=Ad(t),tne(e,wx()?Reflect.construct(t,n||[],Ad(e).constructor):t.apply(e,n))}function tne(e,t){if(t&&(sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nne(e)}function nne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wx=function(){return!!e})()}function Ad(e){return Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ad(e)}function rne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HZ(e,t)}function HZ(e,t){return HZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},HZ(e,t)}function lv(e,t,n){return t=Rx(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rx(e){var t=gne(e,"string");return sl(t)=="symbol"?t:t+""}function gne(e,t){if(sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ane(e){return e.dataKey}function ine(e,t){return H.isValidElement(e)?H.cloneElement(e,t):typeof e=="function"?H.createElement(e,t):H.createElement(Yte,t)}var Eg=function(e){function t(){return _te(this,t),ene(this,t,arguments)}return rne(t,e),$te(t,[{key:"render",value:function(){var r=this,g=this.props,a=g.active,i=g.allowEscapeViewBox,l=g.animationDuration,s=g.animationEasing,c=g.content,C=g.coordinate,d=g.filterNull,A=g.isAnimationActive,f=g.offset,b=g.payload,p=g.payloadUniqBy,h=g.position,G=g.reverseDirection,v=g.useTranslate3d,S=g.viewBox,V=g.wrapperStyle,Z=b??[];d&&Z.length&&(Z=bx(b.filter(function(w){return w.value!=null&&(w.hide!==!0||r.props.includeHidden)}),p,ane));var W=Z.length>0;return H.createElement(Ote,{allowEscapeViewBox:i,animationDuration:l,animationEasing:s,isAnimationActive:A,active:a,coordinate:C,hasPayload:W,offset:f,position:h,reverseDirection:G,useTranslate3d:v,viewBox:S,wrapperStyle:V},ine(c,IJ(IJ({},this.props),{},{payload:Z})))}}])}(J.PureComponent);lv(Eg,"displayName","Tooltip");lv(Eg,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ea.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Py,sJ;function one(){if(sJ)return Py;sJ=1;var e=wg(),t=function(){return e.Date.now()};return Py=t,Py}var Qy,cJ;function lne(){if(cJ)return Qy;cJ=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Qy=t,Qy}var Oy,uJ;function Ine(){if(uJ)return Oy;uJ=1;var e=lne(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Oy=n,Oy}var jy,CJ;function kx(){if(CJ)return jy;CJ=1;var e=Ine(),t=Oa(),n=xl(),r=NaN,g=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,i=/^0o[0-7]+$/i,l=parseInt;function s(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var C=typeof c.valueOf=="function"?c.valueOf():c;c=t(C)?C+"":C}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=a.test(c);return d||i.test(c)?l(c.slice(2),d?2:8):g.test(c)?r:+c}return jy=s,jy}var _y,dJ;function sne(){if(dJ)return _y;dJ=1;var e=Oa(),t=one(),n=kx(),r="Expected a function",g=Math.max,a=Math.min;function i(l,s,c){var C,d,A,f,b,p,h=0,G=!1,v=!1,S=!0;if(typeof l!="function")throw new TypeError(r);s=n(s)||0,e(c)&&(G=!!c.leading,v="maxWait"in c,A=v?g(n(c.maxWait)||0,s):A,S="trailing"in c?!!c.trailing:S);function V(E){var L=C,z=d;return C=d=void 0,h=E,f=l.apply(z,L),f}function Z(E){return h=E,b=setTimeout(X,s),G?V(E):f}function W(E){var L=E-p,z=E-h,U=s-L;return v?a(U,A-z):U}function w(E){var L=E-p,z=E-h;return p===void 0||L>=s||L<0||v&&z>=A}function X(){var E=t();if(w(E))return N(E);b=setTimeout(X,W(E))}function N(E){return b=void 0,S&&C?V(E):(C=d=void 0,f)}function R(){b!==void 0&&clearTimeout(b),h=0,C=p=d=b=void 0}function Y(){return b===void 0?f:N(t())}function K(){var E=t(),L=w(E);if(C=arguments,d=this,p=E,L){if(b===void 0)return Z(p);if(v)return clearTimeout(b),b=setTimeout(X,s),V(p)}return b===void 0&&(b=setTimeout(X,s)),f}return K.cancel=R,K.flush=Y,K}return _y=i,_y}var qy,AJ;function cne(){if(AJ)return qy;AJ=1;var e=sne(),t=Oa(),n="Expected a function";function r(g,a,i){var l=!0,s=!0;if(typeof g!="function")throw new TypeError(n);return t(i)&&(l="leading"in i?!!i.leading:l,s="trailing"in i?!!i.trailing:s),e(g,a,{leading:l,maxWait:a,trailing:s})}return qy=r,qy}var une=cne();const Xx=lt(une);function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function mJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function tC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mJ(Object(n),!0).forEach(function(r){Cne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cne(e,t,n){return t=dne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dne(e){var t=Ane(e,"string");return vs(t)=="symbol"?t:t+""}function Ane(e,t){if(vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t){return bne(e)||hne(e,t)||pne(e,t)||fne()}function fne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(e,t){if(e){if(typeof e=="string")return fJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fJ(e,t)}}function fJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function bne(e){if(Array.isArray(e))return e}var $me=J.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,g=r===void 0?{width:-1,height:-1}:r,a=e.width,i=a===void 0?"100%":a,l=e.height,s=l===void 0?"100%":l,c=e.minWidth,C=c===void 0?0:c,d=e.minHeight,A=e.maxHeight,f=e.children,b=e.debounce,p=b===void 0?0:b,h=e.id,G=e.className,v=e.onResize,S=e.style,V=S===void 0?{}:S,Z=J.useRef(null),W=J.useRef();W.current=v,J.useImperativeHandle(t,function(){return Object.defineProperty(Z.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),Z.current},configurable:!0})});var w=J.useState({containerWidth:g.width,containerHeight:g.height}),X=mne(w,2),N=X[0],R=X[1],Y=J.useCallback(function(E,L){R(function(z){var U=Math.round(E),O=Math.round(L);return z.containerWidth===U&&z.containerHeight===O?z:{containerWidth:U,containerHeight:O}})},[]);J.useEffect(function(){var E=function(_){var te,x=_[0].contentRect,P=x.width,se=x.height;Y(P,se),(te=W.current)===null||te===void 0||te.call(W,P,se)};p>0&&(E=Xx(E,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(E),z=Z.current.getBoundingClientRect(),U=z.width,O=z.height;return Y(U,O),L.observe(Z.current),function(){L.disconnect()}},[Y,p]);var K=J.useMemo(function(){var E=N.containerWidth,L=N.containerHeight;if(E<0||L<0)return null;$g(yi(i)||yi(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),$g(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=yi(i)?E:i,U=yi(s)?L:s;n&&n>0&&(z?U=z/n:U&&(z=U*n),A&&U>A&&(U=A)),$g(z>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,U,i,s,C,d,n);var O=!Array.isArray(f)&&qg(f.type).endsWith("Chart");return H.Children.map(f,function(D){return H.isValidElement(D)?J.cloneElement(D,tC({width:z,height:U},O?{style:tC({height:"100%",width:"100%",maxHeight:U,maxWidth:z},D.props.style)}:{})):D})},[n,f,s,A,d,C,N,i]);return H.createElement("div",{id:h?"".concat(h):void 0,className:Ve("recharts-responsive-container",G),style:tC(tC({},V),{},{width:i,height:s,minWidth:C,minHeight:d,maxHeight:A}),ref:Z},K)}),Jx=function(t){return null};Jx.displayName="Cell";function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function pJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function NZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pJ(Object(n),!0).forEach(function(r){yne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pJ(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yne(e,t,n){return t=Zne(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zne(e){var t=Gne(e,"string");return Ss(t)=="symbol"?t:t+""}function Gne(e,t){if(Ss(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wo={widthCache:{},cacheCount:0},Bne=2e3,vne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},hJ="recharts_measurement_span";function Sne(e){var t=NZ({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var is=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ea.isSsr)return{width:0,height:0};var r=Sne(n),g=JSON.stringify({text:t,copyStyle:r});if(wo.widthCache[g])return wo.widthCache[g];try{var a=document.getElementById(hJ);a||(a=document.createElement("span"),a.setAttribute("id",hJ),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var i=NZ(NZ({},vne),r);Object.assign(a.style,i),a.textContent="".concat(t);var l=a.getBoundingClientRect(),s={width:l.width,height:l.height};return wo.widthCache[g]=s,++wo.cacheCount>Bne&&(wo.cacheCount=0,wo.widthCache={}),s}catch{return{width:0,height:0}}},Wne=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function md(e,t){return kne(e)||Rne(e,t)||wne(e,t)||Vne()}function Vne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wne(e,t){if(e){if(typeof e=="string")return bJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bJ(e,t)}}function bJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Rne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function kne(e){if(Array.isArray(e))return e}function Xne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yJ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yne(r.key),r)}}function Jne(e,t,n){return yJ(e.prototype,t),yJ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yne(e){var t=Hne(e,"string");return Ws(t)=="symbol"?t:t+""}function Hne(e,t){if(Ws(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ZJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GJ=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Fne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yx={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Kne=Object.keys(Yx),Ho="NaN";function xne(e,t){return e*Yx[t]}var nC=function(){function e(t,n){Xne(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Nne.test(n)&&(this.num=NaN,this.unit=""),Kne.includes(n)&&(this.num=xne(t,n),this.unit="px")}return Jne(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,g=(r=Fne.exec(n))!==null&&r!==void 0?r:[],a=md(g,3),i=a[1],l=a[2];return new e(parseFloat(i),l??"")}}])}();function Hx(e){if(e.includes(Ho))return Ho;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=ZJ.exec(t))!==null&&n!==void 0?n:[],g=md(r,4),a=g[1],i=g[2],l=g[3],s=nC.parse(a??""),c=nC.parse(l??""),C=i==="*"?s.multiply(c):s.divide(c);if(C.isNaN())return Ho;t=t.replace(ZJ,C.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,A=(d=GJ.exec(t))!==null&&d!==void 0?d:[],f=md(A,4),b=f[1],p=f[2],h=f[3],G=nC.parse(b??""),v=nC.parse(h??""),S=p==="+"?G.add(v):G.subtract(v);if(S.isNaN())return Ho;t=t.replace(GJ,S.toString())}return t}var BJ=/\(([^()]*)\)/;function Ene(e){for(var t=e;t.includes("(");){var n=BJ.exec(t),r=md(n,2),g=r[1];t=t.replace(BJ,Hx(g))}return t}function Mne(e){var t=e.replace(/\s+/g,"");return t=Ene(t),t=Hx(t),t}function Dne(e){try{return Mne(e)}catch{return Ho}}function $y(e){var t=Dne(e.slice(5,-1));return t===Ho?"":t}var Tne=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lne=["dx","dy","angle","className","breakAll"];function FZ(){return FZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FZ.apply(this,arguments)}function vJ(e,t){if(e==null)return{};var n=zne(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zne(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function SJ(e,t){return One(e)||Qne(e,t)||Pne(e,t)||Une()}function Une(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pne(e,t){if(e){if(typeof e=="string")return WJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WJ(e,t)}}function WJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qne(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function One(e){if(Array.isArray(e))return e}var Nx=/[ \f\n\r\t\v\u2028\u2029]+/,Fx=function(t){var n=t.children,r=t.breakAll,g=t.style;try{var a=[];Ke(n)||(r?a=n.toString().split(""):a=n.toString().split(Nx));var i=a.map(function(s){return{word:s,width:is(s,g).width}}),l=r?0:is("",g).width;return{wordsWithComputedWidth:i,spaceWidth:l}}catch{return null}},jne=function(t,n,r,g,a){var i=t.maxLines,l=t.children,s=t.style,c=t.breakAll,C=ce(i),d=l,A=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(U,O){var D=O.word,_=O.width,te=U[U.length-1];if(te&&(g==null||a||te.width+_+r<Number(g)))te.words.push(D),te.width+=_+r;else{var x={words:[D],width:_};U.push(x)}return U},[])},f=A(n),b=function(z){return z.reduce(function(U,O){return U.width>O.width?U:O})};if(!C)return f;for(var p="",h=function(z){var U=d.slice(0,z),O=Fx({breakAll:c,style:s,children:U+p}).wordsWithComputedWidth,D=A(O),_=D.length>i||b(D).width>Number(g);return[_,D]},G=0,v=d.length-1,S=0,V;G<=v&&S<=d.length-1;){var Z=Math.floor((G+v)/2),W=Z-1,w=h(W),X=SJ(w,2),N=X[0],R=X[1],Y=h(Z),K=SJ(Y,1),E=K[0];if(!N&&!E&&(G=Z+1),N&&E&&(v=Z-1),!N&&E){V=R;break}S++}return V||f},VJ=function(t){var n=Ke(t)?[]:t.toString().split(Nx);return[{words:n}]},_ne=function(t){var n=t.width,r=t.scaleToFit,g=t.children,a=t.style,i=t.breakAll,l=t.maxLines;if((n||r)&&!ea.isSsr){var s,c,C=Fx({breakAll:i,children:g,style:a});if(C){var d=C.wordsWithComputedWidth,A=C.spaceWidth;s=d,c=A}else return VJ(g);return jne({breakAll:i,children:g,maxLines:l,style:a},s,c,n,r)}return VJ(g)},wJ="#808080",fd=function(t){var n=t.x,r=n===void 0?0:n,g=t.y,a=g===void 0?0:g,i=t.lineHeight,l=i===void 0?"1em":i,s=t.capHeight,c=s===void 0?"0.71em":s,C=t.scaleToFit,d=C===void 0?!1:C,A=t.textAnchor,f=A===void 0?"start":A,b=t.verticalAnchor,p=b===void 0?"end":b,h=t.fill,G=h===void 0?wJ:h,v=vJ(t,Tne),S=J.useMemo(function(){return _ne({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),V=v.dx,Z=v.dy,W=v.angle,w=v.className,X=v.breakAll,N=vJ(v,Lne);if(!jt(r)||!jt(a))return null;var R=r+(ce(V)?V:0),Y=a+(ce(Z)?Z:0),K;switch(p){case"start":K=$y("calc(".concat(c,")"));break;case"middle":K=$y("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:K=$y("calc(".concat(S.length-1," * -").concat(l,")"));break}var E=[];if(d){var L=S[0].width,z=v.width;E.push("scale(".concat((ce(z)?z/L:1)/L,")"))}return W&&E.push("rotate(".concat(W,", ").concat(R,", ").concat(Y,")")),E.length&&(N.transform=E.join(" ")),H.createElement("text",FZ({},xe(N,!0),{x:R,y:Y,className:Ve("recharts-text",w),textAnchor:f,fill:G.includes("url")?wJ:G}),S.map(function(U,O){var D=U.words.join(X?"":" ");return H.createElement("tspan",{x:R,dy:O===0?K:l,key:"".concat(D,"-").concat(O)},D)}))};function Ma(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Iv(e){let t,n,r;e.length!==2?(t=Ma,n=(l,s)=>Ma(e(l),s),r=(l,s)=>e(l)-s):(t=e===Ma||e===qne?e:$ne,n=e,r=e);function g(l,s,c=0,C=l.length){if(c<C){if(t(s,s)!==0)return C;do{const d=c+C>>>1;n(l[d],s)<0?c=d+1:C=d}while(c<C)}return c}function a(l,s,c=0,C=l.length){if(c<C){if(t(s,s)!==0)return C;do{const d=c+C>>>1;n(l[d],s)<=0?c=d+1:C=d}while(c<C)}return c}function i(l,s,c=0,C=l.length){const d=g(l,s,c,C-1);return d>c&&r(l[d-1],s)>-r(l[d],s)?d-1:d}return{left:g,center:i,right:a}}function $ne(){return 0}function Kx(e){return e===null?NaN:+e}function*ere(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const tre=Iv(Ma),vc=tre.right;Iv(Kx).center;class RJ extends Map{constructor(t,n=gre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,g]of t)this.set(r,g)}get(t){return super.get(kJ(this,t))}has(t){return super.has(kJ(this,t))}set(t,n){return super.set(nre(this,t),n)}delete(t){return super.delete(rre(this,t))}}function kJ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function nre({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function rre({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function gre(e){return e!==null&&typeof e=="object"?e.valueOf():e}function are(e=Ma){if(e===Ma)return xx;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function xx(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ire=Math.sqrt(50),ore=Math.sqrt(10),lre=Math.sqrt(2);function pd(e,t,n){const r=(t-e)/Math.max(0,n),g=Math.floor(Math.log10(r)),a=r/Math.pow(10,g),i=a>=ire?10:a>=ore?5:a>=lre?2:1;let l,s,c;return g<0?(c=Math.pow(10,-g)/i,l=Math.round(e*c),s=Math.round(t*c),l/c<e&&++l,s/c>t&&--s,c=-c):(c=Math.pow(10,g)*i,l=Math.round(e/c),s=Math.round(t/c),l*c<e&&++l,s*c>t&&--s),s<l&&.5<=n&&n<2?pd(e,t,n*2):[l,s,c]}function KZ(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[g,a,i]=r?pd(t,e,n):pd(e,t,n);if(!(a>=g))return[];const l=a-g+1,s=new Array(l);if(r)if(i<0)for(let c=0;c<l;++c)s[c]=(a-c)/-i;else for(let c=0;c<l;++c)s[c]=(a-c)*i;else if(i<0)for(let c=0;c<l;++c)s[c]=(g+c)/-i;else for(let c=0;c<l;++c)s[c]=(g+c)*i;return s}function xZ(e,t,n){return t=+t,e=+e,n=+n,pd(e,t,n)[2]}function EZ(e,t,n){t=+t,e=+e,n=+n;const r=t<e,g=r?xZ(t,e,n):xZ(e,t,n);return(r?-1:1)*(g<0?1/-g:g)}function XJ(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JJ(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Ex(e,t,n=0,r=1/0,g){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(g=g===void 0?xx:are(g);r>n;){if(r-n>600){const s=r-n+1,c=t-n+1,C=Math.log(s),d=.5*Math.exp(2*C/3),A=.5*Math.sqrt(C*d*(s-d)/s)*(c-s/2<0?-1:1),f=Math.max(n,Math.floor(t-c*d/s+A)),b=Math.min(r,Math.floor(t+(s-c)*d/s+A));Ex(e,t,f,b,g)}const a=e[t];let i=n,l=r;for(TI(e,n,t),g(e[r],a)>0&&TI(e,n,r);i<l;){for(TI(e,i,l),++i,--l;g(e[i],a)<0;)++i;for(;g(e[l],a)>0;)--l}g(e[n],a)===0?TI(e,n,l):(++l,TI(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function TI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Ire(e,t,n){if(e=Float64Array.from(ere(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return JJ(e);if(t>=1)return XJ(e);var r,g=(r-1)*t,a=Math.floor(g),i=XJ(Ex(e,a).subarray(0,a+1)),l=JJ(e.subarray(a+1));return i+(l-i)*(g-a)}}function sre(e,t,n=Kx){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,g=(r-1)*t,a=Math.floor(g),i=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return i+(l-i)*(g-a)}}function cre(e,t,n){e=+e,t=+t,n=(g=arguments.length)<2?(t=e,e=0,1):g<3?1:+n;for(var r=-1,g=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(g);++r<g;)a[r]=e+r*n;return a}function Vr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function sa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const MZ=Symbol("implicit");function sv(){var e=new RJ,t=[],n=[],r=MZ;function g(a){let i=e.get(a);if(i===void 0){if(r!==MZ)return r;e.set(a,i=t.push(a)-1)}return n[i%n.length]}return g.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new RJ;for(const i of a)e.has(i)||e.set(i,t.push(i)-1);return g},g.range=function(a){return arguments.length?(n=Array.from(a),g):n.slice()},g.unknown=function(a){return arguments.length?(r=a,g):r},g.copy=function(){return sv(t,n).unknown(r)},Vr.apply(g,arguments),g}function Vs(){var e=sv().unknown(void 0),t=e.domain,n=e.range,r=0,g=1,a,i,l=!1,s=0,c=0,C=.5;delete e.unknown;function d(){var A=t().length,f=g<r,b=f?g:r,p=f?r:g;a=(p-b)/Math.max(1,A-s+c*2),l&&(a=Math.floor(a)),b+=(p-b-a*(A-s))*C,i=a*(1-s),l&&(b=Math.round(b),i=Math.round(i));var h=cre(A).map(function(G){return b+a*G});return n(f?h.reverse():h)}return e.domain=function(A){return arguments.length?(t(A),d()):t()},e.range=function(A){return arguments.length?([r,g]=A,r=+r,g=+g,d()):[r,g]},e.rangeRound=function(A){return[r,g]=A,r=+r,g=+g,l=!0,d()},e.bandwidth=function(){return i},e.step=function(){return a},e.round=function(A){return arguments.length?(l=!!A,d()):l},e.padding=function(A){return arguments.length?(s=Math.min(1,c=+A),d()):s},e.paddingInner=function(A){return arguments.length?(s=Math.min(1,A),d()):s},e.paddingOuter=function(A){return arguments.length?(c=+A,d()):c},e.align=function(A){return arguments.length?(C=Math.max(0,Math.min(1,A)),d()):C},e.copy=function(){return Vs(t(),[r,g]).round(l).paddingInner(s).paddingOuter(c).align(C)},Vr.apply(d(),arguments)}function Mx(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Mx(t())},e}function os(){return Mx(Vs.apply(null,arguments).paddingInner(1))}function cv(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Dx(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Sc(){}var ws=.7,hd=1/ws,Uo="\\s*([+-]?\\d+)\\s*",Rs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ure=/^#([0-9a-f]{3,8})$/,Cre=new RegExp(`^rgb\\(${Uo},${Uo},${Uo}\\)$`),dre=new RegExp(`^rgb\\(${Zg},${Zg},${Zg}\\)$`),Are=new RegExp(`^rgba\\(${Uo},${Uo},${Uo},${Rs}\\)$`),mre=new RegExp(`^rgba\\(${Zg},${Zg},${Zg},${Rs}\\)$`),fre=new RegExp(`^hsl\\(${Rs},${Zg},${Zg}\\)$`),pre=new RegExp(`^hsla\\(${Rs},${Zg},${Zg},${Rs}\\)$`),YJ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};cv(Sc,ks,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:HJ,formatHex:HJ,formatHex8:hre,formatHsl:bre,formatRgb:NJ,toString:NJ});function HJ(){return this.rgb().formatHex()}function hre(){return this.rgb().formatHex8()}function bre(){return Tx(this).formatHsl()}function NJ(){return this.rgb().formatRgb()}function ks(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ure.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?FJ(t):n===3?new Kn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rC(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Cre.exec(e))?new Kn(t[1],t[2],t[3],1):(t=dre.exec(e))?new Kn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Are.exec(e))?rC(t[1],t[2],t[3],t[4]):(t=mre.exec(e))?rC(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fre.exec(e))?EJ(t[1],t[2]/100,t[3]/100,1):(t=pre.exec(e))?EJ(t[1],t[2]/100,t[3]/100,t[4]):YJ.hasOwnProperty(e)?FJ(YJ[e]):e==="transparent"?new Kn(NaN,NaN,NaN,0):null}function FJ(e){return new Kn(e>>16&255,e>>8&255,e&255,1)}function rC(e,t,n,r){return r<=0&&(e=t=n=NaN),new Kn(e,t,n,r)}function yre(e){return e instanceof Sc||(e=ks(e)),e?(e=e.rgb(),new Kn(e.r,e.g,e.b,e.opacity)):new Kn}function DZ(e,t,n,r){return arguments.length===1?yre(e):new Kn(e,t,n,r??1)}function Kn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}cv(Kn,DZ,Dx(Sc,{brighter(e){return e=e==null?hd:Math.pow(hd,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ws:Math.pow(ws,e),new Kn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kn(ki(this.r),ki(this.g),ki(this.b),bd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KJ,formatHex:KJ,formatHex8:Zre,formatRgb:xJ,toString:xJ}));function KJ(){return`#${Zi(this.r)}${Zi(this.g)}${Zi(this.b)}`}function Zre(){return`#${Zi(this.r)}${Zi(this.g)}${Zi(this.b)}${Zi((isNaN(this.opacity)?1:this.opacity)*255)}`}function xJ(){const e=bd(this.opacity);return`${e===1?"rgb(":"rgba("}${ki(this.r)}, ${ki(this.g)}, ${ki(this.b)}${e===1?")":`, ${e})`}`}function bd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zi(e){return e=ki(e),(e<16?"0":"")+e.toString(16)}function EJ(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Tr(e,t,n,r)}function Tx(e){if(e instanceof Tr)return new Tr(e.h,e.s,e.l,e.opacity);if(e instanceof Sc||(e=ks(e)),!e)return new Tr;if(e instanceof Tr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,g=Math.min(t,n,r),a=Math.max(t,n,r),i=NaN,l=a-g,s=(a+g)/2;return l?(t===a?i=(n-r)/l+(n<r)*6:n===a?i=(r-t)/l+2:i=(t-n)/l+4,l/=s<.5?a+g:2-a-g,i*=60):l=s>0&&s<1?0:i,new Tr(i,l,s,e.opacity)}function Gre(e,t,n,r){return arguments.length===1?Tx(e):new Tr(e,t,n,r??1)}function Tr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}cv(Tr,Gre,Dx(Sc,{brighter(e){return e=e==null?hd:Math.pow(hd,e),new Tr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ws:Math.pow(ws,e),new Tr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,g=2*n-r;return new Kn(e0(e>=240?e-240:e+120,g,r),e0(e,g,r),e0(e<120?e+240:e-120,g,r),this.opacity)},clamp(){return new Tr(MJ(this.h),gC(this.s),gC(this.l),bd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=bd(this.opacity);return`${e===1?"hsl(":"hsla("}${MJ(this.h)}, ${gC(this.s)*100}%, ${gC(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MJ(e){return e=(e||0)%360,e<0?e+360:e}function gC(e){return Math.max(0,Math.min(1,e||0))}function e0(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const uv=e=>()=>e;function Bre(e,t){return function(n){return e+n*t}}function vre(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Sre(e){return(e=+e)==1?Lx:function(t,n){return n-t?vre(t,n,e):uv(isNaN(t)?n:t)}}function Lx(e,t){var n=t-e;return n?Bre(e,n):uv(isNaN(e)?t:e)}const DJ=function e(t){var n=Sre(t);function r(g,a){var i=n((g=DZ(g)).r,(a=DZ(a)).r),l=n(g.g,a.g),s=n(g.b,a.b),c=Lx(g.opacity,a.opacity);return function(C){return g.r=i(C),g.g=l(C),g.b=s(C),g.opacity=c(C),g+""}}return r.gamma=e,r}(1);function Wre(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),g;return function(a){for(g=0;g<n;++g)r[g]=e[g]*(1-a)+t[g]*a;return r}}function Vre(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wre(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,g=new Array(r),a=new Array(n),i;for(i=0;i<r;++i)g[i]=Dl(e[i],t[i]);for(;i<n;++i)a[i]=t[i];return function(l){for(i=0;i<r;++i)a[i]=g[i](l);return a}}function Rre(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function yd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function kre(e,t){var n={},r={},g;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(g in t)g in e?n[g]=Dl(e[g],t[g]):r[g]=t[g];return function(a){for(g in n)r[g]=n[g](a);return r}}var TZ=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,t0=new RegExp(TZ.source,"g");function Xre(e){return function(){return e}}function Jre(e){return function(t){return e(t)+""}}function Yre(e,t){var n=TZ.lastIndex=t0.lastIndex=0,r,g,a,i=-1,l=[],s=[];for(e=e+"",t=t+"";(r=TZ.exec(e))&&(g=t0.exec(t));)(a=g.index)>n&&(a=t.slice(n,a),l[i]?l[i]+=a:l[++i]=a),(r=r[0])===(g=g[0])?l[i]?l[i]+=g:l[++i]=g:(l[++i]=null,s.push({i,x:yd(r,g)})),n=t0.lastIndex;return n<t.length&&(a=t.slice(n),l[i]?l[i]+=a:l[++i]=a),l.length<2?s[0]?Jre(s[0].x):Xre(t):(t=s.length,function(c){for(var C=0,d;C<t;++C)l[(d=s[C]).i]=d.x(c);return l.join("")})}function Dl(e,t){var n=typeof t,r;return t==null||n==="boolean"?uv(t):(n==="number"?yd:n==="string"?(r=ks(t))?(t=r,DJ):Yre:t instanceof ks?DJ:t instanceof Date?Rre:Vre(t)?Wre:Array.isArray(t)?wre:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?kre:yd)(e,t)}function Cv(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Hre(e,t){t===void 0&&(t=e,e=Dl);for(var n=0,r=t.length-1,g=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(g,g=t[++n]);return function(i){var l=Math.max(0,Math.min(r-1,Math.floor(i*=r)));return a[l](i-l)}}function Nre(e){return function(){return e}}function Zd(e){return+e}var TJ=[0,1];function Rn(e){return e}function LZ(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Nre(isNaN(t)?NaN:.5)}function Fre(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Kre(e,t,n){var r=e[0],g=e[1],a=t[0],i=t[1];return g<r?(r=LZ(g,r),a=n(i,a)):(r=LZ(r,g),a=n(a,i)),function(l){return a(r(l))}}function xre(e,t,n){var r=Math.min(e.length,t.length)-1,g=new Array(r),a=new Array(r),i=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<r;)g[i]=LZ(e[i],e[i+1]),a[i]=n(t[i],t[i+1]);return function(l){var s=vc(e,l,1,r)-1;return a[s](g[s](l))}}function Wc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rm(){var e=TJ,t=TJ,n=Dl,r,g,a,i=Rn,l,s,c;function C(){var A=Math.min(e.length,t.length);return i!==Rn&&(i=Fre(e[0],e[A-1])),l=A>2?xre:Kre,s=c=null,d}function d(A){return A==null||isNaN(A=+A)?a:(s||(s=l(e.map(r),t,n)))(r(i(A)))}return d.invert=function(A){return i(g((c||(c=l(t,e.map(r),yd)))(A)))},d.domain=function(A){return arguments.length?(e=Array.from(A,Zd),C()):e.slice()},d.range=function(A){return arguments.length?(t=Array.from(A),C()):t.slice()},d.rangeRound=function(A){return t=Array.from(A),n=Cv,C()},d.clamp=function(A){return arguments.length?(i=A?!0:Rn,C()):i!==Rn},d.interpolate=function(A){return arguments.length?(n=A,C()):n},d.unknown=function(A){return arguments.length?(a=A,d):a},function(A,f){return r=A,g=f,C()}}function dv(){return rm()(Rn,Rn)}function Ere(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Gd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cl(e){return e=Gd(Math.abs(e)),e?e[1]:NaN}function Mre(e,t){return function(n,r){for(var g=n.length,a=[],i=0,l=e[0],s=0;g>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),a.push(n.substring(g-=l,g+l)),!((s+=l+1)>r));)l=e[i=(i+1)%e.length];return a.reverse().join(t)}}function Dre(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Tre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xs(e){if(!(t=Tre.exec(e)))throw new Error("invalid format: "+e);var t;return new Av({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xs.prototype=Av.prototype;function Av(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Av.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Lre(e){e:for(var t=e.length,n=1,r=-1,g;n<t;++n)switch(e[n]){case".":r=g=n;break;case"0":r===0&&(r=n),g=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(g+1):e}var zx;function zre(e,t){var n=Gd(e,t);if(!n)return e+"";var r=n[0],g=n[1],a=g-(zx=Math.max(-8,Math.min(8,Math.floor(g/3)))*3)+1,i=r.length;return a===i?r:a>i?r+new Array(a-i+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Gd(e,Math.max(0,t+a-1))[0]}function LJ(e,t){var n=Gd(e,t);if(!n)return e+"";var r=n[0],g=n[1];return g<0?"0."+new Array(-g).join("0")+r:r.length>g+1?r.slice(0,g+1)+"."+r.slice(g+1):r+new Array(g-r.length+2).join("0")}const zJ={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ere,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LJ(e*100,t),r:LJ,s:zre,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function UJ(e){return e}var PJ=Array.prototype.map,QJ=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ure(e){var t=e.grouping===void 0||e.thousands===void 0?UJ:Mre(PJ.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",g=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?UJ:Dre(PJ.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Xs(d);var A=d.fill,f=d.align,b=d.sign,p=d.symbol,h=d.zero,G=d.width,v=d.comma,S=d.precision,V=d.trim,Z=d.type;Z==="n"?(v=!0,Z="g"):zJ[Z]||(S===void 0&&(S=12),V=!0,Z="g"),(h||A==="0"&&f==="=")&&(h=!0,A="0",f="=");var W=p==="$"?n:p==="#"&&/[boxX]/.test(Z)?"0"+Z.toLowerCase():"",w=p==="$"?r:/[%p]/.test(Z)?i:"",X=zJ[Z],N=/[defgprs%]/.test(Z);S=S===void 0?6:/[gprs]/.test(Z)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function R(Y){var K=W,E=w,L,z,U;if(Z==="c")E=X(Y)+E,Y="";else{Y=+Y;var O=Y<0||1/Y<0;if(Y=isNaN(Y)?s:X(Math.abs(Y),S),V&&(Y=Lre(Y)),O&&+Y==0&&b!=="+"&&(O=!1),K=(O?b==="("?b:l:b==="-"||b==="("?"":b)+K,E=(Z==="s"?QJ[8+zx/3]:"")+E+(O&&b==="("?")":""),N){for(L=-1,z=Y.length;++L<z;)if(U=Y.charCodeAt(L),48>U||U>57){E=(U===46?g+Y.slice(L+1):Y.slice(L))+E,Y=Y.slice(0,L);break}}}v&&!h&&(Y=t(Y,1/0));var D=K.length+Y.length+E.length,_=D<G?new Array(G-D+1).join(A):"";switch(v&&h&&(Y=t(_+Y,_.length?G-E.length:1/0),_=""),f){case"<":Y=K+Y+E+_;break;case"=":Y=K+_+Y+E;break;case"^":Y=_.slice(0,D=_.length>>1)+K+Y+E+_.slice(D);break;default:Y=_+K+Y+E;break}return a(Y)}return R.toString=function(){return d+""},R}function C(d,A){var f=c((d=Xs(d),d.type="f",d)),b=Math.max(-8,Math.min(8,Math.floor(cl(A)/3)))*3,p=Math.pow(10,-b),h=QJ[8+b/3];return function(G){return f(p*G)+h}}return{format:c,formatPrefix:C}}var aC,mv,Ux;Pre({thousands:",",grouping:[3],currency:["$",""]});function Pre(e){return aC=Ure(e),mv=aC.format,Ux=aC.formatPrefix,aC}function Qre(e){return Math.max(0,-cl(Math.abs(e)))}function Ore(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cl(t)/3)))*3-cl(Math.abs(e)))}function jre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cl(t)-cl(e))+1}function Px(e,t,n,r){var g=EZ(e,t,n),a;switch(r=Xs(r??",f"),r.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=Ore(g,i))&&(r.precision=a),Ux(r,i)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=jre(g,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Qre(g))&&(r.precision=a-(r.type==="%")*2);break}}return mv(r)}function _a(e){var t=e.domain;return e.ticks=function(n){var r=t();return KZ(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var g=t();return Px(g[0],g[g.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),g=0,a=r.length-1,i=r[g],l=r[a],s,c,C=10;for(l<i&&(c=i,i=l,l=c,c=g,g=a,a=c);C-- >0;){if(c=xZ(i,l,n),c===s)return r[g]=i,r[a]=l,t(r);if(c>0)i=Math.floor(i/c)*c,l=Math.ceil(l/c)*c;else if(c<0)i=Math.ceil(i*c)/c,l=Math.floor(l*c)/c;else break;s=c}return e},e}function Bd(){var e=dv();return e.copy=function(){return Wc(e,Bd())},Vr.apply(e,arguments),_a(e)}function Qx(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Zd),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Qx(e).unknown(t)},e=arguments.length?Array.from(e,Zd):[0,1],_a(n)}function Ox(e,t){e=e.slice();var n=0,r=e.length-1,g=e[n],a=e[r],i;return a<g&&(i=n,n=r,r=i,i=g,g=a,a=i),e[n]=t.floor(g),e[r]=t.ceil(a),e}function OJ(e){return Math.log(e)}function jJ(e){return Math.exp(e)}function _re(e){return-Math.log(-e)}function qre(e){return-Math.exp(-e)}function $re(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ege(e){return e===10?$re:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tge(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function _J(e){return(t,n)=>-e(-t,n)}function fv(e){const t=e(OJ,jJ),n=t.domain;let r=10,g,a;function i(){return g=tge(r),a=ege(r),n()[0]<0?(g=_J(g),a=_J(a),e(_re,qre)):e(OJ,jJ),t}return t.base=function(l){return arguments.length?(r=+l,i()):r},t.domain=function(l){return arguments.length?(n(l),i()):n()},t.ticks=l=>{const s=n();let c=s[0],C=s[s.length-1];const d=C<c;d&&([c,C]=[C,c]);let A=g(c),f=g(C),b,p;const h=l==null?10:+l;let G=[];if(!(r%1)&&f-A<h){if(A=Math.floor(A),f=Math.ceil(f),c>0){for(;A<=f;++A)for(b=1;b<r;++b)if(p=A<0?b/a(-A):b*a(A),!(p<c)){if(p>C)break;G.push(p)}}else for(;A<=f;++A)for(b=r-1;b>=1;--b)if(p=A>0?b/a(-A):b*a(A),!(p<c)){if(p>C)break;G.push(p)}G.length*2<h&&(G=KZ(c,C,h))}else G=KZ(A,f,Math.min(f-A,h)).map(a);return d?G.reverse():G},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=Xs(s)).precision==null&&(s.trim=!0),s=mv(s)),l===1/0)return s;const c=Math.max(1,r*l/t.ticks().length);return C=>{let d=C/a(Math.round(g(C)));return d*r<r-.5&&(d*=r),d<=c?s(C):""}},t.nice=()=>n(Ox(n(),{floor:l=>a(Math.floor(g(l))),ceil:l=>a(Math.ceil(g(l)))})),t}function jx(){const e=fv(rm()).domain([1,10]);return e.copy=()=>Wc(e,jx()).base(e.base()),Vr.apply(e,arguments),e}function qJ(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $J(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pv(e){var t=1,n=e(qJ(t),$J(t));return n.constant=function(r){return arguments.length?e(qJ(t=+r),$J(t)):t},_a(n)}function _x(){var e=pv(rm());return e.copy=function(){return Wc(e,_x()).constant(e.constant())},Vr.apply(e,arguments)}function eY(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nge(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rge(e){return e<0?-e*e:e*e}function hv(e){var t=e(Rn,Rn),n=1;function r(){return n===1?e(Rn,Rn):n===.5?e(nge,rge):e(eY(n),eY(1/n))}return t.exponent=function(g){return arguments.length?(n=+g,r()):n},_a(t)}function bv(){var e=hv(rm());return e.copy=function(){return Wc(e,bv()).exponent(e.exponent())},Vr.apply(e,arguments),e}function gge(){return bv.apply(null,arguments).exponent(.5)}function tY(e){return Math.sign(e)*e*e}function age(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qx(){var e=dv(),t=[0,1],n=!1,r;function g(a){var i=age(e(a));return isNaN(i)?r:n?Math.round(i):i}return g.invert=function(a){return e.invert(tY(a))},g.domain=function(a){return arguments.length?(e.domain(a),g):e.domain()},g.range=function(a){return arguments.length?(e.range((t=Array.from(a,Zd)).map(tY)),g):t.slice()},g.rangeRound=function(a){return g.range(a).round(!0)},g.round=function(a){return arguments.length?(n=!!a,g):n},g.clamp=function(a){return arguments.length?(e.clamp(a),g):e.clamp()},g.unknown=function(a){return arguments.length?(r=a,g):r},g.copy=function(){return qx(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Vr.apply(g,arguments),_a(g)}function $x(){var e=[],t=[],n=[],r;function g(){var i=0,l=Math.max(1,t.length);for(n=new Array(l-1);++i<l;)n[i-1]=sre(e,i/l);return a}function a(i){return i==null||isNaN(i=+i)?r:t[vc(n,i)]}return a.invertExtent=function(i){var l=t.indexOf(i);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let l of i)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ma),g()},a.range=function(i){return arguments.length?(t=Array.from(i),g()):t.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return $x().domain(e).range(t).unknown(r)},Vr.apply(a,arguments)}function e9(){var e=0,t=1,n=1,r=[.5],g=[0,1],a;function i(s){return s!=null&&s<=s?g[vc(r,s,0,n)]:a}function l(){var s=-1;for(r=new Array(n);++s<n;)r[s]=((s+1)*t-(s-n)*e)/(n+1);return i}return i.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},i.range=function(s){return arguments.length?(n=(g=Array.from(s)).length-1,l()):g.slice()},i.invertExtent=function(s){var c=g.indexOf(s);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},i.unknown=function(s){return arguments.length&&(a=s),i},i.thresholds=function(){return r.slice()},i.copy=function(){return e9().domain([e,t]).range(g).unknown(a)},Vr.apply(_a(i),arguments)}function t9(){var e=[.5],t=[0,1],n,r=1;function g(a){return a!=null&&a<=a?t[vc(e,a,0,r)]:n}return g.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),g):e.slice()},g.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),g):t.slice()},g.invertExtent=function(a){var i=t.indexOf(a);return[e[i-1],e[i]]},g.unknown=function(a){return arguments.length?(n=a,g):n},g.copy=function(){return t9().domain(e).range(t).unknown(n)},Vr.apply(g,arguments)}const n0=new Date,r0=new Date;function qt(e,t,n,r){function g(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return g.floor=a=>(e(a=new Date(+a)),a),g.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),g.round=a=>{const i=g(a),l=g.ceil(a);return a-i<l-a?i:l},g.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),g.range=(a,i,l)=>{const s=[];if(a=g.ceil(a),l=l==null?1:Math.floor(l),!(a<i)||!(l>0))return s;let c;do s.push(c=new Date(+a)),t(a,l),e(a);while(c<a&&a<i);return s},g.filter=a=>qt(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,l)=>{if(i>=i)if(l<0)for(;++l<=0;)for(;t(i,-1),!a(i););else for(;--l>=0;)for(;t(i,1),!a(i););}),n&&(g.count=(a,i)=>(n0.setTime(+a),r0.setTime(+i),e(n0),e(r0),Math.floor(n(n0,r0))),g.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?g.filter(r?i=>r(i)%a===0:i=>g.count(0,i)%a===0):g)),g}const vd=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);vd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):vd);vd.range;const Tg=1e3,yr=Tg*60,Lg=yr*60,ga=Lg*24,yv=ga*7,nY=ga*30,g0=ga*365,Gi=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Tg)},(e,t)=>(t-e)/Tg,e=>e.getUTCSeconds());Gi.range;const Zv=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tg)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getMinutes());Zv.range;const Gv=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*yr)},(e,t)=>(t-e)/yr,e=>e.getUTCMinutes());Gv.range;const Bv=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Tg-e.getMinutes()*yr)},(e,t)=>{e.setTime(+e+t*Lg)},(e,t)=>(t-e)/Lg,e=>e.getHours());Bv.range;const vv=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Lg)},(e,t)=>(t-e)/Lg,e=>e.getUTCHours());vv.range;const Vc=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*yr)/ga,e=>e.getDate()-1);Vc.range;const gm=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ga,e=>e.getUTCDate()-1);gm.range;const n9=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ga,e=>Math.floor(e/ga));n9.range;function Pi(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*yr)/yv)}const am=Pi(0),Sd=Pi(1),ige=Pi(2),oge=Pi(3),ul=Pi(4),lge=Pi(5),Ige=Pi(6);am.range;Sd.range;ige.range;oge.range;ul.range;lge.range;Ige.range;function Qi(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/yv)}const im=Qi(0),Wd=Qi(1),sge=Qi(2),cge=Qi(3),Cl=Qi(4),uge=Qi(5),Cge=Qi(6);im.range;Wd.range;sge.range;cge.range;Cl.range;uge.range;Cge.range;const Sv=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Sv.range;const Wv=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Wv.range;const aa=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());aa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});aa.range;const ia=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ia.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ia.range;function r9(e,t,n,r,g,a){const i=[[Gi,1,Tg],[Gi,5,5*Tg],[Gi,15,15*Tg],[Gi,30,30*Tg],[a,1,yr],[a,5,5*yr],[a,15,15*yr],[a,30,30*yr],[g,1,Lg],[g,3,3*Lg],[g,6,6*Lg],[g,12,12*Lg],[r,1,ga],[r,2,2*ga],[n,1,yv],[t,1,nY],[t,3,3*nY],[e,1,g0]];function l(c,C,d){const A=C<c;A&&([c,C]=[C,c]);const f=d&&typeof d.range=="function"?d:s(c,C,d),b=f?f.range(c,+C+1):[];return A?b.reverse():b}function s(c,C,d){const A=Math.abs(C-c)/d,f=Iv(([,,h])=>h).right(i,A);if(f===i.length)return e.every(EZ(c/g0,C/g0,d));if(f===0)return vd.every(Math.max(EZ(c,C,d),1));const[b,p]=i[A/i[f-1][2]<i[f][2]/A?f-1:f];return b.every(p)}return[l,s]}const[dge,Age]=r9(ia,Wv,im,n9,vv,Gv),[mge,fge]=r9(aa,Sv,am,Vc,Bv,Zv);function a0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function i0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function LI(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pge(e){var t=e.dateTime,n=e.date,r=e.time,g=e.periods,a=e.days,i=e.shortDays,l=e.months,s=e.shortMonths,c=zI(g),C=UI(g),d=zI(a),A=UI(a),f=zI(i),b=UI(i),p=zI(l),h=UI(l),G=zI(s),v=UI(s),S={a:O,A:D,b:_,B:te,c:null,d:lY,e:lY,f:Mge,g:_ge,G:$ge,H:Kge,I:xge,j:Ege,L:g9,m:Dge,M:Tge,p:x,q:P,Q:cY,s:uY,S:Lge,u:zge,U:Uge,V:Pge,w:Qge,W:Oge,x:null,X:null,y:jge,Y:qge,Z:eae,"%":sY},V={a:se,A:he,b:Ge,B:Re,c:null,d:IY,e:IY,f:gae,g:dae,G:mae,H:tae,I:nae,j:rae,L:i9,m:aae,M:iae,p:Ee,q:ke,Q:cY,s:uY,S:oae,u:lae,U:Iae,V:sae,w:cae,W:uae,x:null,X:null,y:Cae,Y:Aae,Z:fae,"%":sY},Z={a:R,A:Y,b:K,B:E,c:L,d:iY,e:iY,f:Yge,g:aY,G:gY,H:oY,I:oY,j:Rge,L:Jge,m:wge,M:kge,p:N,q:Vge,Q:Nge,s:Fge,S:Xge,u:Gge,U:Bge,V:vge,w:Zge,W:Sge,x:z,X:U,y:aY,Y:gY,Z:Wge,"%":Hge};S.x=W(n,S),S.X=W(r,S),S.c=W(t,S),V.x=W(n,V),V.X=W(r,V),V.c=W(t,V);function W(le,Ze){return function(Xe){var ie=[],st=-1,Fe=0,Vt=le.length,wt,$t,wr;for(Xe instanceof Date||(Xe=new Date(+Xe));++st<Vt;)le.charCodeAt(st)===37&&(ie.push(le.slice(Fe,st)),($t=rY[wt=le.charAt(++st)])!=null?wt=le.charAt(++st):$t=wt==="e"?" ":"0",(wr=Ze[wt])&&(wt=wr(Xe,$t)),ie.push(wt),Fe=st+1);return ie.push(le.slice(Fe,st)),ie.join("")}}function w(le,Ze){return function(Xe){var ie=LI(1900,void 0,1),st=X(ie,le,Xe+="",0),Fe,Vt;if(st!=Xe.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Ze&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Fe=i0(LI(ie.y,0,1)),Vt=Fe.getUTCDay(),Fe=Vt>4||Vt===0?Wd.ceil(Fe):Wd(Fe),Fe=gm.offset(Fe,(ie.V-1)*7),ie.y=Fe.getUTCFullYear(),ie.m=Fe.getUTCMonth(),ie.d=Fe.getUTCDate()+(ie.w+6)%7):(Fe=a0(LI(ie.y,0,1)),Vt=Fe.getDay(),Fe=Vt>4||Vt===0?Sd.ceil(Fe):Sd(Fe),Fe=Vc.offset(Fe,(ie.V-1)*7),ie.y=Fe.getFullYear(),ie.m=Fe.getMonth(),ie.d=Fe.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Vt="Z"in ie?i0(LI(ie.y,0,1)).getUTCDay():a0(LI(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Vt+5)%7:ie.w+ie.U*7-(Vt+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,i0(ie)):a0(ie)}}function X(le,Ze,Xe,ie){for(var st=0,Fe=Ze.length,Vt=Xe.length,wt,$t;st<Fe;){if(ie>=Vt)return-1;if(wt=Ze.charCodeAt(st++),wt===37){if(wt=Ze.charAt(st++),$t=Z[wt in rY?Ze.charAt(st++):wt],!$t||(ie=$t(le,Xe,ie))<0)return-1}else if(wt!=Xe.charCodeAt(ie++))return-1}return ie}function N(le,Ze,Xe){var ie=c.exec(Ze.slice(Xe));return ie?(le.p=C.get(ie[0].toLowerCase()),Xe+ie[0].length):-1}function R(le,Ze,Xe){var ie=f.exec(Ze.slice(Xe));return ie?(le.w=b.get(ie[0].toLowerCase()),Xe+ie[0].length):-1}function Y(le,Ze,Xe){var ie=d.exec(Ze.slice(Xe));return ie?(le.w=A.get(ie[0].toLowerCase()),Xe+ie[0].length):-1}function K(le,Ze,Xe){var ie=G.exec(Ze.slice(Xe));return ie?(le.m=v.get(ie[0].toLowerCase()),Xe+ie[0].length):-1}function E(le,Ze,Xe){var ie=p.exec(Ze.slice(Xe));return ie?(le.m=h.get(ie[0].toLowerCase()),Xe+ie[0].length):-1}function L(le,Ze,Xe){return X(le,t,Ze,Xe)}function z(le,Ze,Xe){return X(le,n,Ze,Xe)}function U(le,Ze,Xe){return X(le,r,Ze,Xe)}function O(le){return i[le.getDay()]}function D(le){return a[le.getDay()]}function _(le){return s[le.getMonth()]}function te(le){return l[le.getMonth()]}function x(le){return g[+(le.getHours()>=12)]}function P(le){return 1+~~(le.getMonth()/3)}function se(le){return i[le.getUTCDay()]}function he(le){return a[le.getUTCDay()]}function Ge(le){return s[le.getUTCMonth()]}function Re(le){return l[le.getUTCMonth()]}function Ee(le){return g[+(le.getUTCHours()>=12)]}function ke(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Ze=W(le+="",S);return Ze.toString=function(){return le},Ze},parse:function(le){var Ze=w(le+="",!1);return Ze.toString=function(){return le},Ze},utcFormat:function(le){var Ze=W(le+="",V);return Ze.toString=function(){return le},Ze},utcParse:function(le){var Ze=w(le+="",!0);return Ze.toString=function(){return le},Ze}}}var rY={"-":"",_:" ",0:"0"},ln=/^\s*\d+/,hge=/^%/,bge=/[\\^$*+?|[\]().{}]/g;function Pe(e,t,n){var r=e<0?"-":"",g=(r?-e:e)+"",a=g.length;return r+(a<n?new Array(n-a+1).join(t)+g:g)}function yge(e){return e.replace(bge,"\\$&")}function zI(e){return new RegExp("^(?:"+e.map(yge).join("|")+")","i")}function UI(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Zge(e,t,n){var r=ln.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Gge(e,t,n){var r=ln.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Bge(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vge(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Sge(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function gY(e,t,n){var r=ln.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wge(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Vge(e,t,n){var r=ln.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function wge(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function iY(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Rge(e,t,n){var r=ln.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function kge(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Xge(e,t,n){var r=ln.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Jge(e,t,n){var r=ln.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Yge(e,t,n){var r=ln.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hge(e,t,n){var r=hge.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Nge(e,t,n){var r=ln.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Fge(e,t,n){var r=ln.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function lY(e,t){return Pe(e.getDate(),t,2)}function Kge(e,t){return Pe(e.getHours(),t,2)}function xge(e,t){return Pe(e.getHours()%12||12,t,2)}function Ege(e,t){return Pe(1+Vc.count(aa(e),e),t,3)}function g9(e,t){return Pe(e.getMilliseconds(),t,3)}function Mge(e,t){return g9(e,t)+"000"}function Dge(e,t){return Pe(e.getMonth()+1,t,2)}function Tge(e,t){return Pe(e.getMinutes(),t,2)}function Lge(e,t){return Pe(e.getSeconds(),t,2)}function zge(e){var t=e.getDay();return t===0?7:t}function Uge(e,t){return Pe(am.count(aa(e)-1,e),t,2)}function a9(e){var t=e.getDay();return t>=4||t===0?ul(e):ul.ceil(e)}function Pge(e,t){return e=a9(e),Pe(ul.count(aa(e),e)+(aa(e).getDay()===4),t,2)}function Qge(e){return e.getDay()}function Oge(e,t){return Pe(Sd.count(aa(e)-1,e),t,2)}function jge(e,t){return Pe(e.getFullYear()%100,t,2)}function _ge(e,t){return e=a9(e),Pe(e.getFullYear()%100,t,2)}function qge(e,t){return Pe(e.getFullYear()%1e4,t,4)}function $ge(e,t){var n=e.getDay();return e=n>=4||n===0?ul(e):ul.ceil(e),Pe(e.getFullYear()%1e4,t,4)}function eae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pe(t/60|0,"0",2)+Pe(t%60,"0",2)}function IY(e,t){return Pe(e.getUTCDate(),t,2)}function tae(e,t){return Pe(e.getUTCHours(),t,2)}function nae(e,t){return Pe(e.getUTCHours()%12||12,t,2)}function rae(e,t){return Pe(1+gm.count(ia(e),e),t,3)}function i9(e,t){return Pe(e.getUTCMilliseconds(),t,3)}function gae(e,t){return i9(e,t)+"000"}function aae(e,t){return Pe(e.getUTCMonth()+1,t,2)}function iae(e,t){return Pe(e.getUTCMinutes(),t,2)}function oae(e,t){return Pe(e.getUTCSeconds(),t,2)}function lae(e){var t=e.getUTCDay();return t===0?7:t}function Iae(e,t){return Pe(im.count(ia(e)-1,e),t,2)}function o9(e){var t=e.getUTCDay();return t>=4||t===0?Cl(e):Cl.ceil(e)}function sae(e,t){return e=o9(e),Pe(Cl.count(ia(e),e)+(ia(e).getUTCDay()===4),t,2)}function cae(e){return e.getUTCDay()}function uae(e,t){return Pe(Wd.count(ia(e)-1,e),t,2)}function Cae(e,t){return Pe(e.getUTCFullYear()%100,t,2)}function dae(e,t){return e=o9(e),Pe(e.getUTCFullYear()%100,t,2)}function Aae(e,t){return Pe(e.getUTCFullYear()%1e4,t,4)}function mae(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Cl(e):Cl.ceil(e),Pe(e.getUTCFullYear()%1e4,t,4)}function fae(){return"+0000"}function sY(){return"%"}function cY(e){return+e}function uY(e){return Math.floor(+e/1e3)}var Ro,l9,I9;pae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pae(e){return Ro=pge(e),l9=Ro.format,Ro.parse,I9=Ro.utcFormat,Ro.utcParse,Ro}function hae(e){return new Date(e)}function bae(e){return e instanceof Date?+e:+new Date(+e)}function Vv(e,t,n,r,g,a,i,l,s,c){var C=dv(),d=C.invert,A=C.domain,f=c(".%L"),b=c(":%S"),p=c("%I:%M"),h=c("%I %p"),G=c("%a %d"),v=c("%b %d"),S=c("%B"),V=c("%Y");function Z(W){return(s(W)<W?f:l(W)<W?b:i(W)<W?p:a(W)<W?h:r(W)<W?g(W)<W?G:v:n(W)<W?S:V)(W)}return C.invert=function(W){return new Date(d(W))},C.domain=function(W){return arguments.length?A(Array.from(W,bae)):A().map(hae)},C.ticks=function(W){var w=A();return e(w[0],w[w.length-1],W??10)},C.tickFormat=function(W,w){return w==null?Z:c(w)},C.nice=function(W){var w=A();return(!W||typeof W.range!="function")&&(W=t(w[0],w[w.length-1],W??10)),W?A(Ox(w,W)):C},C.copy=function(){return Wc(C,Vv(e,t,n,r,g,a,i,l,s,c))},C}function yae(){return Vr.apply(Vv(mge,fge,aa,Sv,am,Vc,Bv,Zv,Gi,l9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Zae(){return Vr.apply(Vv(dge,Age,ia,Wv,im,gm,vv,Gv,Gi,I9).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function om(){var e=0,t=1,n,r,g,a,i=Rn,l=!1,s;function c(d){return d==null||isNaN(d=+d)?s:i(g===0?.5:(d=(a(d)-n)*g,l?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),g=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(l=!!d,c):l},c.interpolator=function(d){return arguments.length?(i=d,c):i};function C(d){return function(A){var f,b;return arguments.length?([f,b]=A,i=d(f,b),c):[i(0),i(1)]}}return c.range=C(Dl),c.rangeRound=C(Cv),c.unknown=function(d){return arguments.length?(s=d,c):s},function(d){return a=d,n=d(e),r=d(t),g=n===r?0:1/(r-n),c}}function qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function s9(){var e=_a(om()(Rn));return e.copy=function(){return qa(e,s9())},sa.apply(e,arguments)}function c9(){var e=fv(om()).domain([1,10]);return e.copy=function(){return qa(e,c9()).base(e.base())},sa.apply(e,arguments)}function u9(){var e=pv(om());return e.copy=function(){return qa(e,u9()).constant(e.constant())},sa.apply(e,arguments)}function wv(){var e=hv(om());return e.copy=function(){return qa(e,wv()).exponent(e.exponent())},sa.apply(e,arguments)}function Gae(){return wv.apply(null,arguments).exponent(.5)}function C9(){var e=[],t=Rn;function n(r){if(r!=null&&!isNaN(r=+r))return t((vc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let g of r)g!=null&&!isNaN(g=+g)&&e.push(g);return e.sort(Ma),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,g)=>t(g/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(g,a)=>Ire(e,a/r))},n.copy=function(){return C9(t).domain(e)},sa.apply(n,arguments)}function lm(){var e=0,t=.5,n=1,r=1,g,a,i,l,s,c=Rn,C,d=!1,A;function f(p){return isNaN(p=+p)?A:(p=.5+((p=+C(p))-a)*(r*p<r*a?l:s),c(d?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([e,t,n]=p,g=C(e=+e),a=C(t=+t),i=C(n=+n),l=g===a?0:.5/(a-g),s=a===i?0:.5/(i-a),r=a<g?-1:1,f):[e,t,n]},f.clamp=function(p){return arguments.length?(d=!!p,f):d},f.interpolator=function(p){return arguments.length?(c=p,f):c};function b(p){return function(h){var G,v,S;return arguments.length?([G,v,S]=h,c=Hre(p,[G,v,S]),f):[c(0),c(.5),c(1)]}}return f.range=b(Dl),f.rangeRound=b(Cv),f.unknown=function(p){return arguments.length?(A=p,f):A},function(p){return C=p,g=p(e),a=p(t),i=p(n),l=g===a?0:.5/(a-g),s=a===i?0:.5/(i-a),r=a<g?-1:1,f}}function d9(){var e=_a(lm()(Rn));return e.copy=function(){return qa(e,d9())},sa.apply(e,arguments)}function A9(){var e=fv(lm()).domain([.1,1,10]);return e.copy=function(){return qa(e,A9()).base(e.base())},sa.apply(e,arguments)}function m9(){var e=pv(lm());return e.copy=function(){return qa(e,m9()).constant(e.constant())},sa.apply(e,arguments)}function Rv(){var e=hv(lm());return e.copy=function(){return qa(e,Rv()).exponent(e.exponent())},sa.apply(e,arguments)}function Bae(){return Rv.apply(null,arguments).exponent(.5)}const CY=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vs,scaleDiverging:d9,scaleDivergingLog:A9,scaleDivergingPow:Rv,scaleDivergingSqrt:Bae,scaleDivergingSymlog:m9,scaleIdentity:Qx,scaleImplicit:MZ,scaleLinear:Bd,scaleLog:jx,scaleOrdinal:sv,scalePoint:os,scalePow:bv,scaleQuantile:$x,scaleQuantize:e9,scaleRadial:qx,scaleSequential:s9,scaleSequentialLog:c9,scaleSequentialPow:wv,scaleSequentialQuantile:C9,scaleSequentialSqrt:Gae,scaleSequentialSymlog:u9,scaleSqrt:gge,scaleSymlog:_x,scaleThreshold:t9,scaleTime:yae,scaleUtc:Zae,tickFormat:Px},Symbol.toStringTag,{value:"Module"}));var o0,dY;function f9(){if(dY)return o0;dY=1;var e=xl();function t(n,r,g){for(var a=-1,i=n.length;++a<i;){var l=n[a],s=r(l);if(s!=null&&(c===void 0?s===s&&!e(s):g(s,c)))var c=s,C=l}return C}return o0=t,o0}var l0,AY;function vae(){if(AY)return l0;AY=1;function e(t,n){return t>n}return l0=e,l0}var I0,mY;function Sae(){if(mY)return I0;mY=1;var e=f9(),t=vae(),n=Ml();function r(g){return g&&g.length?e(g,n,t):void 0}return I0=r,I0}var Wae=Sae();const Im=lt(Wae);var s0,fY;function Vae(){if(fY)return s0;fY=1;function e(t,n){return t<n}return s0=e,s0}var c0,pY;function wae(){if(pY)return c0;pY=1;var e=f9(),t=Vae(),n=Ml();function r(g){return g&&g.length?e(g,n,t):void 0}return c0=r,c0}var Rae=wae();const sm=lt(Rae);var u0,hY;function kae(){if(hY)return u0;hY=1;var e=UB(),t=ja(),n=vx(),r=Ln();function g(a,i){var l=r(a)?e:n;return l(a,t(i,3))}return u0=g,u0}var C0,bY;function Xae(){if(bY)return C0;bY=1;var e=Gx(),t=kae();function n(r,g){return e(t(r,g),1)}return C0=n,C0}var Jae=Xae();const Yae=lt(Jae);var d0,yY;function Hae(){if(yY)return d0;yY=1;var e=av();function t(n,r){return e(n,r)}return d0=t,d0}var Nae=Hae();const cm=lt(Nae);var Tl=1e9,Fae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xv,Gt=!0,Sr="[DecimalError] ",Xi=Sr+"Invalid argument: ",kv=Sr+"Exponent out of range: ",Ll=Math.floor,fi=Math.pow,Kae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,er,rn=1e7,ht=7,p9=9007199254740991,Vd=Ll(p9/ht),fe={};fe.absoluteValue=fe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};fe.comparedTo=fe.cmp=function(e){var t,n,r,g,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,g=e.d.length,t=0,n=r<g?r:g;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===g?0:r>g^a.s<0?1:-1};fe.decimalPlaces=fe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ht;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};fe.dividedBy=fe.div=function(e){return ta(this,new this.constructor(e))};fe.dividedToIntegerBy=fe.idiv=function(e){var t=this,n=t.constructor;return Ct(ta(t,new n(e),0,1),n.precision)};fe.equals=fe.eq=function(e){return!this.cmp(e)};fe.exponent=function(){return Ut(this)};fe.greaterThan=fe.gt=function(e){return this.cmp(e)>0};fe.greaterThanOrEqualTo=fe.gte=function(e){return this.cmp(e)>=0};fe.isInteger=fe.isint=function(){return this.e>this.d.length-2};fe.isNegative=fe.isneg=function(){return this.s<0};fe.isPositive=fe.ispos=function(){return this.s>0};fe.isZero=function(){return this.s===0};fe.lessThan=fe.lt=function(e){return this.cmp(e)<0};fe.lessThanOrEqualTo=fe.lte=function(e){return this.cmp(e)<1};fe.logarithm=fe.log=function(e){var t,n=this,r=n.constructor,g=r.precision,a=g+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(er))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(er)?new r(0):(Gt=!1,t=ta(Js(n,a),Js(e,a),a),Gt=!0,Ct(t,g))};fe.minus=fe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y9(t,e):h9(t,(e.s=-e.s,e))};fe.modulo=fe.mod=function(e){var t,n=this,r=n.constructor,g=r.precision;if(e=new r(e),!e.s)throw Error(Sr+"NaN");return n.s?(Gt=!1,t=ta(n,e,0,1).times(e),Gt=!0,n.minus(t)):Ct(new r(n),g)};fe.naturalExponential=fe.exp=function(){return b9(this)};fe.naturalLogarithm=fe.ln=function(){return Js(this)};fe.negated=fe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};fe.plus=fe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?h9(t,e):y9(t,(e.s=-e.s,e))};fe.precision=fe.sd=function(e){var t,n,r,g=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xi+e);if(t=Ut(g)+1,r=g.d.length-1,n=r*ht+1,r=g.d[r],r){for(;r%10==0;r/=10)n--;for(r=g.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};fe.squareRoot=fe.sqrt=function(){var e,t,n,r,g,a,i,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Sr+"NaN")}for(e=Ut(l),Gt=!1,g=Math.sqrt(+l),g==0||g==1/0?(t=fg(l.d),(t.length+e)%2==0&&(t+="0"),g=Math.sqrt(t),e=Ll((e+1)/2)-(e<0||e%2),g==1/0?t="5e"+e:(t=g.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new s(t)):r=new s(g.toString()),n=s.precision,g=i=n+3;;)if(a=r,r=a.plus(ta(l,a,i+2)).times(.5),fg(a.d).slice(0,i)===(t=fg(r.d)).slice(0,i)){if(t=t.slice(i-3,i+1),g==i&&t=="4999"){if(Ct(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;i+=4}return Gt=!0,Ct(r,n)};fe.times=fe.mul=function(e){var t,n,r,g,a,i,l,s,c,C=this,d=C.constructor,A=C.d,f=(e=new d(e)).d;if(!C.s||!e.s)return new d(0);for(e.s*=C.s,n=C.e+e.e,s=A.length,c=f.length,s<c&&(a=A,A=f,f=a,i=s,s=c,c=i),a=[],i=s+c,r=i;r--;)a.push(0);for(r=c;--r>=0;){for(t=0,g=s+r;g>r;)l=a[g]+f[r]*A[g-r-1]+t,a[g--]=l%rn|0,t=l/rn|0;a[g]=(a[g]+t)%rn|0}for(;!a[--i];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Gt?Ct(e,d.precision):e};fe.toDecimalPlaces=fe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Sg(e,0,Tl),t===void 0?t=r.rounding:Sg(t,0,8),Ct(n,e+Ut(n)+1,t))};fe.toExponential=function(e,t){var n,r=this,g=r.constructor;return e===void 0?n=Ei(r,!0):(Sg(e,0,Tl),t===void 0?t=g.rounding:Sg(t,0,8),r=Ct(new g(r),e+1,t),n=Ei(r,!0,e+1)),n};fe.toFixed=function(e,t){var n,r,g=this,a=g.constructor;return e===void 0?Ei(g):(Sg(e,0,Tl),t===void 0?t=a.rounding:Sg(t,0,8),r=Ct(new a(g),e+Ut(g)+1,t),n=Ei(r.abs(),!1,e+Ut(r)+1),g.isneg()&&!g.isZero()?"-"+n:n)};fe.toInteger=fe.toint=function(){var e=this,t=e.constructor;return Ct(new t(e),Ut(e)+1,t.rounding)};fe.toNumber=function(){return+this};fe.toPower=fe.pow=function(e){var t,n,r,g,a,i,l=this,s=l.constructor,c=12,C=+(e=new s(e));if(!e.s)return new s(er);if(l=new s(l),!l.s){if(e.s<1)throw Error(Sr+"Infinity");return l}if(l.eq(er))return l;if(r=s.precision,e.eq(er))return Ct(l,r);if(t=e.e,n=e.d.length-1,i=t>=n,a=l.s,i){if((n=C<0?-C:C)<=p9){for(g=new s(er),t=Math.ceil(r/ht+4),Gt=!1;n%2&&(g=g.times(l),GY(g.d,t)),n=Ll(n/2),n!==0;)l=l.times(l),GY(l.d,t);return Gt=!0,e.s<0?new s(er).div(g):Ct(g,r)}}else if(a<0)throw Error(Sr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Gt=!1,g=e.times(Js(l,r+c)),Gt=!0,g=b9(g),g.s=a,g};fe.toPrecision=function(e,t){var n,r,g=this,a=g.constructor;return e===void 0?(n=Ut(g),r=Ei(g,n<=a.toExpNeg||n>=a.toExpPos)):(Sg(e,1,Tl),t===void 0?t=a.rounding:Sg(t,0,8),g=Ct(new a(g),e,t),n=Ut(g),r=Ei(g,e<=n||n<=a.toExpNeg,e)),r};fe.toSignificantDigits=fe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Sg(e,1,Tl),t===void 0?t=r.rounding:Sg(t,0,8)),Ct(new r(n),e,t)};fe.toString=fe.valueOf=fe.val=fe.toJSON=fe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ut(e),n=e.constructor;return Ei(e,t<=n.toExpNeg||t>=n.toExpPos)};function h9(e,t){var n,r,g,a,i,l,s,c,C=e.constructor,d=C.precision;if(!e.s||!t.s)return t.s||(t=new C(e)),Gt?Ct(t,d):t;if(s=e.d,c=t.d,i=e.e,g=t.e,s=s.slice(),a=i-g,a){for(a<0?(r=s,a=-a,l=c.length):(r=c,g=i,l=s.length),i=Math.ceil(d/ht),l=i>l?i+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=s.length,a=c.length,l-a<0&&(a=l,r=c,c=s,s=r),n=0;a;)n=(s[--a]=s[a]+c[a]+n)/rn|0,s[a]%=rn;for(n&&(s.unshift(n),++g),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=g,Gt?Ct(t,d):t}function Sg(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Xi+e)}function fg(e){var t,n,r,g=e.length-1,a="",i=e[0];if(g>0){for(a+=i,t=1;t<g;t++)r=e[t]+"",n=ht-r.length,n&&(a+=Ja(n)),a+=r;i=e[t],r=i+"",n=ht-r.length,n&&(a+=Ja(n))}else if(i===0)return"0";for(;i%10===0;)i/=10;return a+i}var ta=function(){function e(r,g){var a,i=0,l=r.length;for(r=r.slice();l--;)a=r[l]*g+i,r[l]=a%rn|0,i=a/rn|0;return i&&r.unshift(i),r}function t(r,g,a,i){var l,s;if(a!=i)s=a>i?1:-1;else for(l=s=0;l<a;l++)if(r[l]!=g[l]){s=r[l]>g[l]?1:-1;break}return s}function n(r,g,a){for(var i=0;a--;)r[a]-=i,i=r[a]<g[a]?1:0,r[a]=i*rn+r[a]-g[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,g,a,i){var l,s,c,C,d,A,f,b,p,h,G,v,S,V,Z,W,w,X,N=r.constructor,R=r.s==g.s?1:-1,Y=r.d,K=g.d;if(!r.s)return new N(r);if(!g.s)throw Error(Sr+"Division by zero");for(s=r.e-g.e,w=K.length,Z=Y.length,f=new N(R),b=f.d=[],c=0;K[c]==(Y[c]||0);)++c;if(K[c]>(Y[c]||0)&&--s,a==null?v=a=N.precision:i?v=a+(Ut(r)-Ut(g))+1:v=a,v<0)return new N(0);if(v=v/ht+2|0,c=0,w==1)for(C=0,K=K[0],v++;(c<Z||C)&&v--;c++)S=C*rn+(Y[c]||0),b[c]=S/K|0,C=S%K|0;else{for(C=rn/(K[0]+1)|0,C>1&&(K=e(K,C),Y=e(Y,C),w=K.length,Z=Y.length),V=w,p=Y.slice(0,w),h=p.length;h<w;)p[h++]=0;X=K.slice(),X.unshift(0),W=K[0],K[1]>=rn/2&&++W;do C=0,l=t(K,p,w,h),l<0?(G=p[0],w!=h&&(G=G*rn+(p[1]||0)),C=G/W|0,C>1?(C>=rn&&(C=rn-1),d=e(K,C),A=d.length,h=p.length,l=t(d,p,A,h),l==1&&(C--,n(d,w<A?X:K,A))):(C==0&&(l=C=1),d=K.slice()),A=d.length,A<h&&d.unshift(0),n(p,d,h),l==-1&&(h=p.length,l=t(K,p,w,h),l<1&&(C++,n(p,w<h?X:K,h))),h=p.length):l===0&&(C++,p=[0]),b[c++]=C,l&&p[0]?p[h++]=Y[V]||0:(p=[Y[V]],h=1);while((V++<Z||p[0]!==void 0)&&v--)}return b[0]||b.shift(),f.e=s,Ct(f,i?a+Ut(f)+1:a)}}();function b9(e,t){var n,r,g,a,i,l,s=0,c=0,C=e.constructor,d=C.precision;if(Ut(e)>16)throw Error(kv+Ut(e));if(!e.s)return new C(er);for(t==null?(Gt=!1,l=d):l=t,i=new C(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(r=Math.log(fi(2,c))/Math.LN10*2+5|0,l+=r,n=g=a=new C(er),C.precision=l;;){if(g=Ct(g.times(e),l),n=n.times(++s),i=a.plus(ta(g,n,l)),fg(i.d).slice(0,l)===fg(a.d).slice(0,l)){for(;c--;)a=Ct(a.times(a),l);return C.precision=d,t==null?(Gt=!0,Ct(a,d)):a}a=i}}function Ut(e){for(var t=e.e*ht,n=e.d[0];n>=10;n/=10)t++;return t}function A0(e,t,n){if(t>e.LN10.sd())throw Gt=!0,n&&(e.precision=n),Error(Sr+"LN10 precision limit exceeded");return Ct(new e(e.LN10),t)}function Ja(e){for(var t="";e--;)t+="0";return t}function Js(e,t){var n,r,g,a,i,l,s,c,C,d=1,A=10,f=e,b=f.d,p=f.constructor,h=p.precision;if(f.s<1)throw Error(Sr+(f.s?"NaN":"-Infinity"));if(f.eq(er))return new p(0);if(t==null?(Gt=!1,c=h):c=t,f.eq(10))return t==null&&(Gt=!0),A0(p,c);if(c+=A,p.precision=c,n=fg(b),r=n.charAt(0),a=Ut(f),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)f=f.times(e),n=fg(f.d),r=n.charAt(0),d++;a=Ut(f),r>1?(f=new p("0."+n),a++):f=new p(r+"."+n.slice(1))}else return s=A0(p,c+2,h).times(a+""),f=Js(new p(r+"."+n.slice(1)),c-A).plus(s),p.precision=h,t==null?(Gt=!0,Ct(f,h)):f;for(l=i=f=ta(f.minus(er),f.plus(er),c),C=Ct(f.times(f),c),g=3;;){if(i=Ct(i.times(C),c),s=l.plus(ta(i,new p(g),c)),fg(s.d).slice(0,c)===fg(l.d).slice(0,c))return l=l.times(2),a!==0&&(l=l.plus(A0(p,c+2,h).times(a+""))),l=ta(l,new p(d),c),p.precision=h,t==null?(Gt=!0,Ct(l,h)):l;l=s,g+=2}}function ZY(e,t){var n,r,g;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(g=t.length;t.charCodeAt(g-1)===48;)--g;if(t=t.slice(r,g),t){if(g-=r,n=n-r-1,e.e=Ll(n/ht),e.d=[],r=(n+1)%ht,n<0&&(r+=ht),r<g){for(r&&e.d.push(+t.slice(0,r)),g-=ht;r<g;)e.d.push(+t.slice(r,r+=ht));t=t.slice(r),r=ht-t.length}else r-=g;for(;r--;)t+="0";if(e.d.push(+t),Gt&&(e.e>Vd||e.e<-Vd))throw Error(kv+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ct(e,t,n){var r,g,a,i,l,s,c,C,d=e.d;for(i=1,a=d[0];a>=10;a/=10)i++;if(r=t-i,r<0)r+=ht,g=t,c=d[C=0];else{if(C=Math.ceil((r+1)/ht),a=d.length,C>=a)return e;for(c=a=d[C],i=1;a>=10;a/=10)i++;r%=ht,g=r-ht+i}if(n!==void 0&&(a=fi(10,i-g-1),l=c/a%10|0,s=t<0||d[C+1]!==void 0||c%a,s=n<4?(l||s)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||s||n==6&&(r>0?g>0?c/fi(10,i-g):0:d[C-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return s?(a=Ut(e),d.length=1,t=t-a-1,d[0]=fi(10,(ht-t%ht)%ht),e.e=Ll(-t/ht)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(r==0?(d.length=C,a=1,C--):(d.length=C+1,a=fi(10,ht-r),d[C]=g>0?(c/fi(10,i-g)%fi(10,g)|0)*a:0),s)for(;;)if(C==0){(d[0]+=a)==rn&&(d[0]=1,++e.e);break}else{if(d[C]+=a,d[C]!=rn)break;d[C--]=0,a=1}for(r=d.length;d[--r]===0;)d.pop();if(Gt&&(e.e>Vd||e.e<-Vd))throw Error(kv+Ut(e));return e}function y9(e,t){var n,r,g,a,i,l,s,c,C,d,A=e.constructor,f=A.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new A(e),Gt?Ct(t,f):t;if(s=e.d,d=t.d,r=t.e,c=e.e,s=s.slice(),i=c-r,i){for(C=i<0,C?(n=s,i=-i,l=d.length):(n=d,r=c,l=s.length),g=Math.max(Math.ceil(f/ht),l)+2,i>g&&(i=g,n.length=1),n.reverse(),g=i;g--;)n.push(0);n.reverse()}else{for(g=s.length,l=d.length,C=g<l,C&&(l=g),g=0;g<l;g++)if(s[g]!=d[g]){C=s[g]<d[g];break}i=0}for(C&&(n=s,s=d,d=n,t.s=-t.s),l=s.length,g=d.length-l;g>0;--g)s[l++]=0;for(g=d.length;g>i;){if(s[--g]<d[g]){for(a=g;a&&s[--a]===0;)s[a]=rn-1;--s[a],s[g]+=rn}s[g]-=d[g]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--r;return s[0]?(t.d=s,t.e=r,Gt?Ct(t,f):t):new A(0)}function Ei(e,t,n){var r,g=Ut(e),a=fg(e.d),i=a.length;return t?(n&&(r=n-i)>0?a=a.charAt(0)+"."+a.slice(1)+Ja(r):i>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(g<0?"e":"e+")+g):g<0?(a="0."+Ja(-g-1)+a,n&&(r=n-i)>0&&(a+=Ja(r))):g>=i?(a+=Ja(g+1-i),n&&(r=n-g-1)>0&&(a=a+"."+Ja(r))):((r=g+1)<i&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-i)>0&&(g+1===i&&(a+="."),a+=Ja(r))),e.s<0?"-"+a:a}function GY(e,t){if(e.length>t)return e.length=t,!0}function Z9(e){var t,n,r;function g(a){var i=this;if(!(i instanceof g))return new g(a);if(i.constructor=g,a instanceof g){i.s=a.s,i.e=a.e,i.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Xi+a);if(a>0)i.s=1;else if(a<0)a=-a,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(a===~~a&&a<1e7){i.e=0,i.d=[a];return}return ZY(i,a.toString())}else if(typeof a!="string")throw Error(Xi+a);if(a.charCodeAt(0)===45?(a=a.slice(1),i.s=-1):i.s=1,Kae.test(a))ZY(i,a);else throw Error(Xi+a)}if(g.prototype=fe,g.ROUND_UP=0,g.ROUND_DOWN=1,g.ROUND_CEIL=2,g.ROUND_FLOOR=3,g.ROUND_HALF_UP=4,g.ROUND_HALF_DOWN=5,g.ROUND_HALF_EVEN=6,g.ROUND_HALF_CEIL=7,g.ROUND_HALF_FLOOR=8,g.clone=Z9,g.config=g.set=xae,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return g.config(e),g}function xae(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,n,r,g=["precision",1,Tl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<g.length;t+=3)if((r=e[n=g[t]])!==void 0)if(Ll(r)===r&&r>=g[t+1]&&r<=g[t+2])this[n]=r;else throw Error(Xi+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xi+n+": "+r);return this}var Xv=Z9(Fae);er=new Xv(1);const ot=Xv;function Eae(e){return Lae(e)||Tae(e)||Dae(e)||Mae()}function Mae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(e,t){if(e){if(typeof e=="string")return zZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zZ(e,t)}}function Tae(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Lae(e){if(Array.isArray(e))return zZ(e)}function zZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zae=function(t){return t},G9={"@@functional/placeholder":!0},B9=function(t){return t===G9},BY=function(t){return function n(){return arguments.length===0||arguments.length===1&&B9(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Uae=function e(t,n){return t===1?n:BY(function(){for(var r=arguments.length,g=new Array(r),a=0;a<r;a++)g[a]=arguments[a];var i=g.filter(function(l){return l!==G9}).length;return i>=t?n.apply(void 0,g):e(t-i,BY(function(){for(var l=arguments.length,s=new Array(l),c=0;c<l;c++)s[c]=arguments[c];var C=g.map(function(d){return B9(d)?s.shift():d});return n.apply(void 0,Eae(C).concat(s))}))})},um=function(t){return Uae(t.length,t)},UZ=function(t,n){for(var r=[],g=t;g<n;++g)r[g-t]=g;return r},Pae=um(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Qae=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return zae;var g=n.reverse(),a=g[0],i=g.slice(1);return function(){return i.reduce(function(l,s){return s(l)},a.apply(void 0,arguments))}},PZ=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},v9=function(t){var n=null,r=null;return function(){for(var g=arguments.length,a=new Array(g),i=0;i<g;i++)a[i]=arguments[i];return n&&a.every(function(l,s){return l===n[s]})||(n=a,r=t.apply(void 0,a)),r}};function Oae(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function jae(e,t,n){for(var r=new ot(e),g=0,a=[];r.lt(t)&&g<1e5;)a.push(r.toNumber()),r=r.add(n),g++;return a}var _ae=um(function(e,t,n){var r=+e,g=+t;return r+n*(g-r)}),qae=um(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),$ae=um(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Cm={rangeStep:jae,getDigitCount:Oae,interpolateNumber:_ae,uninterpolateNumber:qae,uninterpolateTruncation:$ae};function QZ(e){return nie(e)||tie(e)||S9(e)||eie()}function eie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tie(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nie(e){if(Array.isArray(e))return OZ(e)}function Ys(e,t){return aie(e)||gie(e,t)||S9(e,t)||rie()}function rie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9(e,t){if(e){if(typeof e=="string")return OZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OZ(e,t)}}function OZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gie(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,g=!1,a=void 0;try{for(var i=e[Symbol.iterator](),l;!(r=(l=i.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(s){g=!0,a=s}finally{try{!r&&i.return!=null&&i.return()}finally{if(g)throw a}}return n}}function aie(e){if(Array.isArray(e))return e}function W9(e){var t=Ys(e,2),n=t[0],r=t[1],g=n,a=r;return n>r&&(g=r,a=n),[g,a]}function V9(e,t,n){if(e.lte(0))return new ot(0);var r=Cm.getDigitCount(e.toNumber()),g=new ot(10).pow(r),a=e.div(g),i=r!==1?.05:.1,l=new ot(Math.ceil(a.div(i).toNumber())).add(n).mul(i),s=l.mul(g);return t?s:new ot(Math.ceil(s))}function iie(e,t,n){var r=1,g=new ot(e);if(!g.isint()&&n){var a=Math.abs(e);a<1?(r=new ot(10).pow(Cm.getDigitCount(e)-1),g=new ot(Math.floor(g.div(r).toNumber())).mul(r)):a>1&&(g=new ot(Math.floor(e)))}else e===0?g=new ot(Math.floor((t-1)/2)):n||(g=new ot(Math.floor(e)));var i=Math.floor((t-1)/2),l=Qae(Pae(function(s){return g.add(new ot(s-i).mul(r)).toNumber()}),UZ);return l(0,t)}function w9(e,t,n,r){var g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var a=V9(new ot(t).sub(e).div(n-1),r,g),i;e<=0&&t>=0?i=new ot(0):(i=new ot(e).add(t).div(2),i=i.sub(new ot(i).mod(a)));var l=Math.ceil(i.sub(e).div(a).toNumber()),s=Math.ceil(new ot(t).sub(i).div(a).toNumber()),c=l+s+1;return c>n?w9(e,t,n,r,g+1):(c<n&&(s=t>0?s+(n-c):s,l=t>0?l:l+(n-c)),{step:a,tickMin:i.sub(new ot(l).mul(a)),tickMax:i.add(new ot(s).mul(a))})}function oie(e){var t=Ys(e,2),n=t[0],r=t[1],g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(g,2),l=W9([n,r]),s=Ys(l,2),c=s[0],C=s[1];if(c===-1/0||C===1/0){var d=C===1/0?[c].concat(QZ(UZ(0,g-1).map(function(){return 1/0}))):[].concat(QZ(UZ(0,g-1).map(function(){return-1/0})),[C]);return n>r?PZ(d):d}if(c===C)return iie(c,g,a);var A=w9(c,C,i,a),f=A.step,b=A.tickMin,p=A.tickMax,h=Cm.rangeStep(b,p.add(new ot(.1).mul(f)),f);return n>r?PZ(h):h}function lie(e,t){var n=Ys(e,2),r=n[0],g=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=W9([r,g]),l=Ys(i,2),s=l[0],c=l[1];if(s===-1/0||c===1/0)return[r,g];if(s===c)return[s];var C=Math.max(t,2),d=V9(new ot(c).sub(s).div(C-1),a,0),A=[].concat(QZ(Cm.rangeStep(new ot(s),new ot(c).sub(new ot(.99).mul(d)),d)),[c]);return r>g?PZ(A):A}var Iie=v9(oie),sie=v9(lie),cie="Invariant failed";function Mi(e,t){throw new Error(cie)}var uie=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dl(e){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dl(e)}function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wd.apply(this,arguments)}function Cie(e,t){return fie(e)||mie(e,t)||Aie(e,t)||die()}function die(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aie(e,t){if(e){if(typeof e=="string")return vY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vY(e,t)}}function vY(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mie(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function fie(e){if(Array.isArray(e))return e}function pie(e,t){if(e==null)return{};var n=hie(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X9(r.key),r)}}function Zie(e,t,n){return yie(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gie(e,t,n){return t=Rd(t),Bie(e,R9()?Reflect.construct(t,n||[],Rd(e).constructor):t.apply(e,n))}function Bie(e,t){if(t&&(dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vie(e)}function vie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R9=function(){return!!e})()}function Rd(e){return Rd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rd(e)}function Sie(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jZ(e,t)}function jZ(e,t){return jZ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},jZ(e,t)}function k9(e,t,n){return t=X9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X9(e){var t=Wie(e,"string");return dl(t)=="symbol"?t:t+""}function Wie(e,t){if(dl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wc=function(e){function t(){return bie(this,t),Gie(this,t,arguments)}return Sie(t,e),Zie(t,[{key:"render",value:function(){var r=this.props,g=r.offset,a=r.layout,i=r.width,l=r.dataKey,s=r.data,c=r.dataPointFormatter,C=r.xAxis,d=r.yAxis,A=pie(r,uie),f=xe(A,!1);this.props.direction==="x"&&C.type!=="number"&&Mi();var b=s.map(function(p){var h=c(p,l),G=h.x,v=h.y,S=h.value,V=h.errorVal;if(!V)return null;var Z=[],W,w;if(Array.isArray(V)){var X=Cie(V,2);W=X[0],w=X[1]}else W=w=V;if(a==="vertical"){var N=C.scale,R=v+g,Y=R+i,K=R-i,E=N(S-W),L=N(S+w);Z.push({x1:L,y1:Y,x2:L,y2:K}),Z.push({x1:E,y1:R,x2:L,y2:R}),Z.push({x1:E,y1:Y,x2:E,y2:K})}else if(a==="horizontal"){var z=d.scale,U=G+g,O=U-i,D=U+i,_=z(S-W),te=z(S+w);Z.push({x1:O,y1:te,x2:D,y2:te}),Z.push({x1:U,y1:_,x2:U,y2:te}),Z.push({x1:O,y1:_,x2:D,y2:_})}return H.createElement(Kt,wd({className:"recharts-errorBar",key:"bar-".concat(Z.map(function(x){return"".concat(x.x1,"-").concat(x.x2,"-").concat(x.y1,"-").concat(x.y2)}))},f),Z.map(function(x){return H.createElement("line",wd({},x,{key:"line-".concat(x.x1,"-").concat(x.x2,"-").concat(x.y1,"-").concat(x.y2)}))}))});return H.createElement(Kt,{className:"recharts-errorBars"},b)}}])}(H.Component);k9(wc,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});k9(wc,"displayName","ErrorBar");function Hs(e){"@babel/helpers - typeof";return Hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function SY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SY(Object(n),!0).forEach(function(r){Vie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vie(e,t,n){return t=wie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wie(e){var t=Rie(e,"string");return Hs(t)=="symbol"?t:t+""}function Rie(e,t){if(Hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J9=function(t){var n=t.children,r=t.formattedGraphicalItems,g=t.legendWidth,a=t.legendContent,i=_n(n,zo);if(!i)return null;var l=zo.defaultProps,s=l!==void 0?di(di({},l),i.props):{},c;return i.props&&i.props.payload?c=i.props&&i.props.payload:a==="children"?c=(r||[]).reduce(function(C,d){var A=d.item,f=d.props,b=f.sectors||f.data||[];return C.concat(b.map(function(p){return{type:i.props.iconType||A.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(r||[]).map(function(C){var d=C.item,A=d.type.defaultProps,f=A!==void 0?di(di({},A),d.props):{},b=f.dataKey,p=f.name,h=f.legendType,G=f.hide;return{inactive:G,dataKey:b,type:s.iconType||h||"square",color:Jv(d),value:p||b,payload:f}}),di(di(di({},s),zo.getWithHeight(i,g)),{},{payload:c,item:i})};function Ns(e){"@babel/helpers - typeof";return Ns=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ns(e)}function WY(e){return Yie(e)||Jie(e)||Xie(e)||kie()}function kie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xie(e,t){if(e){if(typeof e=="string")return _Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _Z(e,t)}}function Jie(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yie(e){if(Array.isArray(e))return _Z(e)}function _Z(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VY(Object(n),!0).forEach(function(r){Po(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Po(e,t,n){return t=Hie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hie(e){var t=Nie(e,"string");return Ns(t)=="symbol"?t:t+""}function Nie(e,t){if(Ns(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ir(e,t,n){return Ke(e)||Ke(t)?n:jt(t)?Zr(e,t,n):Ye(t)?t(e):n}function ls(e,t,n,r){var g=Yae(e,function(l){return ir(l,t)});if(n==="number"){var a=g.filter(function(l){return ce(l)||parseFloat(l)});return a.length?[sm(a),Im(a)]:[1/0,-1/0]}var i=r?g.filter(function(l){return!Ke(l)}):g;return i.map(function(l){return jt(l)||l instanceof Date?l:""})}var Fie=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],g=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,i=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var s=a.range,c=0;c<l;c++){var C=c>0?g[c-1].coordinate:g[l-1].coordinate,d=g[c].coordinate,A=c>=l-1?g[0].coordinate:g[c+1].coordinate,f=void 0;if(Lr(d-C)!==Lr(A-d)){var b=[];if(Lr(A-d)===Lr(s[1]-s[0])){f=A;var p=d+s[1]-s[0];b[0]=Math.min(p,(p+C)/2),b[1]=Math.max(p,(p+C)/2)}else{f=C;var h=A+s[1]-s[0];b[0]=Math.min(d,(h+d)/2),b[1]=Math.max(d,(h+d)/2)}var G=[Math.min(d,(f+d)/2),Math.max(d,(f+d)/2)];if(t>G[0]&&t<=G[1]||t>=b[0]&&t<=b[1]){i=g[c].index;break}}else{var v=Math.min(C,A),S=Math.max(C,A);if(t>(v+d)/2&&t<=(S+d)/2){i=g[c].index;break}}}else for(var V=0;V<l;V++)if(V===0&&t<=(r[V].coordinate+r[V+1].coordinate)/2||V>0&&V<l-1&&t>(r[V].coordinate+r[V-1].coordinate)/2&&t<=(r[V].coordinate+r[V+1].coordinate)/2||V===l-1&&t>(r[V].coordinate+r[V-1].coordinate)/2){i=r[V].index;break}return i},Jv=function(t){var n,r=t,g=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,i=a.stroke,l=a.fill,s;switch(g){case"Line":s=i;break;case"Area":case"Radar":s=i&&i!=="none"?i:l;break;default:s=l;break}return s},Kie=function(t){var n=t.barSize,r=t.totalSize,g=t.stackGroups,a=g===void 0?{}:g;if(!a)return{};for(var i={},l=Object.keys(a),s=0,c=l.length;s<c;s++)for(var C=a[l[s]].stackGroups,d=Object.keys(C),A=0,f=d.length;A<f;A++){var b=C[d[A]],p=b.items,h=b.cateAxisId,G=p.filter(function(w){return qg(w.type).indexOf("Bar")>=0});if(G&&G.length){var v=G[0].type.defaultProps,S=v!==void 0?Jt(Jt({},v),G[0].props):G[0].props,V=S.barSize,Z=S[h];i[Z]||(i[Z]=[]);var W=Ke(V)?n:V;i[Z].push({item:G[0],stackList:G.slice(1),barSize:Ke(W)?void 0:xi(W,r,0)})}}return i},xie=function(t){var n=t.barGap,r=t.barCategoryGap,g=t.bandSize,a=t.sizeList,i=a===void 0?[]:a,l=t.maxBarSize,s=i.length;if(s<1)return null;var c=xi(n,g,0,!0),C,d=[];if(i[0].barSize===+i[0].barSize){var A=!1,f=g/s,b=i.reduce(function(V,Z){return V+Z.barSize||0},0);b+=(s-1)*c,b>=g&&(b-=(s-1)*c,c=0),b>=g&&f>0&&(A=!0,f*=.9,b=s*f);var p=(g-b)/2>>0,h={offset:p-c,size:0};C=i.reduce(function(V,Z){var W={item:Z.item,position:{offset:h.offset+h.size+c,size:A?f:Z.barSize}},w=[].concat(WY(V),[W]);return h=w[w.length-1].position,Z.stackList&&Z.stackList.length&&Z.stackList.forEach(function(X){w.push({item:X,position:h})}),w},d)}else{var G=xi(r,g,0,!0);g-2*G-(s-1)*c<=0&&(c=0);var v=(g-2*G-(s-1)*c)/s;v>1&&(v>>=0);var S=l===+l?Math.min(v,l):v;C=i.reduce(function(V,Z,W){var w=[].concat(WY(V),[{item:Z.item,position:{offset:G+(v+c)*W+(v-S)/2,size:S}}]);return Z.stackList&&Z.stackList.length&&Z.stackList.forEach(function(X){w.push({item:X,position:w[w.length-1].position})}),w},d)}return C},Eie=function(t,n,r,g){var a=r.children,i=r.width,l=r.margin,s=i-(l.left||0)-(l.right||0),c=J9({children:a,legendWidth:s});if(c){var C=g||{},d=C.width,A=C.height,f=c.align,b=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&b==="middle")&&f!=="center"&&ce(t[f]))return Jt(Jt({},t),{},Po({},f,t[f]+(d||0)));if((p==="horizontal"||p==="vertical"&&f==="center")&&b!=="middle"&&ce(t[b]))return Jt(Jt({},t),{},Po({},b,t[b]+(A||0)))}return t},Mie=function(t,n,r){return Ke(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Y9=function(t,n,r,g,a){var i=n.props.children,l=Gr(i,wc).filter(function(c){return Mie(g,a,c.props.direction)});if(l&&l.length){var s=l.map(function(c){return c.props.dataKey});return t.reduce(function(c,C){var d=ir(C,r);if(Ke(d))return c;var A=Array.isArray(d)?[sm(d),Im(d)]:[d,d],f=s.reduce(function(b,p){var h=ir(C,p,0),G=A[0]-Math.abs(Array.isArray(h)?h[0]:h),v=A[1]+Math.abs(Array.isArray(h)?h[1]:h);return[Math.min(G,b[0]),Math.max(v,b[1])]},[1/0,-1/0]);return[Math.min(f[0],c[0]),Math.max(f[1],c[1])]},[1/0,-1/0])}return null},Die=function(t,n,r,g,a){var i=n.map(function(l){return Y9(t,l,r,a,g)}).filter(function(l){return!Ke(l)});return i&&i.length?i.reduce(function(l,s){return[Math.min(l[0],s[0]),Math.max(l[1],s[1])]},[1/0,-1/0]):null},H9=function(t,n,r,g,a){var i=n.map(function(s){var c=s.props.dataKey;return r==="number"&&c&&Y9(t,s,c,g)||ls(t,c,r,a)});if(r==="number")return i.reduce(function(s,c){return[Math.min(s[0],c[0]),Math.max(s[1],c[1])]},[1/0,-1/0]);var l={};return i.reduce(function(s,c){for(var C=0,d=c.length;C<d;C++)l[c[C]]||(l[c[C]]=!0,s.push(c[C]));return s},[])},N9=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},F9=function(t,n,r,g){if(g)return t.map(function(s){return s.coordinate});var a,i,l=t.map(function(s){return s.coordinate===n&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate});return a||l.push(n),i||l.push(r),l},zg=function(t,n,r){if(!t)return null;var g=t.scale,a=t.duplicateDomain,i=t.type,l=t.range,s=t.realScaleType==="scaleBand"?g.bandwidth()/2:2,c=(n||r)&&i==="category"&&g.bandwidth?g.bandwidth()/s:0;if(c=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Lr(l[0]-l[1])*2*c:c,n&&(t.ticks||t.niceTicks)){var C=(t.ticks||t.niceTicks).map(function(d){var A=a?a.indexOf(d):d;return{coordinate:g(A)+c,value:d,offset:c}});return C.filter(function(d){return!Zc(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,A){return{coordinate:g(d)+c,value:d,index:A,offset:c}}):g.ticks&&!r?g.ticks(t.tickCount).map(function(d){return{coordinate:g(d)+c,value:d,offset:c}}):g.domain().map(function(d,A){return{coordinate:g(d)+c,value:a?a[d]:d,index:A,offset:c}})},m0=new WeakMap,iC=function(t,n){if(typeof n!="function")return t;m0.has(t)||m0.set(t,new WeakMap);var r=m0.get(t);if(r.has(n))return r.get(n);var g=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,g),g},Tie=function(t,n,r){var g=t.scale,a=t.type,i=t.layout,l=t.axisType;if(g==="auto")return i==="radial"&&l==="radiusAxis"?{scale:Vs(),realScaleType:"band"}:i==="radial"&&l==="angleAxis"?{scale:Bd(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:os(),realScaleType:"point"}:a==="category"?{scale:Vs(),realScaleType:"band"}:{scale:Bd(),realScaleType:"linear"};if(yc(g)){var s="scale".concat(jA(g));return{scale:(CY[s]||os)(),realScaleType:CY[s]?s:"point"}}return Ye(g)?{scale:g}:{scale:os(),realScaleType:"point"}},wY=1e-4,Lie=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,g=t.range(),a=Math.min(g[0],g[1])-wY,i=Math.max(g[0],g[1])+wY,l=t(n[0]),s=t(n[r-1]);(l<a||l>i||s<a||s>i)&&t.domain([n[0],n[r-1]])}},zie=function(t,n){if(!t)return null;for(var r=0,g=t.length;r<g;r++)if(t[r].item===n)return t[r].position;return null},Uie=function(t,n){if(!n||n.length!==2||!ce(n[0])||!ce(n[1]))return t;var r=Math.min(n[0],n[1]),g=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!ce(t[0])||t[0]<r)&&(a[0]=r),(!ce(t[1])||t[1]>g)&&(a[1]=g),a[0]>g&&(a[0]=g),a[1]<r&&(a[1]=r),a},Pie=function(t){var n=t.length;if(!(n<=0))for(var r=0,g=t[0].length;r<g;++r)for(var a=0,i=0,l=0;l<n;++l){var s=Zc(t[l][r][1])?t[l][r][0]:t[l][r][1];s>=0?(t[l][r][0]=a,t[l][r][1]=a+s,a=t[l][r][1]):(t[l][r][0]=i,t[l][r][1]=i+s,i=t[l][r][1])}},Qie=function(t){var n=t.length;if(!(n<=0))for(var r=0,g=t[0].length;r<g;++r)for(var a=0,i=0;i<n;++i){var l=Zc(t[i][r][1])?t[i][r][0]:t[i][r][1];l>=0?(t[i][r][0]=a,t[i][r][1]=a+l,a=t[i][r][1]):(t[i][r][0]=0,t[i][r][1]=0)}},Oie={sign:Pie,expand:X6,none:il,silhouette:J6,wiggle:Y6,positive:Qie},jie=function(t,n,r){var g=n.map(function(l){return l.props.dataKey}),a=Oie[r],i=k6().keys(g).value(function(l,s){return+ir(l,s,0)}).order(WZ).offset(a);return i(t)},_ie=function(t,n,r,g,a,i){if(!t)return null;var l=i?n.reverse():n,s={},c=l.reduce(function(d,A){var f,b=(f=A.type)!==null&&f!==void 0&&f.defaultProps?Jt(Jt({},A.type.defaultProps),A.props):A.props,p=b.stackId,h=b.hide;if(h)return d;var G=b[r],v=d[G]||{hasStack:!1,stackGroups:{}};if(jt(p)){var S=v.stackGroups[p]||{numericAxisId:r,cateAxisId:g,items:[]};S.items.push(A),v.hasStack=!0,v.stackGroups[p]=S}else v.stackGroups[Gc("_stackId_")]={numericAxisId:r,cateAxisId:g,items:[A]};return Jt(Jt({},d),{},Po({},G,v))},s),C={};return Object.keys(c).reduce(function(d,A){var f=c[A];if(f.hasStack){var b={};f.stackGroups=Object.keys(f.stackGroups).reduce(function(p,h){var G=f.stackGroups[h];return Jt(Jt({},p),{},Po({},h,{numericAxisId:r,cateAxisId:g,items:G.items,stackedData:jie(t,G.items,a)}))},b)}return Jt(Jt({},d),{},Po({},A,f))},C)},qie=function(t,n){var r=n.realScaleType,g=n.type,a=n.tickCount,i=n.originalDomain,l=n.allowDecimals,s=r||n.scale;if(s!=="auto"&&s!=="linear")return null;if(a&&g==="number"&&i&&(i[0]==="auto"||i[1]==="auto")){var c=t.domain();if(!c.length)return null;var C=Iie(c,a,l);return t.domain([sm(C),Im(C)]),{niceTicks:C}}if(a&&g==="number"){var d=t.domain(),A=sie(d,a,l);return{niceTicks:A}}return null};function RY(e){var t=e.axis,n=e.ticks,r=e.bandSize,g=e.entry,a=e.index,i=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ke(g[t.dataKey])){var l=gd(n,"value",g[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var s=ir(g,Ke(i)?t.dataKey:i);return Ke(s)?null:t.scale(s)}var kY=function(t){var n=t.axis,r=t.ticks,g=t.offset,a=t.bandSize,i=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+g:null;var s=ir(i,n.dataKey,n.domain[l]);return Ke(s)?null:n.scale(s)-a/2+g},$ie=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var g=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return g<=0&&a>=0?0:a<0?a:g}return r[0]},eoe=function(t,n){var r,g=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,a=g.stackId;if(jt(a)){var i=n[a];if(i){var l=i.items.indexOf(t);return l>=0?i.stackedData[l]:null}}return null},toe=function(t){return t.reduce(function(n,r){return[sm(r.concat([n[0]]).filter(ce)),Im(r.concat([n[1]]).filter(ce))]},[1/0,-1/0])},K9=function(t,n,r){return Object.keys(t).reduce(function(g,a){var i=t[a],l=i.stackedData,s=l.reduce(function(c,C){var d=toe(C.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(s[0],g[0]),Math.max(s[1],g[1])]},[1/0,-1/0]).map(function(g){return g===1/0||g===-1/0?0:g})},XY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qZ=function(t,n,r){if(Ye(t))return t(n,r);if(!Array.isArray(t))return n;var g=[];if(ce(t[0]))g[0]=r?t[0]:Math.min(t[0],n[0]);else if(XY.test(t[0])){var a=+XY.exec(t[0])[1];g[0]=n[0]-a}else Ye(t[0])?g[0]=t[0](n[0]):g[0]=n[0];if(ce(t[1]))g[1]=r?t[1]:Math.max(t[1],n[1]);else if(JY.test(t[1])){var i=+JY.exec(t[1])[1];g[1]=n[1]+i}else Ye(t[1])?g[1]=t[1](n[1]):g[1]=n[1];return g},kd=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var g=t.scale.bandwidth();if(!r||g>0)return g}if(t&&n&&n.length>=2){for(var a=ov(n,function(d){return d.coordinate}),i=1/0,l=1,s=a.length;l<s;l++){var c=a[l],C=a[l-1];i=Math.min((c.coordinate||0)-(C.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0},YY=function(t,n,r){return!t||!t.length||cm(t,Zr(r,"type.defaultProps.domain"))?n:t},x9=function(t,n){var r=t.type.defaultProps?Jt(Jt({},t.type.defaultProps),t.props):t.props,g=r.dataKey,a=r.name,i=r.unit,l=r.formatter,s=r.tooltipType,c=r.chartType,C=r.hide;return Jt(Jt({},xe(t,!1)),{},{dataKey:g,unit:i,formatter:l,name:a||g,color:Jv(t),value:ir(n,g),type:s,payload:n,chartType:c,hide:C})};function Fs(e){"@babel/helpers - typeof";return Fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(e)}function HY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function NY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HY(Object(n),!0).forEach(function(r){noe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function noe(e,t,n){return t=roe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function roe(e){var t=goe(e,"string");return Fs(t)=="symbol"?t:t+""}function goe(e,t){if(Fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,aoe=function(t){return t*180/Math.PI},Cn=function(t,n,r,g){return{x:t+Math.cos(-Xd*g)*r,y:n+Math.sin(-Xd*g)*r}},ioe=function(t,n){var r=t.x,g=t.y,a=n.x,i=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(g-i,2))},ooe=function(t,n){var r=t.x,g=t.y,a=n.cx,i=n.cy,l=ioe({x:r,y:g},{x:a,y:i});if(l<=0)return{radius:l};var s=(r-a)/l,c=Math.acos(s);return g>i&&(c=2*Math.PI-c),{radius:l,angle:aoe(c),angleInRadian:c}},loe=function(t){var n=t.startAngle,r=t.endAngle,g=Math.floor(n/360),a=Math.floor(r/360),i=Math.min(g,a);return{startAngle:n-i*360,endAngle:r-i*360}},Ioe=function(t,n){var r=n.startAngle,g=n.endAngle,a=Math.floor(r/360),i=Math.floor(g/360),l=Math.min(a,i);return t+l*360},FY=function(t,n){var r=t.x,g=t.y,a=ooe({x:r,y:g},n),i=a.radius,l=a.angle,s=n.innerRadius,c=n.outerRadius;if(i<s||i>c)return!1;if(i===0)return!0;var C=loe(n),d=C.startAngle,A=C.endAngle,f=l,b;if(d<=A){for(;f>A;)f-=360;for(;f<d;)f+=360;b=f>=d&&f<=A}else{for(;f>d;)f-=360;for(;f<A;)f+=360;b=f>=A&&f<=d}return b?NY(NY({},n),{},{radius:i,angle:Ioe(f,n)}):null};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}var soe=["offset"];function coe(e){return Aoe(e)||doe(e)||Coe(e)||uoe()}function uoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Coe(e,t){if(e){if(typeof e=="string")return $Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $Z(e,t)}}function doe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aoe(e){if(Array.isArray(e))return $Z(e)}function $Z(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function moe(e,t){if(e==null)return{};var n=foe(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function foe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KY(Object(n),!0).forEach(function(r){poe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function poe(e,t,n){return t=hoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hoe(e){var t=boe(e,"string");return Ks(t)=="symbol"?t:t+""}function boe(e,t){if(Ks(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ks(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xs.apply(this,arguments)}var yoe=function(t){var n=t.value,r=t.formatter,g=Ke(t.children)?n:t.children;return Ye(r)?r(g):g},Zoe=function(t,n){var r=Lr(n-t),g=Math.min(Math.abs(n-t),360);return r*g},Goe=function(t,n,r){var g=t.position,a=t.viewBox,i=t.offset,l=t.className,s=a,c=s.cx,C=s.cy,d=s.innerRadius,A=s.outerRadius,f=s.startAngle,b=s.endAngle,p=s.clockWise,h=(d+A)/2,G=Zoe(f,b),v=G>=0?1:-1,S,V;g==="insideStart"?(S=f+v*i,V=p):g==="insideEnd"?(S=b-v*i,V=!p):g==="end"&&(S=b+v*i,V=p),V=G<=0?V:!V;var Z=Cn(c,C,h,S),W=Cn(c,C,h,S+(V?1:-1)*359),w="M".concat(Z.x,",").concat(Z.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(V?0:1,`,
    `).concat(W.x,",").concat(W.y),X=Ke(t.id)?Gc("recharts-radial-line-"):t.id;return H.createElement("text",xs({},r,{dominantBaseline:"central",className:Ve("recharts-radial-bar-label",l)}),H.createElement("defs",null,H.createElement("path",{id:X,d:w})),H.createElement("textPath",{xlinkHref:"#".concat(X)},n))},Boe=function(t){var n=t.viewBox,r=t.offset,g=t.position,a=n,i=a.cx,l=a.cy,s=a.innerRadius,c=a.outerRadius,C=a.startAngle,d=a.endAngle,A=(C+d)/2;if(g==="outside"){var f=Cn(i,l,c+r,A),b=f.x,p=f.y;return{x:b,y:p,textAnchor:b>=i?"start":"end",verticalAnchor:"middle"}}if(g==="center")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(g==="centerTop")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"start"};if(g==="centerBottom")return{x:i,y:l,textAnchor:"middle",verticalAnchor:"end"};var h=(s+c)/2,G=Cn(i,l,h,A),v=G.x,S=G.y;return{x:v,y:S,textAnchor:"middle",verticalAnchor:"middle"}},voe=function(t){var n=t.viewBox,r=t.parentViewBox,g=t.offset,a=t.position,i=n,l=i.x,s=i.y,c=i.width,C=i.height,d=C>=0?1:-1,A=d*g,f=d>0?"end":"start",b=d>0?"start":"end",p=c>=0?1:-1,h=p*g,G=p>0?"end":"start",v=p>0?"start":"end";if(a==="top"){var S={x:l+c/2,y:s-d*g,textAnchor:"middle",verticalAnchor:f};return Ot(Ot({},S),r?{height:Math.max(s-r.y,0),width:c}:{})}if(a==="bottom"){var V={x:l+c/2,y:s+C+A,textAnchor:"middle",verticalAnchor:b};return Ot(Ot({},V),r?{height:Math.max(r.y+r.height-(s+C),0),width:c}:{})}if(a==="left"){var Z={x:l-h,y:s+C/2,textAnchor:G,verticalAnchor:"middle"};return Ot(Ot({},Z),r?{width:Math.max(Z.x-r.x,0),height:C}:{})}if(a==="right"){var W={x:l+c+h,y:s+C/2,textAnchor:v,verticalAnchor:"middle"};return Ot(Ot({},W),r?{width:Math.max(r.x+r.width-W.x,0),height:C}:{})}var w=r?{width:c,height:C}:{};return a==="insideLeft"?Ot({x:l+h,y:s+C/2,textAnchor:v,verticalAnchor:"middle"},w):a==="insideRight"?Ot({x:l+c-h,y:s+C/2,textAnchor:G,verticalAnchor:"middle"},w):a==="insideTop"?Ot({x:l+c/2,y:s+A,textAnchor:"middle",verticalAnchor:b},w):a==="insideBottom"?Ot({x:l+c/2,y:s+C-A,textAnchor:"middle",verticalAnchor:f},w):a==="insideTopLeft"?Ot({x:l+h,y:s+A,textAnchor:v,verticalAnchor:b},w):a==="insideTopRight"?Ot({x:l+c-h,y:s+A,textAnchor:G,verticalAnchor:b},w):a==="insideBottomLeft"?Ot({x:l+h,y:s+C-A,textAnchor:v,verticalAnchor:f},w):a==="insideBottomRight"?Ot({x:l+c-h,y:s+C-A,textAnchor:G,verticalAnchor:f},w):El(a)&&(ce(a.x)||yi(a.x))&&(ce(a.y)||yi(a.y))?Ot({x:l+xi(a.x,c),y:s+xi(a.y,C),textAnchor:"end",verticalAnchor:"end"},w):Ot({x:l+c/2,y:s+C/2,textAnchor:"middle",verticalAnchor:"middle"},w)},Soe=function(t){return"cx"in t&&ce(t.cx)};function bn(e){var t=e.offset,n=t===void 0?5:t,r=moe(e,soe),g=Ot({offset:n},r),a=g.viewBox,i=g.position,l=g.value,s=g.children,c=g.content,C=g.className,d=C===void 0?"":C,A=g.textBreakAll;if(!a||Ke(l)&&Ke(s)&&!J.isValidElement(c)&&!Ye(c))return null;if(J.isValidElement(c))return J.cloneElement(c,g);var f;if(Ye(c)){if(f=J.createElement(c,g),J.isValidElement(f))return f}else f=yoe(g);var b=Soe(a),p=xe(g,!0);if(b&&(i==="insideStart"||i==="insideEnd"||i==="end"))return Goe(g,f,p);var h=b?Boe(g):voe(g);return H.createElement(fd,xs({className:Ve("recharts-label",d)},p,h,{breakAll:A}),f)}bn.displayName="Label";var E9=function(t){var n=t.cx,r=t.cy,g=t.angle,a=t.startAngle,i=t.endAngle,l=t.r,s=t.radius,c=t.innerRadius,C=t.outerRadius,d=t.x,A=t.y,f=t.top,b=t.left,p=t.width,h=t.height,G=t.clockWise,v=t.labelViewBox;if(v)return v;if(ce(p)&&ce(h)){if(ce(d)&&ce(A))return{x:d,y:A,width:p,height:h};if(ce(f)&&ce(b))return{x:f,y:b,width:p,height:h}}return ce(d)&&ce(A)?{x:d,y:A,width:0,height:0}:ce(n)&&ce(r)?{cx:n,cy:r,startAngle:a||g||0,endAngle:i||g||0,innerRadius:c||0,outerRadius:C||s||l||0,clockWise:G}:t.viewBox?t.viewBox:{}},Woe=function(t,n){return t?t===!0?H.createElement(bn,{key:"label-implicit",viewBox:n}):jt(t)?H.createElement(bn,{key:"label-implicit",viewBox:n,value:t}):J.isValidElement(t)?t.type===bn?J.cloneElement(t,{key:"label-implicit",viewBox:n}):H.createElement(bn,{key:"label-implicit",content:t,viewBox:n}):Ye(t)?H.createElement(bn,{key:"label-implicit",content:t,viewBox:n}):El(t)?H.createElement(bn,xs({viewBox:n},t,{key:"label-implicit"})):null:null},Voe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var g=t.children,a=E9(t),i=Gr(g,bn).map(function(s,c){return J.cloneElement(s,{viewBox:n||a,key:"label-".concat(c)})});if(!r)return i;var l=Woe(t.label,n||a);return[l].concat(coe(i))};bn.parseViewBox=E9;bn.renderCallByParent=Voe;var f0,xY;function woe(){if(xY)return f0;xY=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return f0=e,f0}var Roe=woe();const koe=lt(Roe);function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}var Xoe=["valueAccessor"],Joe=["data","dataKey","clockWise","id","textBreakAll"];function Yoe(e){return Koe(e)||Foe(e)||Noe(e)||Hoe()}function Hoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(e,t){if(e){if(typeof e=="string")return eG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eG(e,t)}}function Foe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Koe(e){if(Array.isArray(e))return eG(e)}function eG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jd.apply(this,arguments)}function EY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function MY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EY(Object(n),!0).forEach(function(r){xoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xoe(e,t,n){return t=Eoe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eoe(e){var t=Moe(e,"string");return Es(t)=="symbol"?t:t+""}function Moe(e,t){if(Es(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Es(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DY(e,t){if(e==null)return{};var n=Doe(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Doe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Toe=function(t){return Array.isArray(t.value)?koe(t.value):t.value};function Da(e){var t=e.valueAccessor,n=t===void 0?Toe:t,r=DY(e,Xoe),g=r.data,a=r.dataKey,i=r.clockWise,l=r.id,s=r.textBreakAll,c=DY(r,Joe);return!g||!g.length?null:H.createElement(Kt,{className:"recharts-label-list"},g.map(function(C,d){var A=Ke(a)?n(C,d):ir(C&&C.payload,a),f=Ke(l)?{}:{id:"".concat(l,"-").concat(d)};return H.createElement(bn,Jd({},xe(C,!0),c,f,{parentViewBox:C.parentViewBox,value:A,textBreakAll:s,viewBox:bn.parseViewBox(Ke(i)?C:MY(MY({},C),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Da.displayName="LabelList";function Loe(e,t){return e?e===!0?H.createElement(Da,{key:"labelList-implicit",data:t}):H.isValidElement(e)||Ye(e)?H.createElement(Da,{key:"labelList-implicit",data:t,content:e}):El(e)?H.createElement(Da,Jd({data:t},e,{key:"labelList-implicit"})):null:null}function zoe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,g=Gr(r,Da).map(function(i,l){return J.cloneElement(i,{data:t,key:"labelList-".concat(l)})});if(!n)return g;var a=Loe(e.label,t);return[a].concat(Yoe(g))}Da.renderCallByParent=zoe;function Ms(e){"@babel/helpers - typeof";return Ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function tG(){return tG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tG.apply(this,arguments)}function TY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function LY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TY(Object(n),!0).forEach(function(r){Uoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uoe(e,t,n){return t=Poe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Poe(e){var t=Qoe(e,"string");return Ms(t)=="symbol"?t:t+""}function Qoe(e,t){if(Ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ooe=function(t,n){var r=Lr(n-t),g=Math.min(Math.abs(n-t),359.999);return r*g},oC=function(t){var n=t.cx,r=t.cy,g=t.radius,a=t.angle,i=t.sign,l=t.isExternal,s=t.cornerRadius,c=t.cornerIsExternal,C=s*(l?1:-1)+g,d=Math.asin(s/C)/Xd,A=c?a:a+i*d,f=Cn(n,r,C,A),b=Cn(n,r,g,A),p=c?a-i*d:a,h=Cn(n,r,C*Math.cos(d*Xd),p);return{center:f,circleTangency:b,lineTangency:h,theta:d}},M9=function(t){var n=t.cx,r=t.cy,g=t.innerRadius,a=t.outerRadius,i=t.startAngle,l=t.endAngle,s=Ooe(i,l),c=i+s,C=Cn(n,r,a,i),d=Cn(n,r,a,c),A="M ".concat(C.x,",").concat(C.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(s)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(g>0){var f=Cn(n,r,g,i),b=Cn(n,r,g,c);A+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(g,",").concat(g,`,0,
            `).concat(+(Math.abs(s)>180),",").concat(+(i<=c),`,
            `).concat(f.x,",").concat(f.y," Z")}else A+="L ".concat(n,",").concat(r," Z");return A},joe=function(t){var n=t.cx,r=t.cy,g=t.innerRadius,a=t.outerRadius,i=t.cornerRadius,l=t.forceCornerRadius,s=t.cornerIsExternal,c=t.startAngle,C=t.endAngle,d=Lr(C-c),A=oC({cx:n,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:s}),f=A.circleTangency,b=A.lineTangency,p=A.theta,h=oC({cx:n,cy:r,radius:a,angle:C,sign:-d,cornerRadius:i,cornerIsExternal:s}),G=h.circleTangency,v=h.lineTangency,S=h.theta,V=s?Math.abs(c-C):Math.abs(c-C)-p-S;if(V<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):M9({cx:n,cy:r,innerRadius:g,outerRadius:a,startAngle:c,endAngle:C});var Z="M ".concat(b.x,",").concat(b.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(d<0),",").concat(G.x,",").concat(G.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(g>0){var W=oC({cx:n,cy:r,radius:g,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),w=W.circleTangency,X=W.lineTangency,N=W.theta,R=oC({cx:n,cy:r,radius:g,angle:C,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),Y=R.circleTangency,K=R.lineTangency,E=R.theta,L=s?Math.abs(c-C):Math.abs(c-C)-N-E;if(L<0&&i===0)return"".concat(Z,"L").concat(n,",").concat(r,"Z");Z+="L".concat(K.x,",").concat(K.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(Y.x,",").concat(Y.y,`
      A`).concat(g,",").concat(g,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(X.x,",").concat(X.y,"Z")}else Z+="L".concat(n,",").concat(r,"Z");return Z},_oe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},D9=function(t){var n=LY(LY({},_oe),t),r=n.cx,g=n.cy,a=n.innerRadius,i=n.outerRadius,l=n.cornerRadius,s=n.forceCornerRadius,c=n.cornerIsExternal,C=n.startAngle,d=n.endAngle,A=n.className;if(i<a||C===d)return null;var f=Ve("recharts-sector",A),b=i-a,p=xi(l,b,0,!0),h;return p>0&&Math.abs(C-d)<360?h=joe({cx:r,cy:g,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,b/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:C,endAngle:d}):h=M9({cx:r,cy:g,innerRadius:a,outerRadius:i,startAngle:C,endAngle:d}),H.createElement("path",tG({},xe(n,!0),{className:f,d:h,role:"img"}))};function Ds(e){"@babel/helpers - typeof";return Ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function nG(){return nG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nG.apply(this,arguments)}function zY(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function UY(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zY(Object(n),!0).forEach(function(r){qoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zY(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qoe(e,t,n){return t=$oe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $oe(e){var t=ele(e,"string");return Ds(t)=="symbol"?t:t+""}function ele(e,t){if(Ds(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PY={curveBasisClosed:b6,curveBasisOpen:y6,curveBasis:h6,curveBumpX:a6,curveBumpY:i6,curveLinearClosed:Z6,curveLinear:qA,curveMonotoneX:G6,curveMonotoneY:B6,curveNatural:v6,curveStep:S6,curveStepAfter:V6,curveStepBefore:W6},lC=function(t){return t.x===+t.x&&t.y===+t.y},PI=function(t){return t.x},QI=function(t){return t.y},tle=function(t,n){if(Ye(t))return t;var r="curve".concat(jA(t));return(r==="curveMonotone"||r==="curveBump")&&n?PY["".concat(r).concat(n==="vertical"?"Y":"X")]:PY[r]||qA},nle=function(t){var n=t.type,r=n===void 0?"linear":n,g=t.points,a=g===void 0?[]:g,i=t.baseLine,l=t.layout,s=t.connectNulls,c=s===void 0?!1:s,C=tle(r,l),d=c?a.filter(function(p){return lC(p)}):a,A;if(Array.isArray(i)){var f=c?i.filter(function(p){return lC(p)}):i,b=d.map(function(p,h){return UY(UY({},p),{},{base:f[h]})});return l==="vertical"?A=$u().y(QI).x1(PI).x0(function(p){return p.base.x}):A=$u().x(PI).y1(QI).y0(function(p){return p.base.y}),A.defined(lC).curve(C),A(b)}return l==="vertical"&&ce(i)?A=$u().y(QI).x1(PI).x0(i):ce(i)?A=$u().x(PI).y1(QI).y0(i):A=UK().x(PI).y(QI),A.defined(lC).curve(C),A(d)},rG=function(t){var n=t.className,r=t.points,g=t.path,a=t.pathRef;if((!r||!r.length)&&!g)return null;var i=r&&r.length?nle(t):g;return H.createElement("path",nG({},xe(t,!1),ad(t),{className:Ve("recharts-curve",n),d:i,ref:a}))},rle=Object.getOwnPropertyNames,gle=Object.getOwnPropertySymbols,ale=Object.prototype.hasOwnProperty;function QY(e,t){return function(r,g,a){return e(r,g,a)&&t(r,g,a)}}function IC(e){return function(n,r,g){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,g);var a=g.cache,i=a.get(n),l=a.get(r);if(i&&l)return i===r&&l===n;a.set(n,r),a.set(r,n);var s=e(n,r,g);return a.delete(n),a.delete(r),s}}function OY(e){return rle(e).concat(gle(e))}var ile=Object.hasOwn||function(e,t){return ale.call(e,t)};function Oi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var ole="__v",lle="__o",Ile="_owner",jY=Object.getOwnPropertyDescriptor,_Y=Object.keys;function sle(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function cle(e,t){return Oi(e.getTime(),t.getTime())}function ule(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Cle(e,t){return e===t}function qY(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var g=new Array(r),a=e.entries(),i,l,s=0;(i=a.next())&&!i.done;){for(var c=t.entries(),C=!1,d=0;(l=c.next())&&!l.done;){if(g[d]){d++;continue}var A=i.value,f=l.value;if(n.equals(A[0],f[0],s,d,e,t,n)&&n.equals(A[1],f[1],A[0],f[0],e,t,n)){C=g[d]=!0;break}d++}if(!C)return!1;s++}return!0}var dle=Oi;function Ale(e,t,n){var r=_Y(e),g=r.length;if(_Y(t).length!==g)return!1;for(;g-- >0;)if(!T9(e,t,n,r[g]))return!1;return!0}function OI(e,t,n){var r=OY(e),g=r.length;if(OY(t).length!==g)return!1;for(var a,i,l;g-- >0;)if(a=r[g],!T9(e,t,n,a)||(i=jY(e,a),l=jY(t,a),(i||l)&&(!i||!l||i.configurable!==l.configurable||i.enumerable!==l.enumerable||i.writable!==l.writable)))return!1;return!0}function mle(e,t){return Oi(e.valueOf(),t.valueOf())}function fle(e,t){return e.source===t.source&&e.flags===t.flags}function $Y(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var g=new Array(r),a=e.values(),i,l;(i=a.next())&&!i.done;){for(var s=t.values(),c=!1,C=0;(l=s.next())&&!l.done;){if(!g[C]&&n.equals(i.value,l.value,i.value,l.value,e,t,n)){c=g[C]=!0;break}C++}if(!c)return!1}return!0}function ple(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function hle(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function T9(e,t,n,r){return(r===Ile||r===lle||r===ole)&&(e.$$typeof||t.$$typeof)?!0:ile(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var ble="[object Arguments]",yle="[object Boolean]",Zle="[object Date]",Gle="[object Error]",Ble="[object Map]",vle="[object Number]",Sle="[object Object]",Wle="[object RegExp]",Vle="[object Set]",wle="[object String]",Rle="[object URL]",kle=Array.isArray,e1=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,t1=Object.assign,Xle=Object.prototype.toString.call.bind(Object.prototype.toString);function Jle(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,g=e.areFunctionsEqual,a=e.areMapsEqual,i=e.areNumbersEqual,l=e.areObjectsEqual,s=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,C=e.areSetsEqual,d=e.areTypedArraysEqual,A=e.areUrlsEqual;return function(b,p,h){if(b===p)return!0;if(b==null||p==null)return!1;var G=typeof b;if(G!==typeof p)return!1;if(G!=="object")return G==="number"?i(b,p,h):G==="function"?g(b,p,h):!1;var v=b.constructor;if(v!==p.constructor)return!1;if(v===Object)return l(b,p,h);if(kle(b))return t(b,p,h);if(e1!=null&&e1(b))return d(b,p,h);if(v===Date)return n(b,p,h);if(v===RegExp)return c(b,p,h);if(v===Map)return a(b,p,h);if(v===Set)return C(b,p,h);var S=Xle(b);return S===Zle?n(b,p,h):S===Wle?c(b,p,h):S===Ble?a(b,p,h):S===Vle?C(b,p,h):S===Sle?typeof b.then!="function"&&typeof p.then!="function"&&l(b,p,h):S===Rle?A(b,p,h):S===Gle?r(b,p,h):S===ble?l(b,p,h):S===yle||S===vle||S===wle?s(b,p,h):!1}}function Yle(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,g={areArraysEqual:r?OI:sle,areDatesEqual:cle,areErrorsEqual:ule,areFunctionsEqual:Cle,areMapsEqual:r?QY(qY,OI):qY,areNumbersEqual:dle,areObjectsEqual:r?OI:Ale,arePrimitiveWrappersEqual:mle,areRegExpsEqual:fle,areSetsEqual:r?QY($Y,OI):$Y,areTypedArraysEqual:r?OI:ple,areUrlsEqual:hle};if(n&&(g=t1({},g,n(g))),t){var a=IC(g.areArraysEqual),i=IC(g.areMapsEqual),l=IC(g.areObjectsEqual),s=IC(g.areSetsEqual);g=t1({},g,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:l,areSetsEqual:s})}return g}function Hle(e){return function(t,n,r,g,a,i,l){return e(t,n,l)}}function Nle(e){var t=e.circular,n=e.comparator,r=e.createState,g=e.equals,a=e.strict;if(r)return function(s,c){var C=r(),d=C.cache,A=d===void 0?t?new WeakMap:void 0:d,f=C.meta;return n(s,c,{cache:A,equals:g,meta:f,strict:a})};if(t)return function(s,c){return n(s,c,{cache:new WeakMap,equals:g,meta:void 0,strict:a})};var i={cache:void 0,equals:g,meta:void 0,strict:a};return function(s,c){return n(s,c,i)}}var Fle=$a();$a({strict:!0});$a({circular:!0});$a({circular:!0,strict:!0});$a({createInternalComparator:function(){return Oi}});$a({strict:!0,createInternalComparator:function(){return Oi}});$a({circular:!0,createInternalComparator:function(){return Oi}});$a({circular:!0,createInternalComparator:function(){return Oi},strict:!0});function $a(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,g=e.createState,a=e.strict,i=a===void 0?!1:a,l=Yle(e),s=Jle(l),c=r?r(s):Hle(s);return Nle({circular:n,comparator:s,createState:g,equals:c,strict:i})}function Kle(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function n1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function g(a){n<0&&(n=a),a-n>t?(e(a),n=-1):Kle(g)};requestAnimationFrame(r)}function gG(e){"@babel/helpers - typeof";return gG=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gG(e)}function xle(e){return Tle(e)||Dle(e)||Mle(e)||Ele()}function Ele(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mle(e,t){if(e){if(typeof e=="string")return r1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dle(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tle(e){if(Array.isArray(e))return e}function Lle(){var e={},t=function(){return null},n=!1,r=function g(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var i=a,l=xle(i),s=l[0],c=l.slice(1);if(typeof s=="number"){n1(g.bind(null,c),s);return}g(s),n1(g.bind(null,c));return}gG(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Ts(e){"@babel/helpers - typeof";return Ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ts(e)}function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function a1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){L9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L9(e,t,n){return t=zle(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zle(e){var t=Ule(e,"string");return Ts(t)==="symbol"?t:String(t)}function Ule(e,t){if(Ts(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ts(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ple=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,g){return r.filter(function(a){return g.includes(a)})})},Qle=function(t){return t},Ole=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Is=function(t,n){return Object.keys(n).reduce(function(r,g){return a1(a1({},r),{},L9({},g,t(g,n[g])))},{})},i1=function(t,n,r){return t.map(function(g){return"".concat(Ole(g)," ").concat(n,"ms ").concat(r)}).join(",")};function jle(e,t){return $le(e)||qle(e,t)||z9(e,t)||_le()}function _le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qle(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function $le(e){if(Array.isArray(e))return e}function eIe(e){return rIe(e)||nIe(e)||z9(e)||tIe()}function tIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z9(e,t){if(e){if(typeof e=="string")return aG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aG(e,t)}}function nIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rIe(e){if(Array.isArray(e))return aG(e)}function aG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Yd=1e-4,U9=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},P9=function(t,n){return t.map(function(r,g){return r*Math.pow(n,g)}).reduce(function(r,g){return r+g})},o1=function(t,n){return function(r){var g=U9(t,n);return P9(g,r)}},gIe=function(t,n){return function(r){var g=U9(t,n),a=[].concat(eIe(g.map(function(i,l){return i*l}).slice(1)),[0]);return P9(a,r)}},l1=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var g=n[0],a=n[1],i=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":g=0,a=0,i=1,l=1;break;case"ease":g=.25,a=.1,i=.25,l=1;break;case"ease-in":g=.42,a=0,i=1,l=1;break;case"ease-out":g=.42,a=0,i=.58,l=1;break;case"ease-in-out":g=0,a=0,i=.58,l=1;break;default:{var s=n[0].split("(");if(s[0]==="cubic-bezier"&&s[1].split(")")[0].split(",").length===4){var c=s[1].split(")")[0].split(",").map(function(h){return parseFloat(h)}),C=jle(c,4);g=C[0],a=C[1],i=C[2],l=C[3]}}}var d=o1(g,i),A=o1(a,l),f=gIe(g,i),b=function(G){return G>1?1:G<0?0:G},p=function(G){for(var v=G>1?1:G,S=v,V=0;V<8;++V){var Z=d(S)-v,W=f(S);if(Math.abs(Z-v)<Yd||W<Yd)return A(S);S=b(S-Z/W)}return A(S)};return p.isStepper=!1,p},aIe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,g=t.damping,a=g===void 0?8:g,i=t.dt,l=i===void 0?17:i,s=function(C,d,A){var f=-(C-d)*r,b=A*a,p=A+(f-b)*l/1e3,h=A*l/1e3+C;return Math.abs(h-d)<Yd&&Math.abs(p)<Yd?[d,0]:[h,p]};return s.isStepper=!0,s.dt=l,s},iIe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var g=n[0];if(typeof g=="string")switch(g){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return l1(g);case"spring":return aIe();default:if(g.split("(")[0]==="cubic-bezier")return l1(g)}return typeof g=="function"?g:null};function Ls(e){"@babel/helpers - typeof";return Ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ls(e)}function I1(e){return IIe(e)||lIe(e)||Q9(e)||oIe()}function oIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IIe(e){if(Array.isArray(e))return oG(e)}function s1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s1(Object(n),!0).forEach(function(r){iG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iG(e,t,n){return t=sIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sIe(e){var t=cIe(e,"string");return Ls(t)==="symbol"?t:String(t)}function cIe(e,t){if(Ls(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ls(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uIe(e,t){return AIe(e)||dIe(e,t)||Q9(e,t)||CIe()}function CIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q9(e,t){if(e){if(typeof e=="string")return oG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oG(e,t)}}function oG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function AIe(e){if(Array.isArray(e))return e}var Hd=function(t,n,r){return t+(n-t)*r},lG=function(t){var n=t.from,r=t.to;return n!==r},mIe=function e(t,n,r){var g=Is(function(a,i){if(lG(i)){var l=t(i.from,i.to,i.velocity),s=uIe(l,2),c=s[0],C=s[1];return cn(cn({},i),{},{from:c,velocity:C})}return i},n);return r<1?Is(function(a,i){return lG(i)?cn(cn({},i),{},{velocity:Hd(i.velocity,g[a].velocity,r),from:Hd(i.from,g[a].from,r)}):i},n):e(t,g,r-1)};const fIe=function(e,t,n,r,g){var a=Ple(e,t),i=a.reduce(function(h,G){return cn(cn({},h),{},iG({},G,[e[G],t[G]]))},{}),l=a.reduce(function(h,G){return cn(cn({},h),{},iG({},G,{from:e[G],velocity:0,to:t[G]}))},{}),s=-1,c,C,d=function(){return null},A=function(){return Is(function(G,v){return v.from},l)},f=function(){return!Object.values(l).filter(lG).length},b=function(G){c||(c=G);var v=G-c,S=v/n.dt;l=mIe(n,l,S),g(cn(cn(cn({},e),t),A())),c=G,f()||(s=requestAnimationFrame(d))},p=function(G){C||(C=G);var v=(G-C)/r,S=Is(function(Z,W){return Hd.apply(void 0,I1(W).concat([n(v)]))},i);if(g(cn(cn(cn({},e),t),S)),v<1)s=requestAnimationFrame(d);else{var V=Is(function(Z,W){return Hd.apply(void 0,I1(W).concat([n(1)]))},i);g(cn(cn(cn({},e),t),V))}};return d=n.isStepper?b:p,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(s)}}};function Al(e){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Al(e)}var pIe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function hIe(e,t){if(e==null)return{};var n=bIe(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bIe(e,t){if(e==null)return{};var n={},r=Object.keys(e),g,a;for(a=0;a<r.length;a++)g=r[a],!(t.indexOf(g)>=0)&&(n[g]=e[g]);return n}function p0(e){return BIe(e)||GIe(e)||ZIe(e)||yIe()}function yIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(e,t){if(e){if(typeof e=="string")return IG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IG(e,t)}}function GIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BIe(e){if(Array.isArray(e))return IG(e)}function IG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rs(e,t,n){return t=O9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SIe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O9(r.key),r)}}function WIe(e,t,n){return SIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O9(e){var t=VIe(e,"string");return Al(t)==="symbol"?t:String(t)}function VIe(e,t){if(Al(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Al(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sG(e,t)}function sG(e,t){return sG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},sG(e,t)}function RIe(e){var t=kIe();return function(){var r=Nd(e),g;if(t){var a=Nd(this).constructor;g=Reflect.construct(r,arguments,a)}else g=r.apply(this,arguments);return cG(this,g)}}function cG(e,t){if(t&&(Al(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uG(e)}function uG(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kIe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nd(e){return Nd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nd(e)}var oa=function(e){wIe(n,e);var t=RIe(n);function n(r,g){var a;vIe(this,n),a=t.call(this,r,g);var i=a.props,l=i.isActive,s=i.attributeName,c=i.from,C=i.to,d=i.steps,A=i.children,f=i.duration;if(a.handleStyleChange=a.handleStyleChange.bind(uG(a)),a.changeStyle=a.changeStyle.bind(uG(a)),!l||f<=0)return a.state={style:{}},typeof A=="function"&&(a.state={style:C}),cG(a);if(d&&d.length)a.state={style:d[0].style};else if(c){if(typeof A=="function")return a.state={style:c},cG(a);a.state={style:s?rs({},s,c):c}}else a.state={style:{}};return a}return WIe(n,[{key:"componentDidMount",value:function(){var g=this.props,a=g.isActive,i=g.canBegin;this.mounted=!0,!(!a||!i)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(g){var a=this.props,i=a.isActive,l=a.canBegin,s=a.attributeName,c=a.shouldReAnimate,C=a.to,d=a.from,A=this.state.style;if(l){if(!i){var f={style:s?rs({},s,C):C};this.state&&A&&(s&&A[s]!==C||!s&&A!==C)&&this.setState(f);return}if(!(Fle(g.to,C)&&g.canBegin&&g.isActive)){var b=!g.canBegin||!g.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=b||c?d:g.to;if(this.state&&A){var h={style:s?rs({},s,p):p};(s&&A[s]!==p||!s&&A!==p)&&this.setState(h)}this.runAnimation(xr(xr({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var g=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),g&&g()}},{key:"handleStyleChange",value:function(g){this.changeStyle(g)}},{key:"changeStyle",value:function(g){this.mounted&&this.setState({style:g})}},{key:"runJSAnimation",value:function(g){var a=this,i=g.from,l=g.to,s=g.duration,c=g.easing,C=g.begin,d=g.onAnimationEnd,A=g.onAnimationStart,f=fIe(i,l,iIe(c),s,this.changeStyle),b=function(){a.stopJSAnimation=f()};this.manager.start([A,C,b,s,d])}},{key:"runStepAnimation",value:function(g){var a=this,i=g.steps,l=g.begin,s=g.onAnimationStart,c=i[0],C=c.style,d=c.duration,A=d===void 0?0:d,f=function(p,h,G){if(G===0)return p;var v=h.duration,S=h.easing,V=S===void 0?"ease":S,Z=h.style,W=h.properties,w=h.onAnimationEnd,X=G>0?i[G-1]:h,N=W||Object.keys(Z);if(typeof V=="function"||V==="spring")return[].concat(p0(p),[a.runJSAnimation.bind(a,{from:X.style,to:Z,duration:v,easing:V}),v]);var R=i1(N,v,V),Y=xr(xr(xr({},X.style),Z),{},{transition:R});return[].concat(p0(p),[Y,v,w]).filter(Qle)};return this.manager.start([s].concat(p0(i.reduce(f,[C,Math.max(A,l)])),[g.onAnimationEnd]))}},{key:"runAnimation",value:function(g){this.manager||(this.manager=Lle());var a=g.begin,i=g.duration,l=g.attributeName,s=g.to,c=g.easing,C=g.onAnimationStart,d=g.onAnimationEnd,A=g.steps,f=g.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(g);return}if(A.length>1){this.runStepAnimation(g);return}var p=l?rs({},l,s):s,h=i1(Object.keys(p),i,c);b.start([C,a,xr(xr({},p),{},{transition:h}),i,d])}},{key:"render",value:function(){var g=this.props,a=g.children;g.begin;var i=g.duration;g.attributeName,g.easing;var l=g.isActive;g.steps,g.from,g.to,g.canBegin,g.onAnimationEnd,g.shouldReAnimate,g.onAnimationReStart;var s=hIe(g,pIe),c=J.Children.count(a),C=this.state.style;if(typeof a=="function")return a(C);if(!l||c===0||i<=0)return a;var d=function(f){var b=f.props,p=b.style,h=p===void 0?{}:p,G=b.className,v=J.cloneElement(f,xr(xr({},s),{},{style:xr(xr({},h),C),className:G}));return v};return c===1?d(J.Children.only(a)):H.createElement("div",null,J.Children.map(a,function(A){return d(A)}))}}]),n}(J.PureComponent);oa.displayName="Animate";oa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};oa.propTypes={from:qe.oneOfType([qe.object,qe.string]),to:qe.oneOfType([qe.object,qe.string]),attributeName:qe.string,duration:qe.number,begin:qe.number,easing:qe.oneOfType([qe.string,qe.func]),steps:qe.arrayOf(qe.shape({duration:qe.number.isRequired,style:qe.object.isRequired,easing:qe.oneOfType([qe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),qe.func]),properties:qe.arrayOf("string"),onAnimationEnd:qe.func})),children:qe.oneOfType([qe.node,qe.func]),isActive:qe.bool,canBegin:qe.bool,onAnimationEnd:qe.func,shouldReAnimate:qe.bool,onAnimationStart:qe.func,onAnimationReStart:qe.func};function zs(e){"@babel/helpers - typeof";return zs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zs(e)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fd.apply(this,arguments)}function XIe(e,t){return NIe(e)||HIe(e,t)||YIe(e,t)||JIe()}function JIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YIe(e,t){if(e){if(typeof e=="string")return u1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u1(e,t)}}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HIe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function NIe(e){if(Array.isArray(e))return e}function C1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C1(Object(n),!0).forEach(function(r){FIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FIe(e,t,n){return t=KIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KIe(e){var t=xIe(e,"string");return zs(t)=="symbol"?t:t+""}function xIe(e,t){if(zs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var A1=function(t,n,r,g,a){var i=Math.min(Math.abs(r)/2,Math.abs(g)/2),l=g>=0?1:-1,s=r>=0?1:-1,c=g>=0&&r>=0||g<0&&r<0?1:0,C;if(i>0&&a instanceof Array){for(var d=[0,0,0,0],A=0,f=4;A<f;A++)d[A]=a[A]>i?i:a[A];C="M".concat(t,",").concat(n+l*d[0]),d[0]>0&&(C+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(t+s*d[0],",").concat(n)),C+="L ".concat(t+r-s*d[1],",").concat(n),d[1]>0&&(C+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(t+r,",").concat(n+l*d[1])),C+="L ".concat(t+r,",").concat(n+g-l*d[2]),d[2]>0&&(C+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(t+r-s*d[2],",").concat(n+g)),C+="L ".concat(t+s*d[3],",").concat(n+g),d[3]>0&&(C+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(n+g-l*d[3])),C+="Z"}else if(i>0&&a===+a&&a>0){var b=Math.min(i,a);C="M ".concat(t,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+s*b,",").concat(n,`
            L `).concat(t+r-s*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+r,",").concat(n+l*b,`
            L `).concat(t+r,",").concat(n+g-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t+r-s*b,",").concat(n+g,`
            L `).concat(t+s*b,",").concat(n+g,`
            A `).concat(b,",").concat(b,",0,0,").concat(c,",").concat(t,",").concat(n+g-l*b," Z")}else C="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(g," h ").concat(-r," Z");return C},EIe=function(t,n){if(!t||!n)return!1;var r=t.x,g=t.y,a=n.x,i=n.y,l=n.width,s=n.height;if(Math.abs(l)>0&&Math.abs(s)>0){var c=Math.min(a,a+l),C=Math.max(a,a+l),d=Math.min(i,i+s),A=Math.max(i,i+s);return r>=c&&r<=C&&g>=d&&g<=A}return!1},MIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Yv=function(t){var n=d1(d1({},MIe),t),r=J.useRef(),g=J.useState(-1),a=XIe(g,2),i=a[0],l=a[1];J.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var V=r.current.getTotalLength();V&&l(V)}catch{}},[]);var s=n.x,c=n.y,C=n.width,d=n.height,A=n.radius,f=n.className,b=n.animationEasing,p=n.animationDuration,h=n.animationBegin,G=n.isAnimationActive,v=n.isUpdateAnimationActive;if(s!==+s||c!==+c||C!==+C||d!==+d||C===0||d===0)return null;var S=Ve("recharts-rectangle",f);return v?H.createElement(oa,{canBegin:i>0,from:{width:C,height:d,x:s,y:c},to:{width:C,height:d,x:s,y:c},duration:p,animationEasing:b,isActive:v},function(V){var Z=V.width,W=V.height,w=V.x,X=V.y;return H.createElement(oa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,isActive:G,easing:b},H.createElement("path",Fd({},xe(n,!0),{className:S,d:A1(w,X,Z,W,A),ref:r})))}):H.createElement("path",Fd({},xe(n,!0),{className:S,d:A1(s,c,C,d,A)}))};function CG(){return CG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CG.apply(this,arguments)}var Hv=function(t){var n=t.cx,r=t.cy,g=t.r,a=t.className,i=Ve("recharts-dot",a);return n===+n&&r===+r&&g===+g?H.createElement("circle",CG({},xe(t,!1),ad(t),{className:i,cx:n,cy:r,r:g})):null};function Us(e){"@babel/helpers - typeof";return Us=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Us(e)}var DIe=["x","y","top","left","width","height","className"];function dG(){return dG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dG.apply(this,arguments)}function m1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function TIe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(n),!0).forEach(function(r){LIe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LIe(e,t,n){return t=zIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zIe(e){var t=UIe(e,"string");return Us(t)=="symbol"?t:t+""}function UIe(e,t){if(Us(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PIe(e,t){if(e==null)return{};var n=QIe(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function QIe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var OIe=function(t,n,r,g,a,i){return"M".concat(t,",").concat(a,"v").concat(g,"M").concat(i,",").concat(n,"h").concat(r)},jIe=function(t){var n=t.x,r=n===void 0?0:n,g=t.y,a=g===void 0?0:g,i=t.top,l=i===void 0?0:i,s=t.left,c=s===void 0?0:s,C=t.width,d=C===void 0?0:C,A=t.height,f=A===void 0?0:A,b=t.className,p=PIe(t,DIe),h=TIe({x:r,y:a,top:l,left:c,width:d,height:f},p);return!ce(r)||!ce(a)||!ce(d)||!ce(f)||!ce(l)||!ce(c)?null:H.createElement("path",dG({},xe(h,!0),{className:Ve("recharts-cross",b),d:OIe(r,a,d,f,l,c)}))},h0,f1;function _Ie(){if(f1)return h0;f1=1;var e=Ax(),t=e(Object.getPrototypeOf,Object);return h0=t,h0}var b0,p1;function qIe(){if(p1)return b0;p1=1;var e=la(),t=_Ie(),n=Ia(),r="[object Object]",g=Function.prototype,a=Object.prototype,i=g.toString,l=a.hasOwnProperty,s=i.call(Object);function c(C){if(!n(C)||e(C)!=r)return!1;var d=t(C);if(d===null)return!0;var A=l.call(d,"constructor")&&d.constructor;return typeof A=="function"&&A instanceof A&&i.call(A)==s}return b0=c,b0}var $Ie=qIe();const ese=lt($Ie);var y0,h1;function tse(){if(h1)return y0;h1=1;var e=la(),t=Ia(),n="[object Boolean]";function r(g){return g===!0||g===!1||t(g)&&e(g)==n}return y0=r,y0}var nse=tse();const rse=lt(nse);function Ps(e){"@babel/helpers - typeof";return Ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function Kd(){return Kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kd.apply(this,arguments)}function gse(e,t){return lse(e)||ose(e,t)||ise(e,t)||ase()}function ase(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ise(e,t){if(e){if(typeof e=="string")return b1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b1(e,t)}}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ose(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function lse(e){if(Array.isArray(e))return e}function y1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function Z1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y1(Object(n),!0).forEach(function(r){Ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ise(e,t,n){return t=sse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sse(e){var t=cse(e,"string");return Ps(t)=="symbol"?t:t+""}function cse(e,t){if(Ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G1=function(t,n,r,g,a){var i=r-g,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-i/2,",").concat(n+a),l+="L ".concat(t+r-i/2-g,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},use={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cse=function(t){var n=Z1(Z1({},use),t),r=J.useRef(),g=J.useState(-1),a=gse(g,2),i=a[0],l=a[1];J.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&l(S)}catch{}},[]);var s=n.x,c=n.y,C=n.upperWidth,d=n.lowerWidth,A=n.height,f=n.className,b=n.animationEasing,p=n.animationDuration,h=n.animationBegin,G=n.isUpdateAnimationActive;if(s!==+s||c!==+c||C!==+C||d!==+d||A!==+A||C===0&&d===0||A===0)return null;var v=Ve("recharts-trapezoid",f);return G?H.createElement(oa,{canBegin:i>0,from:{upperWidth:0,lowerWidth:0,height:A,x:s,y:c},to:{upperWidth:C,lowerWidth:d,height:A,x:s,y:c},duration:p,animationEasing:b,isActive:G},function(S){var V=S.upperWidth,Z=S.lowerWidth,W=S.height,w=S.x,X=S.y;return H.createElement(oa,{canBegin:i>0,from:"0px ".concat(i===-1?1:i,"px"),to:"".concat(i,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:p,easing:b},H.createElement("path",Kd({},xe(n,!0),{className:v,d:G1(w,X,V,Z,W),ref:r})))}):H.createElement("g",null,H.createElement("path",Kd({},xe(n,!0),{className:v,d:G1(s,c,C,d,A)})))},dse=["option","shapeType","propTransformer","activeClassName","isActive"];function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function Ase(e,t){if(e==null)return{};var n=mse(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function mse(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function B1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B1(Object(n),!0).forEach(function(r){fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fse(e,t,n){return t=pse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pse(e){var t=hse(e,"string");return Qs(t)=="symbol"?t:t+""}function hse(e,t){if(Qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bse(e,t){return xd(xd({},t),e)}function yse(e,t){return e==="symbols"}function v1(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return H.createElement(Yv,n);case"trapezoid":return H.createElement(Cse,n);case"sector":return H.createElement(D9,n);case"symbols":if(yse(t))return H.createElement($B,n);break;default:return null}}function Zse(e){return J.isValidElement(e)?e.props:e}function Gse(e){var t=e.option,n=e.shapeType,r=e.propTransformer,g=r===void 0?bse:r,a=e.activeClassName,i=a===void 0?"recharts-active-shape":a,l=e.isActive,s=Ase(e,dse),c;if(J.isValidElement(t))c=J.cloneElement(t,xd(xd({},s),Zse(t)));else if(Ye(t))c=t(s);else if(ese(t)&&!rse(t)){var C=g(t,s);c=H.createElement(v1,{shapeType:n,elementProps:C})}else{var d=s;c=H.createElement(v1,{shapeType:n,elementProps:d})}return l?H.createElement(Kt,{className:i},c):c}function dm(e,t){return t!=null&&"trapezoids"in e.props}function Am(e,t){return t!=null&&"sectors"in e.props}function Os(e,t){return t!=null&&"points"in e.props}function Bse(e,t){var n,r,g=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return g&&a}function vse(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Sse(e,t){var n=e.x===t.x,r=e.y===t.y,g=e.z===t.z;return n&&r&&g}function Wse(e,t){var n;return dm(e,t)?n=Bse:Am(e,t)?n=vse:Os(e,t)&&(n=Sse),n}function Vse(e,t){var n;return dm(e,t)?n="trapezoids":Am(e,t)?n="sectors":Os(e,t)&&(n="points"),n}function wse(e,t){if(dm(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Am(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Os(e,t)?t.payload:{}}function Rse(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,g=Vse(n,t),a=wse(n,t),i=r.filter(function(s,c){var C=cm(a,s),d=n.props[g].filter(function(b){var p=Wse(n,t);return p(b,t)}),A=n.props[g].indexOf(d[d.length-1]),f=c===A;return C&&f}),l=r.indexOf(i[i.length-1]);return l}var Z0,S1;function kse(){if(S1)return Z0;S1=1;var e=Math.ceil,t=Math.max;function n(r,g,a,i){for(var l=-1,s=t(e((g-r)/(a||1)),0),c=Array(s);s--;)c[i?s:++l]=r,r+=a;return c}return Z0=n,Z0}var G0,W1;function j9(){if(W1)return G0;W1=1;var e=kx(),t=1/0,n=17976931348623157e292;function r(g){if(!g)return g===0?g:0;if(g=e(g),g===t||g===-1/0){var a=g<0?-1:1;return a*n}return g===g?g:0}return G0=r,G0}var B0,V1;function Xse(){if(V1)return B0;V1=1;var e=kse(),t=nm(),n=j9();function r(g){return function(a,i,l){return l&&typeof l!="number"&&t(a,i,l)&&(i=l=void 0),a=n(a),i===void 0?(i=a,a=0):i=n(i),l=l===void 0?a<i?1:-1:n(l),e(a,i,l,g)}}return B0=r,B0}var v0,w1;function Jse(){if(w1)return v0;w1=1;var e=Xse(),t=e();return v0=t,v0}var Yse=Jse();const Ed=lt(Yse);function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function R1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function k1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R1(Object(n),!0).forEach(function(r){_9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _9(e,t,n){return t=Hse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hse(e){var t=Nse(e,"string");return js(t)=="symbol"?t:t+""}function Nse(e,t){if(js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fse=["Webkit","Moz","O","ms"],Kse=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),g=Fse.reduce(function(a,i){return k1(k1({},a),{},_9({},i+r,n))},{});return g[t]=n,g};function ml(e){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ml(e)}function Md(){return Md=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Md.apply(this,arguments)}function X1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function S0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X1(Object(n),!0).forEach(function(r){jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$9(r.key),r)}}function Ese(e,t,n){return J1(e.prototype,t),J1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mse(e,t,n){return t=Dd(t),Dse(e,q9()?Reflect.construct(t,n,Dd(e).constructor):t.apply(e,n))}function Dse(e,t){if(t&&(ml(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(e)}function Tse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q9=function(){return!!e})()}function Dd(e){return Dd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dd(e)}function Lse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AG(e,t)}function AG(e,t){return AG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},AG(e,t)}function jn(e,t,n){return t=$9(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $9(e){var t=zse(e,"string");return ml(t)=="symbol"?t:t+""}function zse(e,t){if(ml(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Use=function(t){var n=t.data,r=t.startIndex,g=t.endIndex,a=t.x,i=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var s=n.length,c=os().domain(Ed(0,s)).range([a,a+i-l]),C=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(g),scale:c,scaleValues:C}},Y1=function(t){return t.changedTouches&&!!t.changedTouches.length},fl=function(e){function t(n){var r;return xse(this,t),r=Mse(this,t,[n]),jn(r,"handleDrag",function(g){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(g):r.state.isSlideMoving&&r.handleSlideDrag(g)}),jn(r,"handleTouchMove",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&r.handleDrag(g.changedTouches[0])}),jn(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var g=r.props,a=g.endIndex,i=g.onDragEnd,l=g.startIndex;i==null||i({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),jn(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),jn(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),jn(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),jn(r,"handleSlideDragStart",function(g){var a=Y1(g)?g.changedTouches[0]:g;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Lse(t,e),Ese(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var g=r.startX,a=r.endX,i=this.state.scaleValues,l=this.props,s=l.gap,c=l.data,C=c.length-1,d=Math.min(g,a),A=Math.max(g,a),f=t.getIndexInRange(i,d),b=t.getIndexInRange(i,A);return{startIndex:f-f%s,endIndex:b===C?C:b-b%s}}},{key:"getTextOfTick",value:function(r){var g=this.props,a=g.data,i=g.tickFormatter,l=g.dataKey,s=ir(a[r],l,r);return Ye(i)?i(s,r):s}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var g=this.state,a=g.slideMoveStartX,i=g.startX,l=g.endX,s=this.props,c=s.x,C=s.width,d=s.travellerWidth,A=s.startIndex,f=s.endIndex,b=s.onChange,p=r.pageX-a;p>0?p=Math.min(p,c+C-d-l,c+C-d-i):p<0&&(p=Math.max(p,c-i,c-l));var h=this.getIndex({startX:i+p,endX:l+p});(h.startIndex!==A||h.endIndex!==f)&&b&&b(h),this.setState({startX:i+p,endX:l+p,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,g){var a=Y1(g)?g.changedTouches[0]:g;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var g=this.state,a=g.brushMoveStartX,i=g.movingTravellerId,l=g.endX,s=g.startX,c=this.state[i],C=this.props,d=C.x,A=C.width,f=C.travellerWidth,b=C.onChange,p=C.gap,h=C.data,G={startX:this.state.startX,endX:this.state.endX},v=r.pageX-a;v>0?v=Math.min(v,d+A-f-c):v<0&&(v=Math.max(v,d-c)),G[i]=c+v;var S=this.getIndex(G),V=S.startIndex,Z=S.endIndex,W=function(){var X=h.length-1;return i==="startX"&&(l>s?V%p===0:Z%p===0)||l<s&&Z===X||i==="endX"&&(l>s?Z%p===0:V%p===0)||l>s&&Z===X};this.setState(jn(jn({},i,c+v),"brushMoveStartX",r.pageX),function(){b&&W()&&b(S)})}},{key:"handleTravellerMoveKeyboard",value:function(r,g){var a=this,i=this.state,l=i.scaleValues,s=i.startX,c=i.endX,C=this.state[g],d=l.indexOf(C);if(d!==-1){var A=d+r;if(!(A===-1||A>=l.length)){var f=l[A];g==="startX"&&f>=c||g==="endX"&&f<=s||this.setState(jn({},g,f),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,g=r.x,a=r.y,i=r.width,l=r.height,s=r.fill,c=r.stroke;return H.createElement("rect",{stroke:c,fill:s,x:g,y:a,width:i,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,g=r.x,a=r.y,i=r.width,l=r.height,s=r.data,c=r.children,C=r.padding,d=J.Children.only(c);return d?H.cloneElement(d,{x:g,y:a,width:i,height:l,margin:C,compact:!0,data:s}):null}},{key:"renderTravellerLayer",value:function(r,g){var a,i,l=this,s=this.props,c=s.y,C=s.travellerWidth,d=s.height,A=s.traveller,f=s.ariaLabel,b=s.data,p=s.startIndex,h=s.endIndex,G=Math.max(r,this.props.x),v=S0(S0({},xe(this.props,!1)),{},{x:G,y:c,width:C,height:d}),S=f||"Min value: ".concat((a=b[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((i=b[h])===null||i===void 0?void 0:i.name);return H.createElement(Kt,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[g],onTouchStart:this.travellerDragStartHandlers[g],onKeyDown:function(Z){["ArrowLeft","ArrowRight"].includes(Z.key)&&(Z.preventDefault(),Z.stopPropagation(),l.handleTravellerMoveKeyboard(Z.key==="ArrowRight"?1:-1,g))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(A,v))}},{key:"renderSlide",value:function(r,g){var a=this.props,i=a.y,l=a.height,s=a.stroke,c=a.travellerWidth,C=Math.min(r,g)+c,d=Math.max(Math.abs(g-r)-c,0);return H.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:s,fillOpacity:.2,x:C,y:i,width:d,height:l})}},{key:"renderText",value:function(){var r=this.props,g=r.startIndex,a=r.endIndex,i=r.y,l=r.height,s=r.travellerWidth,c=r.stroke,C=this.state,d=C.startX,A=C.endX,f=5,b={pointerEvents:"none",fill:c};return H.createElement(Kt,{className:"recharts-brush-texts"},H.createElement(fd,Md({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,A)-f,y:i+l/2},b),this.getTextOfTick(g)),H.createElement(fd,Md({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,A)+s+f,y:i+l/2},b),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,g=r.data,a=r.className,i=r.children,l=r.x,s=r.y,c=r.width,C=r.height,d=r.alwaysShowText,A=this.state,f=A.startX,b=A.endX,p=A.isTextActive,h=A.isSlideMoving,G=A.isTravellerMoving,v=A.isTravellerFocused;if(!g||!g.length||!ce(l)||!ce(s)||!ce(c)||!ce(C)||c<=0||C<=0)return null;var S=Ve("recharts-brush",a),V=H.Children.count(i)===1,Z=Kse("userSelect","none");return H.createElement(Kt,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:Z},this.renderBackground(),V&&this.renderPanorama(),this.renderSlide(f,b),this.renderTravellerLayer(f,"startX"),this.renderTravellerLayer(b,"endX"),(p||h||G||v||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var g=r.x,a=r.y,i=r.width,l=r.height,s=r.stroke,c=Math.floor(a+l/2)-1;return H.createElement(H.Fragment,null,H.createElement("rect",{x:g,y:a,width:i,height:l,fill:s,stroke:"none"}),H.createElement("line",{x1:g+1,y1:c,x2:g+i-1,y2:c,fill:"none",stroke:"#fff"}),H.createElement("line",{x1:g+1,y1:c+2,x2:g+i-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,g){var a;return H.isValidElement(r)?a=H.cloneElement(r,g):Ye(r)?a=r(g):a=t.renderDefaultTraveller(g),a}},{key:"getDerivedStateFromProps",value:function(r,g){var a=r.data,i=r.width,l=r.x,s=r.travellerWidth,c=r.updateId,C=r.startIndex,d=r.endIndex;if(a!==g.prevData||c!==g.prevUpdateId)return S0({prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:l,prevWidth:i},a&&a.length?Use({data:a,width:i,x:l,travellerWidth:s,startIndex:C,endIndex:d}):{scale:null,scaleValues:null});if(g.scale&&(i!==g.prevWidth||l!==g.prevX||s!==g.prevTravellerWidth)){g.scale.range([l,l+i-s]);var A=g.scale.domain().map(function(f){return g.scale(f)});return{prevData:a,prevTravellerWidth:s,prevUpdateId:c,prevX:l,prevWidth:i,startX:g.scale(r.startIndex),endX:g.scale(r.endIndex),scaleValues:A}}return null}},{key:"getIndexInRange",value:function(r,g){for(var a=r.length,i=0,l=a-1;l-i>1;){var s=Math.floor((i+l)/2);r[s]>g?l=s:i=s}return g>=r[l]?l:i}}])}(J.PureComponent);jn(fl,"displayName","Brush");jn(fl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var W0,H1;function Pse(){if(H1)return W0;H1=1;var e=iv();function t(n,r){var g;return e(n,function(a,i,l){return g=r(a,i,l),!g}),!!g}return W0=t,W0}var V0,N1;function Qse(){if(N1)return V0;N1=1;var e=lx(),t=ja(),n=Pse(),r=Ln(),g=nm();function a(i,l,s){var c=r(i)?e:n;return s&&g(i,l,s)&&(l=void 0),c(i,t(l,3))}return V0=a,V0}var Ose=Qse();const jse=lt(Ose);var Gg=function(t,n){var r=t.alwaysShow,g=t.ifOverflow;return r&&(g="extendDomain"),g===n},w0,F1;function _se(){if(F1)return w0;F1=1;var e=Sx();function t(n,r,g){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:g,writable:!0}):n[r]=g}return w0=t,w0}var R0,K1;function qse(){if(K1)return R0;K1=1;var e=_se(),t=Bx(),n=ja();function r(g,a){var i={};return a=n(a,3),t(g,function(l,s,c){e(i,s,a(l,s,c))}),i}return R0=r,R0}var $se=qse();const ece=lt($se);var k0,x1;function tce(){if(x1)return k0;x1=1;function e(t,n){for(var r=-1,g=t==null?0:t.length;++r<g;)if(!n(t[r],r,t))return!1;return!0}return k0=e,k0}var X0,E1;function nce(){if(E1)return X0;E1=1;var e=iv();function t(n,r){var g=!0;return e(n,function(a,i,l){return g=!!r(a,i,l),g}),g}return X0=t,X0}var J0,M1;function rce(){if(M1)return J0;M1=1;var e=tce(),t=nce(),n=ja(),r=Ln(),g=nm();function a(i,l,s){var c=r(i)?e:t;return s&&g(i,l,s)&&(l=void 0),c(i,n(l,3))}return J0=a,J0}var gce=rce();const e5=lt(gce);var ace=["x","y"];function _s(e){"@babel/helpers - typeof";return _s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(e)}function mG(){return mG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mG.apply(this,arguments)}function D1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function jI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D1(Object(n),!0).forEach(function(r){ice(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ice(e,t,n){return t=oce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oce(e){var t=lce(e,"string");return _s(t)=="symbol"?t:t+""}function lce(e,t){if(_s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ice(e,t){if(e==null)return{};var n=sce(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sce(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function cce(e,t){var n=e.x,r=e.y,g=Ice(e,ace),a="".concat(n),i=parseInt(a,10),l="".concat(r),s=parseInt(l,10),c="".concat(t.height||g.height),C=parseInt(c,10),d="".concat(t.width||g.width),A=parseInt(d,10);return jI(jI(jI(jI(jI({},t),g),i?{x:i}:{}),s?{y:s}:{}),{},{height:C,width:A,name:t.name,radius:t.radius})}function T1(e){return H.createElement(Gse,mG({shapeType:"rectangle",propTransformer:cce,activeClassName:"recharts-active-bar"},e))}var uce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,g){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,g):(a||Mi(),n)}},Cce=["value","background"],t5;function pl(e){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pl(e)}function dce(e,t){if(e==null)return{};var n=Ace(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ace(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Td(){return Td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Td.apply(this,arguments)}function L1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function Lt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L1(Object(n),!0).forEach(function(r){xa(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r5(r.key),r)}}function fce(e,t,n){return z1(e.prototype,t),z1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pce(e,t,n){return t=Ld(t),hce(e,n5()?Reflect.construct(t,n,Ld(e).constructor):t.apply(e,n))}function hce(e,t){if(t&&(pl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bce(e)}function bce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!e})()}function Ld(e){return Ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ld(e)}function yce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fG(e,t)}function fG(e,t){return fG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},fG(e,t)}function xa(e,t,n){return t=r5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r5(e){var t=Zce(e,"string");return pl(t)=="symbol"?t:t+""}function Zce(e,t){if(pl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rc=function(e){function t(){var n;mce(this,t);for(var r=arguments.length,g=new Array(r),a=0;a<r;a++)g[a]=arguments[a];return n=pce(this,t,[].concat(g)),xa(n,"state",{isAnimationFinished:!1}),xa(n,"id",Gc("recharts-bar-")),xa(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),i&&i()}),xa(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),i&&i()}),n}return yce(t,e),fce(t,[{key:"renderRectanglesStatically",value:function(r){var g=this,a=this.props,i=a.shape,l=a.dataKey,s=a.activeIndex,c=a.activeBar,C=xe(this.props,!1);return r&&r.map(function(d,A){var f=A===s,b=f?c:i,p=Lt(Lt(Lt({},C),d),{},{isActive:f,option:b,index:A,dataKey:l,onAnimationStart:g.handleAnimationStart,onAnimationEnd:g.handleAnimationEnd});return H.createElement(Kt,Td({className:"recharts-bar-rectangle"},id(g.props,d,A),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value)}),H.createElement(T1,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,g=this.props,a=g.data,i=g.layout,l=g.isAnimationActive,s=g.animationBegin,c=g.animationDuration,C=g.animationEasing,d=g.animationId,A=this.state.prevData;return H.createElement(oa,{begin:s,duration:c,isActive:l,easing:C,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(f){var b=f.t,p=a.map(function(h,G){var v=A&&A[G];if(v){var S=Dr(v.x,h.x),V=Dr(v.y,h.y),Z=Dr(v.width,h.width),W=Dr(v.height,h.height);return Lt(Lt({},h),{},{x:S(b),y:V(b),width:Z(b),height:W(b)})}if(i==="horizontal"){var w=Dr(0,h.height),X=w(b);return Lt(Lt({},h),{},{y:h.y+h.height-X,height:X})}var N=Dr(0,h.width),R=N(b);return Lt(Lt({},h),{},{width:R})});return H.createElement(Kt,null,r.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var r=this.props,g=r.data,a=r.isAnimationActive,i=this.state.prevData;return a&&g&&g.length&&(!i||!cm(i,g))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(g)}},{key:"renderBackground",value:function(){var r=this,g=this.props,a=g.data,i=g.dataKey,l=g.activeIndex,s=xe(this.props.background,!1);return a.map(function(c,C){c.value;var d=c.background,A=dce(c,Cce);if(!d)return null;var f=Lt(Lt(Lt(Lt(Lt({},A),{},{fill:"#eee"},d),s),id(r.props,c,C)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:i,index:C,className:"recharts-bar-background-rectangle"});return H.createElement(T1,Td({key:"background-bar-".concat(C),option:r.props.background,isActive:C===l},f))})}},{key:"renderErrorBar",value:function(r,g){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.data,l=a.xAxis,s=a.yAxis,c=a.layout,C=a.children,d=Gr(C,wc);if(!d)return null;var A=c==="vertical"?i[0].height/2:i[0].width/2,f=function(h,G){var v=Array.isArray(h.value)?h.value[1]:h.value;return{x:h.x,y:h.y,value:v,errorVal:ir(h,G)}},b={clipPath:r?"url(#clipPath-".concat(g,")"):null};return H.createElement(Kt,b,d.map(function(p){return H.cloneElement(p,{key:"error-bar-".concat(g,"-").concat(p.props.dataKey),data:i,xAxis:l,yAxis:s,layout:c,offset:A,dataPointFormatter:f})}))}},{key:"render",value:function(){var r=this.props,g=r.hide,a=r.data,i=r.className,l=r.xAxis,s=r.yAxis,c=r.left,C=r.top,d=r.width,A=r.height,f=r.isAnimationActive,b=r.background,p=r.id;if(g||!a||!a.length)return null;var h=this.state.isAnimationFinished,G=Ve("recharts-bar",i),v=l&&l.allowDataOverflow,S=s&&s.allowDataOverflow,V=v||S,Z=Ke(p)?this.id:p;return H.createElement(Kt,{className:G},v||S?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(Z)},H.createElement("rect",{x:v?c:c-d/2,y:S?C:C-A/2,width:v?d:d*2,height:S?A:A*2}))):null,H.createElement(Kt,{className:"recharts-bar-rectangles",clipPath:V?"url(#clipPath-".concat(Z,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(V,Z),(!f||h)&&Da.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,g){return r.animationId!==g.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:g.curData}:r.data!==g.curData?{curData:r.data}:null}}])}(J.PureComponent);t5=Rc;xa(Rc,"displayName","Bar");xa(Rc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ea.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});xa(Rc,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,g=e.bandSize,a=e.xAxis,i=e.yAxis,l=e.xAxisTicks,s=e.yAxisTicks,c=e.stackedData,C=e.dataStartIndex,d=e.displayedData,A=e.offset,f=zie(r,n);if(!f)return null;var b=t.layout,p=n.type.defaultProps,h=p!==void 0?Lt(Lt({},p),n.props):n.props,G=h.dataKey,v=h.children,S=h.minPointSize,V=b==="horizontal"?i:a,Z=c?V.scale.domain():null,W=$ie({numericAxis:V}),w=Gr(v,Jx),X=d.map(function(N,R){var Y,K,E,L,z,U;c?Y=Uie(c[C+R],Z):(Y=ir(N,G),Array.isArray(Y)||(Y=[W,Y]));var O=uce(S,t5.defaultProps.minPointSize)(Y[1],R);if(b==="horizontal"){var D,_=[i.scale(Y[0]),i.scale(Y[1])],te=_[0],x=_[1];K=kY({axis:a,ticks:l,bandSize:g,offset:f.offset,entry:N,index:R}),E=(D=x??te)!==null&&D!==void 0?D:void 0,L=f.size;var P=te-x;if(z=Number.isNaN(P)?0:P,U={x:K,y:i.y,width:L,height:i.height},Math.abs(O)>0&&Math.abs(z)<Math.abs(O)){var se=Lr(z||O)*(Math.abs(O)-Math.abs(z));E-=se,z+=se}}else{var he=[a.scale(Y[0]),a.scale(Y[1])],Ge=he[0],Re=he[1];if(K=Ge,E=kY({axis:i,ticks:s,bandSize:g,offset:f.offset,entry:N,index:R}),L=Re-Ge,z=f.size,U={x:a.x,y:E,width:a.width,height:z},Math.abs(O)>0&&Math.abs(L)<Math.abs(O)){var Ee=Lr(L||O)*(Math.abs(O)-Math.abs(L));L+=Ee}}return Lt(Lt(Lt({},N),{},{x:K,y:E,width:L,height:z,value:c?Y:Y[1],payload:N,background:U},w[R]&&w[R].props),{},{tooltipPayload:[x9(n,N)],tooltipPosition:{x:K+L/2,y:E+z/2}})});return Lt({data:X,layout:b},A)});function qs(e){"@babel/helpers - typeof";return qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qs(e)}function Gce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g5(r.key),r)}}function Bce(e,t,n){return U1(e.prototype,t),U1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function P1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(n),!0).forEach(function(r){mm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mm(e,t,n){return t=g5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g5(e){var t=vce(e,"string");return qs(t)=="symbol"?t:t+""}function vce(e,t){if(qs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sce=function(t,n,r,g,a){var i=t.width,l=t.height,s=t.layout,c=t.children,C=Object.keys(n),d={left:r.left,leftMirror:r.left,right:i-r.right,rightMirror:i-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},A=!!_n(c,Rc);return C.reduce(function(f,b){var p=n[b],h=p.orientation,G=p.domain,v=p.padding,S=v===void 0?{}:v,V=p.mirror,Z=p.reversed,W="".concat(h).concat(V?"Mirror":""),w,X,N,R,Y;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var K=G[1]-G[0],E=1/0,L=p.categoricalDomain.sort();if(L.forEach(function(he,Ge){Ge>0&&(E=Math.min((he||0)-(L[Ge-1]||0),E))}),Number.isFinite(E)){var z=E/K,U=p.layout==="vertical"?r.height:r.width;if(p.padding==="gap"&&(w=z*U/2),p.padding==="no-gap"){var O=xi(t.barCategoryGap,z*U),D=z*U/2;w=D-O-(D-O)/U*O}}}g==="xAxis"?X=[r.left+(S.left||0)+(w||0),r.left+r.width-(S.right||0)-(w||0)]:g==="yAxis"?X=s==="horizontal"?[r.top+r.height-(S.bottom||0),r.top+(S.top||0)]:[r.top+(S.top||0)+(w||0),r.top+r.height-(S.bottom||0)-(w||0)]:X=p.range,Z&&(X=[X[1],X[0]]);var _=Tie(p,a,A),te=_.scale,x=_.realScaleType;te.domain(G).range(X),Lie(te);var P=qie(te,Er(Er({},p),{},{realScaleType:x}));g==="xAxis"?(Y=h==="top"&&!V||h==="bottom"&&V,N=r.left,R=d[W]-Y*p.height):g==="yAxis"&&(Y=h==="left"&&!V||h==="right"&&V,N=d[W]-Y*p.width,R=r.top);var se=Er(Er(Er({},p),P),{},{realScaleType:x,x:N,y:R,scale:te,width:g==="xAxis"?r.width:p.width,height:g==="yAxis"?r.height:p.height});return se.bandSize=kd(se,P),!p.hide&&g==="xAxis"?d[W]+=(Y?-1:1)*se.height:p.hide||(d[W]+=(Y?-1:1)*se.width),Er(Er({},f),{},mm({},b,se))},{})},a5=function(t,n){var r=t.x,g=t.y,a=n.x,i=n.y;return{x:Math.min(r,a),y:Math.min(g,i),width:Math.abs(a-r),height:Math.abs(i-g)}},Wce=function(t){var n=t.x1,r=t.y1,g=t.x2,a=t.y2;return a5({x:n,y:r},{x:g,y:a})},i5=function(){function e(t){Gce(this,e),this.scale=t}return Bce(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+i}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(g){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),g=r[0],a=r[r.length-1];return g<=a?n>=g&&n<=a:n>=a&&n<=g}}],[{key:"create",value:function(n){return new e(n)}}])}();mm(i5,"EPS",1e-4);var Nv=function(t){var n=Object.keys(t).reduce(function(r,g){return Er(Er({},r),{},mm({},g,i5.create(t[g])))},{});return Er(Er({},n),{},{apply:function(g){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=a.bandAware,l=a.position;return ece(g,function(s,c){return n[c].apply(s,{bandAware:i,position:l})})},isInRange:function(g){return e5(g,function(a,i){return n[i].isInRange(a)})}})};function Vce(e){return(e%180+180)%180}var wce=function(t){var n=t.width,r=t.height,g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Vce(g),i=a*Math.PI/180,l=Math.atan(r/n),s=i>l&&i<Math.PI-l?r/Math.sin(i):n/Math.cos(i);return Math.abs(s)},Y0,Q1;function Rce(){if(Q1)return Y0;Q1=1;var e=ja(),t=Bc(),n=em();function r(g){return function(a,i,l){var s=Object(a);if(!t(a)){var c=e(i,3);a=n(a),i=function(d){return c(s[d],d,s)}}var C=g(a,i,l);return C>-1?s[c?a[C]:C]:void 0}}return Y0=r,Y0}var H0,O1;function kce(){if(O1)return H0;O1=1;var e=j9();function t(n){var r=e(n),g=r%1;return r===r?g?r-g:r:0}return H0=t,H0}var N0,j1;function Xce(){if(j1)return N0;j1=1;var e=hx(),t=ja(),n=kce(),r=Math.max;function g(a,i,l){var s=a==null?0:a.length;if(!s)return-1;var c=l==null?0:n(l);return c<0&&(c=r(s+c,0)),e(a,t(i,3),c)}return N0=g,N0}var F0,_1;function Jce(){if(_1)return F0;_1=1;var e=Rce(),t=Xce(),n=e(t);return F0=n,F0}var Yce=Jce();const Hce=lt(Yce);var Nce=HK();const Fce=lt(Nce);var Kce=Fce(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Fv=J.createContext(void 0),Kv=J.createContext(void 0),o5=J.createContext(void 0),l5=J.createContext({}),I5=J.createContext(void 0),s5=J.createContext(0),c5=J.createContext(0),q1=function(t){var n=t.state,r=n.xAxisMap,g=n.yAxisMap,a=n.offset,i=t.clipPathId,l=t.children,s=t.width,c=t.height,C=Kce(a);return H.createElement(Fv.Provider,{value:r},H.createElement(Kv.Provider,{value:g},H.createElement(l5.Provider,{value:a},H.createElement(o5.Provider,{value:C},H.createElement(I5.Provider,{value:i},H.createElement(s5.Provider,{value:c},H.createElement(c5.Provider,{value:s},l)))))))},xce=function(){return J.useContext(I5)},u5=function(t){var n=J.useContext(Fv);n==null&&Mi();var r=n[t];return r==null&&Mi(),r},Ece=function(){var t=J.useContext(Fv);return Ha(t)},Mce=function(){var t=J.useContext(Kv),n=Hce(t,function(r){return e5(r.domain,Number.isFinite)});return n||Ha(t)},C5=function(t){var n=J.useContext(Kv);n==null&&Mi();var r=n[t];return r==null&&Mi(),r},Dce=function(){var t=J.useContext(o5);return t},Tce=function(){return J.useContext(l5)},xv=function(){return J.useContext(c5)},Ev=function(){return J.useContext(s5)};function hl(e){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hl(e)}function Lce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,A5(r.key),r)}}function Uce(e,t,n){return zce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pce(e,t,n){return t=zd(t),Qce(e,d5()?Reflect.construct(t,n||[],zd(e).constructor):t.apply(e,n))}function Qce(e,t){if(t&&(hl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oce(e)}function Oce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!e})()}function zd(e){return zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zd(e)}function jce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pG(e,t)}function pG(e,t){return pG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},pG(e,t)}function $1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function eH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(n),!0).forEach(function(r){Mv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mv(e,t,n){return t=A5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A5(e){var t=_ce(e,"string");return hl(t)=="symbol"?t:t+""}function _ce(e,t){if(hl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qce(e,t){return nue(e)||tue(e,t)||eue(e,t)||$ce()}function $ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eue(e,t){if(e){if(typeof e=="string")return tH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tH(e,t)}}function tH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function nue(e){if(Array.isArray(e))return e}function hG(){return hG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hG.apply(this,arguments)}var rue=function(t,n){var r;return H.isValidElement(t)?r=H.cloneElement(t,n):Ye(t)?r=t(n):r=H.createElement("line",hG({},n,{className:"recharts-reference-line-line"})),r},gue=function(t,n,r,g,a,i,l,s,c){var C=a.x,d=a.y,A=a.width,f=a.height;if(r){var b=c.y,p=t.y.apply(b,{position:i});if(Gg(c,"discard")&&!t.y.isInRange(p))return null;var h=[{x:C+A,y:p},{x:C,y:p}];return s==="left"?h.reverse():h}if(n){var G=c.x,v=t.x.apply(G,{position:i});if(Gg(c,"discard")&&!t.x.isInRange(v))return null;var S=[{x:v,y:d+f},{x:v,y:d}];return l==="top"?S.reverse():S}if(g){var V=c.segment,Z=V.map(function(W){return t.apply(W,{position:i})});return Gg(c,"discard")&&jse(Z,function(W){return!t.isInRange(W)})?null:Z}return null};function aue(e){var t=e.x,n=e.y,r=e.segment,g=e.xAxisId,a=e.yAxisId,i=e.shape,l=e.className,s=e.alwaysShow,c=xce(),C=u5(g),d=C5(a),A=Dce();if(!c||!A)return null;$g(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Nv({x:C.scale,y:d.scale}),b=jt(t),p=jt(n),h=r&&r.length===2,G=gue(f,b,p,h,A,e.position,C.orientation,d.orientation,e);if(!G)return null;var v=qce(G,2),S=v[0],V=S.x,Z=S.y,W=v[1],w=W.x,X=W.y,N=Gg(e,"hidden")?"url(#".concat(c,")"):void 0,R=eH(eH({clipPath:N},xe(e,!0)),{},{x1:V,y1:Z,x2:w,y2:X});return H.createElement(Kt,{className:Ve("recharts-reference-line",l)},rue(i,R),bn.renderCallByParent(e,Wce({x1:V,y1:Z,x2:w,y2:X})))}var Dv=function(e){function t(){return Lce(this,t),Pce(this,t,arguments)}return jce(t,e),Uce(t,[{key:"render",value:function(){return H.createElement(aue,this.props)}}])}(H.Component);Mv(Dv,"displayName","ReferenceLine");Mv(Dv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function bG(){return bG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bG.apply(this,arguments)}function bl(e){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bl(e)}function nH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function rH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nH(Object(n),!0).forEach(function(r){fm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f5(r.key),r)}}function lue(e,t,n){return oue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iue(e,t,n){return t=Ud(t),sue(e,m5()?Reflect.construct(t,n||[],Ud(e).constructor):t.apply(e,n))}function sue(e,t){if(t&&(bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cue(e)}function cue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m5=function(){return!!e})()}function Ud(e){return Ud=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ud(e)}function uue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yG(e,t)}function yG(e,t){return yG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},yG(e,t)}function fm(e,t,n){return t=f5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f5(e){var t=Cue(e,"string");return bl(t)=="symbol"?t:t+""}function Cue(e,t){if(bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var due=function(t){var n=t.x,r=t.y,g=t.xAxis,a=t.yAxis,i=Nv({x:g.scale,y:a.scale}),l=i.apply({x:n,y:r},{bandAware:!0});return Gg(t,"discard")&&!i.isInRange(l)?null:l},pm=function(e){function t(){return iue(this,t),Iue(this,t,arguments)}return uue(t,e),lue(t,[{key:"render",value:function(){var r=this.props,g=r.x,a=r.y,i=r.r,l=r.alwaysShow,s=r.clipPathId,c=jt(g),C=jt(a);if($g(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!C)return null;var d=due(this.props);if(!d)return null;var A=d.x,f=d.y,b=this.props,p=b.shape,h=b.className,G=Gg(this.props,"hidden")?"url(#".concat(s,")"):void 0,v=rH(rH({clipPath:G},xe(this.props,!0)),{},{cx:A,cy:f});return H.createElement(Kt,{className:Ve("recharts-reference-dot",h)},t.renderDot(p,v),bn.renderCallByParent(this.props,{x:A-i,y:f-i,width:2*i,height:2*i}))}}])}(H.Component);fm(pm,"displayName","ReferenceDot");fm(pm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fm(pm,"renderDot",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):Ye(e)?n=e(t):n=H.createElement(Hv,bG({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function ZG(){return ZG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZG.apply(this,arguments)}function yl(e){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(e)}function gH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function aH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gH(Object(n),!0).forEach(function(r){hm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,h5(r.key),r)}}function fue(e,t,n){return mue(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pue(e,t,n){return t=Pd(t),hue(e,p5()?Reflect.construct(t,n||[],Pd(e).constructor):t.apply(e,n))}function hue(e,t){if(t&&(yl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bue(e)}function bue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p5=function(){return!!e})()}function Pd(e){return Pd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pd(e)}function yue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GG(e,t)}function GG(e,t){return GG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},GG(e,t)}function hm(e,t,n){return t=h5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h5(e){var t=Zue(e,"string");return yl(t)=="symbol"?t:t+""}function Zue(e,t){if(yl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gue=function(t,n,r,g,a){var i=a.x1,l=a.x2,s=a.y1,c=a.y2,C=a.xAxis,d=a.yAxis;if(!C||!d)return null;var A=Nv({x:C.scale,y:d.scale}),f={x:t?A.x.apply(i,{position:"start"}):A.x.rangeMin,y:r?A.y.apply(s,{position:"start"}):A.y.rangeMin},b={x:n?A.x.apply(l,{position:"end"}):A.x.rangeMax,y:g?A.y.apply(c,{position:"end"}):A.y.rangeMax};return Gg(a,"discard")&&(!A.isInRange(f)||!A.isInRange(b))?null:a5(f,b)},bm=function(e){function t(){return Aue(this,t),pue(this,t,arguments)}return yue(t,e),fue(t,[{key:"render",value:function(){var r=this.props,g=r.x1,a=r.x2,i=r.y1,l=r.y2,s=r.className,c=r.alwaysShow,C=r.clipPathId;$g(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jt(g),A=jt(a),f=jt(i),b=jt(l),p=this.props.shape;if(!d&&!A&&!f&&!b&&!p)return null;var h=Gue(d,A,f,b,this.props);if(!h&&!p)return null;var G=Gg(this.props,"hidden")?"url(#".concat(C,")"):void 0;return H.createElement(Kt,{className:Ve("recharts-reference-area",s)},t.renderRect(p,aH(aH({clipPath:G},xe(this.props,!0)),h)),bn.renderCallByParent(this.props,h))}}])}(H.Component);hm(bm,"displayName","ReferenceArea");hm(bm,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});hm(bm,"renderRect",function(e,t){var n;return H.isValidElement(e)?n=H.cloneElement(e,t):Ye(e)?n=e(t):n=H.createElement(Yv,ZG({},t,{className:"recharts-reference-area-rect"})),n});function b5(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],g=0;g<e.length;g+=t)r.push(e[g]);return r}function Bue(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return wce(r,n)}function vue(e,t,n){var r=n==="width",g=e.x,a=e.y,i=e.width,l=e.height;return t===1?{start:r?g:a,end:r?g+i:a+l}:{start:r?g+i:a+l,end:r?g:a}}function Qd(e,t,n,r,g){if(e*t<e*r||e*t>e*g)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-g)<=0}function Sue(e,t){return b5(e,t+1)}function Wue(e,t,n,r,g){for(var a=(r||[]).slice(),i=t.start,l=t.end,s=0,c=1,C=i,d=function(){var b=r==null?void 0:r[s];if(b===void 0)return{v:b5(r,c)};var p=s,h,G=function(){return h===void 0&&(h=n(b,p)),h},v=b.coordinate,S=s===0||Qd(e,v,G,C,l);S||(s=0,C=i,c+=1),S&&(C=v+e*(G()/2+g),s+=c)},A;c<=a.length;)if(A=d(),A)return A.v;return[]}function $s(e){"@babel/helpers - typeof";return $s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(e)}function iH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iH(Object(n),!0).forEach(function(r){Vue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vue(e,t,n){return t=wue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wue(e){var t=Rue(e,"string");return $s(t)=="symbol"?t:t+""}function Rue(e,t){if($s(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kue(e,t,n,r,g){for(var a=(r||[]).slice(),i=a.length,l=t.start,s=t.end,c=function(A){var f=a[A],b,p=function(){return b===void 0&&(b=n(f,A)),b};if(A===i-1){var h=e*(f.coordinate+e*p()/2-s);a[A]=f=hn(hn({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate})}else a[A]=f=hn(hn({},f),{},{tickCoord:f.coordinate});var G=Qd(e,f.tickCoord,p,l,s);G&&(s=f.tickCoord-e*(p()/2+g),a[A]=hn(hn({},f),{},{isShow:!0}))},C=i-1;C>=0;C--)c(C);return a}function Xue(e,t,n,r,g,a){var i=(r||[]).slice(),l=i.length,s=t.start,c=t.end;if(a){var C=r[l-1],d=n(C,l-1),A=e*(C.coordinate+e*d/2-c);i[l-1]=C=hn(hn({},C),{},{tickCoord:A>0?C.coordinate-A*e:C.coordinate});var f=Qd(e,C.tickCoord,function(){return d},s,c);f&&(c=C.tickCoord-e*(d/2+g),i[l-1]=hn(hn({},C),{},{isShow:!0}))}for(var b=a?l-1:l,p=function(v){var S=i[v],V,Z=function(){return V===void 0&&(V=n(S,v)),V};if(v===0){var W=e*(S.coordinate-e*Z()/2-s);i[v]=S=hn(hn({},S),{},{tickCoord:W<0?S.coordinate-W*e:S.coordinate})}else i[v]=S=hn(hn({},S),{},{tickCoord:S.coordinate});var w=Qd(e,S.tickCoord,Z,s,c);w&&(s=S.tickCoord+e*(Z()/2+g),i[v]=hn(hn({},S),{},{isShow:!0}))},h=0;h<b;h++)p(h);return i}function Tv(e,t,n){var r=e.tick,g=e.ticks,a=e.viewBox,i=e.minTickGap,l=e.orientation,s=e.interval,c=e.tickFormatter,C=e.unit,d=e.angle;if(!g||!g.length||!r)return[];if(ce(s)||ea.isSsr)return Sue(g,typeof s=="number"&&ce(s)?s:0);var A=[],f=l==="top"||l==="bottom"?"width":"height",b=C&&f==="width"?is(C,{fontSize:t,letterSpacing:n}):{width:0,height:0},p=function(S,V){var Z=Ye(c)?c(S.value,V):S.value;return f==="width"?Bue(is(Z,{fontSize:t,letterSpacing:n}),b,d):is(Z,{fontSize:t,letterSpacing:n})[f]},h=g.length>=2?Lr(g[1].coordinate-g[0].coordinate):1,G=vue(a,h,f);return s==="equidistantPreserveStart"?Wue(h,G,p,g,i):(s==="preserveStart"||s==="preserveStartEnd"?A=Xue(h,G,p,g,i,s==="preserveStartEnd"):A=kue(h,G,p,g,i),A.filter(function(v){return v.isShow}))}var Jue=["viewBox"],Yue=["viewBox"],Hue=["ticks"];function Zl(e){"@babel/helpers - typeof";return Zl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zl(e)}function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(this,arguments)}function oH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oH(Object(n),!0).forEach(function(r){Lv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function K0(e,t){if(e==null)return{};var n=Nue(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Nue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Fue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z5(r.key),r)}}function Kue(e,t,n){return lH(e.prototype,t),lH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xue(e,t,n){return t=Od(t),Eue(e,y5()?Reflect.construct(t,n,Od(e).constructor):t.apply(e,n))}function Eue(e,t){if(t&&(Zl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mue(e)}function Mue(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y5=function(){return!!e})()}function Od(e){return Od=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Od(e)}function Due(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BG(e,t)}function BG(e,t){return BG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},BG(e,t)}function Lv(e,t,n){return t=Z5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z5(e){var t=Tue(e,"string");return Zl(t)=="symbol"?t:t+""}function Tue(e,t){if(Zl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zl=function(e){function t(n){var r;return Fue(this,t),r=xue(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return Due(t,e),Kue(t,[{key:"shouldComponentUpdate",value:function(r,g){var a=r.viewBox,i=K0(r,Jue),l=this.props,s=l.viewBox,c=K0(l,Yue);return!Lo(a,s)||!Lo(i,c)||!Lo(g,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var g=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];g&&this.setState({fontSize:window.getComputedStyle(g).fontSize,letterSpacing:window.getComputedStyle(g).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var g=this.props,a=g.x,i=g.y,l=g.width,s=g.height,c=g.orientation,C=g.tickSize,d=g.mirror,A=g.tickMargin,f,b,p,h,G,v,S=d?-1:1,V=r.tickSize||C,Z=ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":f=b=r.coordinate,h=i+ +!d*s,p=h-S*V,v=p-S*A,G=Z;break;case"left":p=h=r.coordinate,b=a+ +!d*l,f=b-S*V,G=f-S*A,v=Z;break;case"right":p=h=r.coordinate,b=a+ +d*l,f=b+S*V,G=f+S*A,v=Z;break;default:f=b=r.coordinate,h=i+ +d*s,p=h+S*V,v=p+S*A,G=Z;break}return{line:{x1:f,y1:p,x2:b,y2:h},tick:{x:G,y:v}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,g=r.orientation,a=r.mirror,i;switch(g){case"left":i=a?"start":"end";break;case"right":i=a?"end":"start";break;default:i="middle";break}return i}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,g=r.orientation,a=r.mirror,i="end";switch(g){case"left":case"right":i="middle";break;case"top":i=a?"start":"end";break;default:i=a?"end":"start";break}return i}},{key:"renderAxisLine",value:function(){var r=this.props,g=r.x,a=r.y,i=r.width,l=r.height,s=r.orientation,c=r.mirror,C=r.axisLine,d=Sn(Sn(Sn({},xe(this.props,!1)),xe(C,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var A=+(s==="top"&&!c||s==="bottom"&&c);d=Sn(Sn({},d),{},{x1:g,y1:a+A*l,x2:g+i,y2:a+A*l})}else{var f=+(s==="left"&&!c||s==="right"&&c);d=Sn(Sn({},d),{},{x1:g+f*i,y1:a,x2:g+f*i,y2:a+l})}return H.createElement("line",No({},d,{className:Ve("recharts-cartesian-axis-line",Zr(C,"className"))}))}},{key:"renderTicks",value:function(r,g,a){var i=this,l=this.props,s=l.tickLine,c=l.stroke,C=l.tick,d=l.tickFormatter,A=l.unit,f=Tv(Sn(Sn({},this.props),{},{ticks:r}),g,a),b=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),h=xe(this.props,!1),G=xe(C,!1),v=Sn(Sn({},h),{},{fill:"none"},xe(s,!1)),S=f.map(function(V,Z){var W=i.getTickLineCoord(V),w=W.line,X=W.tick,N=Sn(Sn(Sn(Sn({textAnchor:b,verticalAnchor:p},h),{},{stroke:"none",fill:c},G),X),{},{index:Z,payload:V,visibleTicksCount:f.length,tickFormatter:d});return H.createElement(Kt,No({className:"recharts-cartesian-axis-tick",key:"tick-".concat(V.value,"-").concat(V.coordinate,"-").concat(V.tickCoord)},id(i.props,V,Z)),s&&H.createElement("line",No({},v,w,{className:Ve("recharts-cartesian-axis-tick-line",Zr(s,"className"))})),C&&t.renderTickItem(C,N,"".concat(Ye(d)?d(V.value,Z):V.value).concat(A||"")))});return H.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var r=this,g=this.props,a=g.axisLine,i=g.width,l=g.height,s=g.ticksGenerator,c=g.className,C=g.hide;if(C)return null;var d=this.props,A=d.ticks,f=K0(d,Hue),b=A;return Ye(s)&&(b=A&&A.length>0?s(this.props):s(f)),i<=0||l<=0||!b||!b.length?null:H.createElement(Kt,{className:Ve("recharts-cartesian-axis",c),ref:function(h){r.layerReference=h}},a&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),bn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,g,a){var i;return H.isValidElement(r)?i=H.cloneElement(r,g):Ye(r)?i=r(g):i=H.createElement(fd,No({},g,{className:"recharts-cartesian-axis-tick-value"}),a),i}}])}(J.Component);Lv(zl,"displayName","CartesianAxis");Lv(zl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lue=["x1","y1","x2","y2","key"],zue=["offset"];function Di(e){"@babel/helpers - typeof";return Di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Di(e)}function IH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IH(Object(n),!0).forEach(function(r){Uue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uue(e,t,n){return t=Pue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pue(e){var t=Que(e,"string");return Di(t)=="symbol"?t:t+""}function Que(e,t){if(Di(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Di(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bi(){return Bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bi.apply(this,arguments)}function sH(e,t){if(e==null)return{};var n=Oue(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oue(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var jue=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,g=t.x,a=t.y,i=t.width,l=t.height,s=t.ry;return H.createElement("rect",{x:g,y:a,ry:s,width:i,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function G5(e,t){var n;if(H.isValidElement(e))n=H.cloneElement(e,t);else if(Ye(e))n=e(t);else{var r=t.x1,g=t.y1,a=t.x2,i=t.y2,l=t.key,s=sH(t,Lue),c=xe(s,!1);c.offset;var C=sH(c,zue);n=H.createElement("line",Bi({},C,{x1:r,y1:g,x2:a,y2:i,fill:"none",key:l}))}return n}function _ue(e){var t=e.x,n=e.width,r=e.horizontal,g=r===void 0?!0:r,a=e.horizontalPoints;if(!g||!a||!a.length)return null;var i=a.map(function(l,s){var c=yn(yn({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(s),index:s});return G5(g,c)});return H.createElement("g",{className:"recharts-cartesian-grid-horizontal"},i)}function que(e){var t=e.y,n=e.height,r=e.vertical,g=r===void 0?!0:r,a=e.verticalPoints;if(!g||!a||!a.length)return null;var i=a.map(function(l,s){var c=yn(yn({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(s),index:s});return G5(g,c)});return H.createElement("g",{className:"recharts-cartesian-grid-vertical"},i)}function $ue(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,g=e.y,a=e.width,i=e.height,l=e.horizontalPoints,s=e.horizontal,c=s===void 0?!0:s;if(!c||!t||!t.length)return null;var C=l.map(function(A){return Math.round(A+g-g)}).sort(function(A,f){return A-f});g!==C[0]&&C.unshift(0);var d=C.map(function(A,f){var b=!C[f+1],p=b?g+i-A:C[f+1]-A;if(p<=0)return null;var h=f%t.length;return H.createElement("rect",{key:"react-".concat(f),y:A,x:r,height:p,width:a,stroke:"none",fill:t[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function eCe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,g=e.fillOpacity,a=e.x,i=e.y,l=e.width,s=e.height,c=e.verticalPoints;if(!n||!r||!r.length)return null;var C=c.map(function(A){return Math.round(A+a-a)}).sort(function(A,f){return A-f});a!==C[0]&&C.unshift(0);var d=C.map(function(A,f){var b=!C[f+1],p=b?a+l-A:C[f+1]-A;if(p<=0)return null;var h=f%r.length;return H.createElement("rect",{key:"react-".concat(f),x:A,y:i,width:p,height:s,stroke:"none",fill:r[h],fillOpacity:g,className:"recharts-cartesian-grid-bg"})});return H.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var tCe=function(t,n){var r=t.xAxis,g=t.width,a=t.height,i=t.offset;return F9(Tv(yn(yn(yn({},zl.defaultProps),r),{},{ticks:zg(r,!0),viewBox:{x:0,y:0,width:g,height:a}})),i.left,i.left+i.width,n)},nCe=function(t,n){var r=t.yAxis,g=t.width,a=t.height,i=t.offset;return F9(Tv(yn(yn(yn({},zl.defaultProps),r),{},{ticks:zg(r,!0),viewBox:{x:0,y:0,width:g,height:a}})),i.top,i.top+i.height,n)},ko={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function rCe(e){var t,n,r,g,a,i,l=xv(),s=Ev(),c=Tce(),C=yn(yn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ko.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:ko.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:ko.horizontal,horizontalFill:(g=e.horizontalFill)!==null&&g!==void 0?g:ko.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:ko.vertical,verticalFill:(i=e.verticalFill)!==null&&i!==void 0?i:ko.verticalFill,x:ce(e.x)?e.x:c.left,y:ce(e.y)?e.y:c.top,width:ce(e.width)?e.width:c.width,height:ce(e.height)?e.height:c.height}),d=C.x,A=C.y,f=C.width,b=C.height,p=C.syncWithTicks,h=C.horizontalValues,G=C.verticalValues,v=Ece(),S=Mce();if(!ce(f)||f<=0||!ce(b)||b<=0||!ce(d)||d!==+d||!ce(A)||A!==+A)return null;var V=C.verticalCoordinatesGenerator||tCe,Z=C.horizontalCoordinatesGenerator||nCe,W=C.horizontalPoints,w=C.verticalPoints;if((!W||!W.length)&&Ye(Z)){var X=h&&h.length,N=Z({yAxis:S?yn(yn({},S),{},{ticks:X?h:S.ticks}):void 0,width:l,height:s,offset:c},X?!0:p);$g(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Di(N),"]")),Array.isArray(N)&&(W=N)}if((!w||!w.length)&&Ye(V)){var R=G&&G.length,Y=V({xAxis:v?yn(yn({},v),{},{ticks:R?G:v.ticks}):void 0,width:l,height:s,offset:c},R?!0:p);$g(Array.isArray(Y),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Di(Y),"]")),Array.isArray(Y)&&(w=Y)}return H.createElement("g",{className:"recharts-cartesian-grid"},H.createElement(jue,{fill:C.fill,fillOpacity:C.fillOpacity,x:C.x,y:C.y,width:C.width,height:C.height,ry:C.ry}),H.createElement(_ue,Bi({},C,{offset:c,horizontalPoints:W,xAxis:v,yAxis:S})),H.createElement(que,Bi({},C,{offset:c,verticalPoints:w,xAxis:v,yAxis:S})),H.createElement($ue,Bi({},C,{horizontalPoints:W})),H.createElement(eCe,Bi({},C,{verticalPoints:w})))}rCe.displayName="CartesianGrid";var gCe=["type","layout","connectNulls","ref"],aCe=["key"];function Gl(e){"@babel/helpers - typeof";return Gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gl(e)}function cH(e,t){if(e==null)return{};var n=iCe(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ss.apply(this,arguments)}function uH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uH(Object(n),!0).forEach(function(r){Mr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xo(e){return sCe(e)||ICe(e)||lCe(e)||oCe()}function oCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lCe(e,t){if(e){if(typeof e=="string")return vG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vG(e,t)}}function ICe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sCe(e){if(Array.isArray(e))return vG(e)}function vG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v5(r.key),r)}}function uCe(e,t,n){return CH(e.prototype,t),CH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CCe(e,t,n){return t=jd(t),dCe(e,B5()?Reflect.construct(t,n,jd(e).constructor):t.apply(e,n))}function dCe(e,t){if(t&&(Gl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ACe(e)}function ACe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B5=function(){return!!e})()}function jd(e){return jd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jd(e)}function mCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SG(e,t)}function SG(e,t){return SG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},SG(e,t)}function Mr(e,t,n){return t=v5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v5(e){var t=fCe(e,"string");return Gl(t)=="symbol"?t:t+""}function fCe(e,t){if(Gl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ym=function(e){function t(){var n;cCe(this,t);for(var r=arguments.length,g=new Array(r),a=0;a<r;a++)g[a]=arguments[a];return n=CCe(this,t,[].concat(g)),Mr(n,"state",{isAnimationFinished:!0,totalLength:0}),Mr(n,"generateSimpleStrokeDasharray",function(i,l){return"".concat(l,"px ").concat(i-l,"px")}),Mr(n,"getStrokeDasharray",function(i,l,s){var c=s.reduce(function(G,v){return G+v});if(!c)return n.generateSimpleStrokeDasharray(l,i);for(var C=Math.floor(i/c),d=i%c,A=l-i,f=[],b=0,p=0;b<s.length;p+=s[b],++b)if(p+s[b]>d){f=[].concat(Xo(s.slice(0,b)),[d-p]);break}var h=f.length%2===0?[0,A]:[A];return[].concat(Xo(t.repeat(s,C)),Xo(f),h).map(function(G){return"".concat(G,"px")}).join(", ")}),Mr(n,"id",Gc("recharts-line-")),Mr(n,"pathRef",function(i){n.mainCurve=i}),Mr(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Mr(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return mCe(t,e),uCe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,g){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,l=a.xAxis,s=a.yAxis,c=a.layout,C=a.children,d=Gr(C,wc);if(!d)return null;var A=function(p,h){return{x:p.x,y:p.y,value:p.value,errorVal:ir(p.payload,h)}},f={clipPath:r?"url(#clipPath-".concat(g,")"):null};return H.createElement(Kt,f,d.map(function(b){return H.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:i,xAxis:l,yAxis:s,layout:c,dataPointFormatter:A})}))}},{key:"renderDots",value:function(r,g,a){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var l=this.props,s=l.dot,c=l.points,C=l.dataKey,d=xe(this.props,!1),A=xe(s,!0),f=c.map(function(p,h){var G=On(On(On({key:"dot-".concat(h),r:3},d),A),{},{value:p.value,dataKey:C,cx:p.x,cy:p.y,index:h,payload:p.payload});return t.renderDotItem(s,G)}),b={clipPath:r?"url(#clipPath-".concat(g?"":"dots-").concat(a,")"):null};return H.createElement(Kt,ss({className:"recharts-line-dots",key:"dots"},b),f)}},{key:"renderCurveStatically",value:function(r,g,a,i){var l=this.props,s=l.type,c=l.layout,C=l.connectNulls;l.ref;var d=cH(l,gCe),A=On(On(On({},xe(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(a,")"):null,points:r},i),{},{type:s,layout:c,connectNulls:C});return H.createElement(rG,ss({},A,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,g){var a=this,i=this.props,l=i.points,s=i.strokeDasharray,c=i.isAnimationActive,C=i.animationBegin,d=i.animationDuration,A=i.animationEasing,f=i.animationId,b=i.animateNewValues,p=i.width,h=i.height,G=this.state,v=G.prevPoints,S=G.totalLength;return H.createElement(oa,{begin:C,duration:d,isActive:c,easing:A,from:{t:0},to:{t:1},key:"line-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(V){var Z=V.t;if(v){var W=v.length/l.length,w=l.map(function(K,E){var L=Math.floor(E*W);if(v[L]){var z=v[L],U=Dr(z.x,K.x),O=Dr(z.y,K.y);return On(On({},K),{},{x:U(Z),y:O(Z)})}if(b){var D=Dr(p*2,K.x),_=Dr(h/2,K.y);return On(On({},K),{},{x:D(Z),y:_(Z)})}return On(On({},K),{},{x:K.x,y:K.y})});return a.renderCurveStatically(w,r,g)}var X=Dr(0,S),N=X(Z),R;if(s){var Y="".concat(s).split(/[,\s]+/gim).map(function(K){return parseFloat(K)});R=a.getStrokeDasharray(N,S,Y)}else R=a.generateSimpleStrokeDasharray(S,N);return a.renderCurveStatically(l,r,g,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,g){var a=this.props,i=a.points,l=a.isAnimationActive,s=this.state,c=s.prevPoints,C=s.totalLength;return l&&i&&i.length&&(!c&&C>0||!cm(c,i))?this.renderCurveWithAnimation(r,g):this.renderCurveStatically(i,r,g)}},{key:"render",value:function(){var r,g=this.props,a=g.hide,i=g.dot,l=g.points,s=g.className,c=g.xAxis,C=g.yAxis,d=g.top,A=g.left,f=g.width,b=g.height,p=g.isAnimationActive,h=g.id;if(a||!l||!l.length)return null;var G=this.state.isAnimationFinished,v=l.length===1,S=Ve("recharts-line",s),V=c&&c.allowDataOverflow,Z=C&&C.allowDataOverflow,W=V||Z,w=Ke(h)?this.id:h,X=(r=xe(i,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=X.r,R=N===void 0?3:N,Y=X.strokeWidth,K=Y===void 0?2:Y,E=K$(i)?i:{},L=E.clipDot,z=L===void 0?!0:L,U=R*2+K;return H.createElement(Kt,{className:S},V||Z?H.createElement("defs",null,H.createElement("clipPath",{id:"clipPath-".concat(w)},H.createElement("rect",{x:V?A:A-f/2,y:Z?d:d-b/2,width:V?f:f*2,height:Z?b:b*2})),!z&&H.createElement("clipPath",{id:"clipPath-dots-".concat(w)},H.createElement("rect",{x:A-U/2,y:d-U/2,width:f+U,height:b+U}))):null,!v&&this.renderCurve(W,w),this.renderErrorBar(W,w),(v||i)&&this.renderDots(W,z,w),(!p||G)&&Da.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,g){return r.animationId!==g.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:g.curPoints}:r.points!==g.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,g){for(var a=r.length%2!==0?[].concat(Xo(r),[0]):r,i=[],l=0;l<g;++l)i=[].concat(Xo(i),Xo(a));return i}},{key:"renderDotItem",value:function(r,g){var a;if(H.isValidElement(r))a=H.cloneElement(r,g);else if(Ye(r))a=r(g);else{var i=g.key,l=cH(g,aCe),s=Ve("recharts-line-dot",typeof r!="boolean"?r.className:"");a=H.createElement(Hv,ss({key:i},l,{className:s}))}return a}}])}(J.PureComponent);Mr(ym,"displayName","Line");Mr(ym,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ea.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Mr(ym,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,g=e.xAxisTicks,a=e.yAxisTicks,i=e.dataKey,l=e.bandSize,s=e.displayedData,c=e.offset,C=t.layout,d=s.map(function(A,f){var b=ir(A,i);return C==="horizontal"?{x:RY({axis:n,ticks:g,bandSize:l,entry:A,index:f}),y:Ke(b)?null:r.scale(b),value:b,payload:A}:{x:Ke(b)?null:n.scale(b),y:RY({axis:r,ticks:a,bandSize:l,entry:A,index:f}),value:b,payload:A}});return On({points:d,layout:C},c)});function Bl(e){"@babel/helpers - typeof";return Bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bl(e)}function pCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,V5(r.key),r)}}function bCe(e,t,n){return hCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yCe(e,t,n){return t=_d(t),ZCe(e,S5()?Reflect.construct(t,n||[],_d(e).constructor):t.apply(e,n))}function ZCe(e,t){if(t&&(Bl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GCe(e)}function GCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S5=function(){return!!e})()}function _d(e){return _d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_d(e)}function BCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WG(e,t)}function WG(e,t){return WG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},WG(e,t)}function W5(e,t,n){return t=V5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V5(e){var t=vCe(e,"string");return Bl(t)=="symbol"?t:t+""}function vCe(e,t){if(Bl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VG(){return VG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VG.apply(this,arguments)}function SCe(e){var t=e.xAxisId,n=xv(),r=Ev(),g=u5(t);return g==null?null:H.createElement(zl,VG({},g,{className:Ve("recharts-".concat(g.axisType," ").concat(g.axisType),g.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(i){return zg(i,!0)}}))}var zv=function(e){function t(){return pCe(this,t),yCe(this,t,arguments)}return BCe(t,e),bCe(t,[{key:"render",value:function(){return H.createElement(SCe,this.props)}}])}(H.Component);W5(zv,"displayName","XAxis");W5(zv,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vl(e){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vl(e)}function WCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k5(r.key),r)}}function wCe(e,t,n){return VCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RCe(e,t,n){return t=qd(t),kCe(e,w5()?Reflect.construct(t,n||[],qd(e).constructor):t.apply(e,n))}function kCe(e,t){if(t&&(vl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XCe(e)}function XCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w5=function(){return!!e})()}function qd(e){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qd(e)}function JCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wG(e,t)}function wG(e,t){return wG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},wG(e,t)}function R5(e,t,n){return t=k5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k5(e){var t=YCe(e,"string");return vl(t)=="symbol"?t:t+""}function YCe(e,t){if(vl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(){return RG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RG.apply(this,arguments)}var HCe=function(t){var n=t.yAxisId,r=xv(),g=Ev(),a=C5(n);return a==null?null:H.createElement(zl,RG({},a,{className:Ve("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:g},ticksGenerator:function(l){return zg(l,!0)}}))},Uv=function(e){function t(){return WCe(this,t),RCe(this,t,arguments)}return JCe(t,e),wCe(t,[{key:"render",value:function(){return H.createElement(HCe,this.props)}}])}(H.Component);R5(Uv,"displayName","YAxis");R5(Uv,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dH(e){return xCe(e)||KCe(e)||FCe(e)||NCe()}function NCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FCe(e,t){if(e){if(typeof e=="string")return kG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kG(e,t)}}function KCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xCe(e){if(Array.isArray(e))return kG(e)}function kG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var XG=function(t,n,r,g,a){var i=Gr(t,Dv),l=Gr(t,pm),s=[].concat(dH(i),dH(l)),c=Gr(t,bm),C="".concat(g,"Id"),d=g[0],A=n;if(s.length&&(A=s.reduce(function(p,h){if(h.props[C]===r&&Gg(h.props,"extendDomain")&&ce(h.props[d])){var G=h.props[d];return[Math.min(p[0],G),Math.max(p[1],G)]}return p},A)),c.length){var f="".concat(d,"1"),b="".concat(d,"2");A=c.reduce(function(p,h){if(h.props[C]===r&&Gg(h.props,"extendDomain")&&ce(h.props[f])&&ce(h.props[b])){var G=h.props[f],v=h.props[b];return[Math.min(p[0],G,v),Math.max(p[1],G,v)]}return p},A)}return a&&a.length&&(A=a.reduce(function(p,h){return ce(h)?[Math.min(p[0],h),Math.max(p[1],h)]:p},A)),A},x0={exports:{}},AH;function ECe(){return AH||(AH=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function g(s,c,C){this.fn=s,this.context=c,this.once=C||!1}function a(s,c,C,d,A){if(typeof C!="function")throw new TypeError("The listener must be a function");var f=new g(C,d||s,A),b=n?n+c:c;return s._events[b]?s._events[b].fn?s._events[b]=[s._events[b],f]:s._events[b].push(f):(s._events[b]=f,s._eventsCount++),s}function i(s,c){--s._eventsCount===0?s._events=new r:delete s._events[c]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],C,d;if(this._eventsCount===0)return c;for(d in C=this._events)t.call(C,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(C)):c},l.prototype.listeners=function(c){var C=n?n+c:c,d=this._events[C];if(!d)return[];if(d.fn)return[d.fn];for(var A=0,f=d.length,b=new Array(f);A<f;A++)b[A]=d[A].fn;return b},l.prototype.listenerCount=function(c){var C=n?n+c:c,d=this._events[C];return d?d.fn?1:d.length:0},l.prototype.emit=function(c,C,d,A,f,b){var p=n?n+c:c;if(!this._events[p])return!1;var h=this._events[p],G=arguments.length,v,S;if(h.fn){switch(h.once&&this.removeListener(c,h.fn,void 0,!0),G){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,C),!0;case 3:return h.fn.call(h.context,C,d),!0;case 4:return h.fn.call(h.context,C,d,A),!0;case 5:return h.fn.call(h.context,C,d,A,f),!0;case 6:return h.fn.call(h.context,C,d,A,f,b),!0}for(S=1,v=new Array(G-1);S<G;S++)v[S-1]=arguments[S];h.fn.apply(h.context,v)}else{var V=h.length,Z;for(S=0;S<V;S++)switch(h[S].once&&this.removeListener(c,h[S].fn,void 0,!0),G){case 1:h[S].fn.call(h[S].context);break;case 2:h[S].fn.call(h[S].context,C);break;case 3:h[S].fn.call(h[S].context,C,d);break;case 4:h[S].fn.call(h[S].context,C,d,A);break;default:if(!v)for(Z=1,v=new Array(G-1);Z<G;Z++)v[Z-1]=arguments[Z];h[S].fn.apply(h[S].context,v)}}return!0},l.prototype.on=function(c,C,d){return a(this,c,C,d,!1)},l.prototype.once=function(c,C,d){return a(this,c,C,d,!0)},l.prototype.removeListener=function(c,C,d,A){var f=n?n+c:c;if(!this._events[f])return this;if(!C)return i(this,f),this;var b=this._events[f];if(b.fn)b.fn===C&&(!A||b.once)&&(!d||b.context===d)&&i(this,f);else{for(var p=0,h=[],G=b.length;p<G;p++)(b[p].fn!==C||A&&!b[p].once||d&&b[p].context!==d)&&h.push(b[p]);h.length?this._events[f]=h.length===1?h[0]:h:i(this,f)}return this},l.prototype.removeAllListeners=function(c){var C;return c?(C=n?n+c:c,this._events[C]&&i(this,C)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}(x0)),x0.exports}var MCe=ECe();const DCe=lt(MCe);var E0=new DCe,M0="recharts.syncMouseEvents";function ec(e){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ec(e)}function TCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,X5(r.key),r)}}function zCe(e,t,n){return LCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D0(e,t,n){return t=X5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X5(e){var t=UCe(e,"string");return ec(t)=="symbol"?t:t+""}function UCe(e,t){if(ec(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var PCe=function(){function e(){TCe(this,e),D0(this,"activeIndex",0),D0(this,"coordinateList",[]),D0(this,"layout","horizontal")}return zCe(e,[{key:"setDetails",value:function(n){var r,g=n.coordinateList,a=g===void 0?null:g,i=n.container,l=i===void 0?null:i,s=n.layout,c=s===void 0?null:s,C=n.offset,d=C===void 0?null:C,A=n.mouseHandlerCallback,f=A===void 0?null:A;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=f??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var g=this.container.getBoundingClientRect(),a=g.x,i=g.y,l=g.height,s=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,C=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=a+s+c,A=i+this.offset.top+l/2+C;this.mouseHandlerCallback({pageX:d,pageY:A})}}}])}();function QCe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],g=e==null?void 0:e[1];if(r&&g&&ce(r)&&ce(g))return!0}return!1}function OCe(e,t,n,r){var g=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-g:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-g,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function J5(e){var t=e.cx,n=e.cy,r=e.radius,g=e.startAngle,a=e.endAngle,i=Cn(t,n,r,g),l=Cn(t,n,r,a);return{points:[i,l],cx:t,cy:n,radius:r,startAngle:g,endAngle:a}}function jCe(e,t,n){var r,g,a,i;if(e==="horizontal")r=t.x,a=r,g=n.top,i=n.top+n.height;else if(e==="vertical")g=t.y,i=g,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,s=t.cy,c=t.innerRadius,C=t.outerRadius,d=t.angle,A=Cn(l,s,c,d),f=Cn(l,s,C,d);r=A.x,g=A.y,a=f.x,i=f.y}else return J5(t);return[{x:r,y:g},{x:a,y:i}]}function tc(e){"@babel/helpers - typeof";return tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tc(e)}function mH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function sC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mH(Object(n),!0).forEach(function(r){_Ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ce(e,t,n){return t=qCe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qCe(e){var t=$Ce(e,"string");return tc(t)=="symbol"?t:t+""}function $Ce(e,t){if(tc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ede(e){var t,n,r=e.element,g=e.tooltipEventType,a=e.isActive,i=e.activeCoordinate,l=e.activePayload,s=e.offset,c=e.activeTooltipIndex,C=e.tooltipAxisBandSize,d=e.layout,A=e.chartName,f=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!f||!a||!i||A!=="ScatterChart"&&g!=="axis")return null;var b,p=rG;if(A==="ScatterChart")b=i,p=jIe;else if(A==="BarChart")b=OCe(d,i,s,C),p=Yv;else if(d==="radial"){var h=J5(i),G=h.cx,v=h.cy,S=h.radius,V=h.startAngle,Z=h.endAngle;b={cx:G,cy:v,startAngle:V,endAngle:Z,innerRadius:S,outerRadius:S},p=D9}else b={points:jCe(d,i,s)},p=rG;var W=sC(sC(sC(sC({stroke:"#ccc",pointerEvents:"none"},s),b),xe(f,!1)),{},{payload:l,payloadIndex:c,className:Ve("recharts-tooltip-cursor",f.className)});return J.isValidElement(f)?J.cloneElement(f,W):J.createElement(p,W)}var tde=["item"],nde=["children","className","width","height","style","compact","title","desc"];function Sl(e){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sl(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fo.apply(this,arguments)}function fH(e,t){return ade(e)||gde(e,t)||H5(e,t)||rde()}function rde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gde(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,g,a,i,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(C){c=!0,g=C}finally{try{if(!s&&n.return!=null&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw g}}return l}}function ade(e){if(Array.isArray(e))return e}function pH(e,t){if(e==null)return{};var n=ide(e,t),r,g;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(g=0;g<a.length;g++)r=a[g],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ide(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ode(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lde(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,N5(r.key),r)}}function Ide(e,t,n){return lde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sde(e,t,n){return t=$d(t),cde(e,Y5()?Reflect.construct(t,n,$d(e).constructor):t.apply(e,n))}function cde(e,t){if(t&&(Sl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ude(e)}function ude(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y5=function(){return!!e})()}function $d(e){return $d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$d(e)}function Cde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JG(e,t)}function JG(e,t){return JG=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,g){return r.__proto__=g,r},JG(e,t)}function Wl(e){return mde(e)||Ade(e)||H5(e)||dde()}function dde(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H5(e,t){if(e){if(typeof e=="string")return YG(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YG(e,t)}}function Ade(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mde(e){if(Array.isArray(e))return YG(e)}function YG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(g){return Object.getOwnPropertyDescriptor(e,g).enumerable})),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hH(Object(n),!0).forEach(function(r){We(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function We(e,t,n){return t=N5(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N5(e){var t=fde(e,"string");return Sl(t)=="symbol"?t:t+""}function fde(e,t){if(Sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pde={xAxis:["bottom","top"],yAxis:["left","right"]},hde={width:"100%",height:"100%"},F5={x:0,y:0};function cC(e){return e}var bde=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},yde=function(t,n,r,g){var a=n.find(function(C){return C&&C.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:g.y};if(t==="vertical")return{x:g.x,y:a.coordinate};if(t==="centric"){var i=a.coordinate,l=g.radius;return re(re(re({},g),Cn(g.cx,g.cy,l,i)),{},{angle:i,radius:l})}var s=a.coordinate,c=g.angle;return re(re(re({},g),Cn(g.cx,g.cy,s,c)),{},{angle:c,radius:s})}return F5},Zm=function(t,n){var r=n.graphicalItems,g=n.dataStartIndex,a=n.dataEndIndex,i=(r??[]).reduce(function(l,s){var c=s.props.data;return c&&c.length?[].concat(Wl(l),Wl(c)):l},[]);return i.length>0?i:t&&t.length&&ce(g)&&ce(a)?t.slice(g,a+1):[]};function K5(e){return e==="number"?[0,"auto"]:void 0}var HG=function(t,n,r,g){var a=t.graphicalItems,i=t.tooltipAxis,l=Zm(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(s,c){var C,d=(C=c.props.data)!==null&&C!==void 0?C:n;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var A;if(i.dataKey&&!i.allowDuplicatedCategory){var f=d===void 0?l:d;A=gd(f,i.dataKey,g)}else A=d&&d[r]||l[r];return A?[].concat(Wl(s),[x9(c,A)]):s},[])},bH=function(t,n,r,g){var a=g||{x:t.chartX,y:t.chartY},i=bde(a,r),l=t.orderedTooltipTicks,s=t.tooltipAxis,c=t.tooltipTicks,C=Fie(i,l,c,s);if(C>=0&&c){var d=c[C]&&c[C].value,A=HG(t,n,C,d),f=yde(r,l,C,a);return{activeTooltipIndex:C,activeLabel:d,activePayload:A,activeCoordinate:f}}return null},Zde=function(t,n){var r=n.axes,g=n.graphicalItems,a=n.axisType,i=n.axisIdKey,l=n.stackGroups,s=n.dataStartIndex,c=n.dataEndIndex,C=t.layout,d=t.children,A=t.stackOffset,f=N9(C,a);return r.reduce(function(b,p){var h,G=p.type.defaultProps!==void 0?re(re({},p.type.defaultProps),p.props):p.props,v=G.type,S=G.dataKey,V=G.allowDataOverflow,Z=G.allowDuplicatedCategory,W=G.scale,w=G.ticks,X=G.includeHidden,N=G[i];if(b[N])return b;var R=Zm(t.data,{graphicalItems:g.filter(function(P){var se,he=i in P.props?P.props[i]:(se=P.type.defaultProps)===null||se===void 0?void 0:se[i];return he===N}),dataStartIndex:s,dataEndIndex:c}),Y=R.length,K,E,L;QCe(G.domain,V,v)&&(K=qZ(G.domain,null,V),f&&(v==="number"||W!=="auto")&&(L=ls(R,S,"category")));var z=K5(v);if(!K||K.length===0){var U,O=(U=G.domain)!==null&&U!==void 0?U:z;if(S){if(K=ls(R,S,v),v==="category"&&f){var D=w$(K);Z&&D?(E=K,K=Ed(0,Y)):Z||(K=YY(O,K,p).reduce(function(P,se){return P.indexOf(se)>=0?P:[].concat(Wl(P),[se])},[]))}else if(v==="category")Z?K=K.filter(function(P){return P!==""&&!Ke(P)}):K=YY(O,K,p).reduce(function(P,se){return P.indexOf(se)>=0||se===""||Ke(se)?P:[].concat(Wl(P),[se])},[]);else if(v==="number"){var _=Die(R,g.filter(function(P){var se,he,Ge=i in P.props?P.props[i]:(se=P.type.defaultProps)===null||se===void 0?void 0:se[i],Re="hide"in P.props?P.props.hide:(he=P.type.defaultProps)===null||he===void 0?void 0:he.hide;return Ge===N&&(X||!Re)}),S,a,C);_&&(K=_)}f&&(v==="number"||W!=="auto")&&(L=ls(R,S,"category"))}else f?K=Ed(0,Y):l&&l[N]&&l[N].hasStack&&v==="number"?K=A==="expand"?[0,1]:K9(l[N].stackGroups,s,c):K=H9(R,g.filter(function(P){var se=i in P.props?P.props[i]:P.type.defaultProps[i],he="hide"in P.props?P.props.hide:P.type.defaultProps.hide;return se===N&&(X||!he)}),v,C,!0);if(v==="number")K=XG(d,K,N,a,w),O&&(K=qZ(O,K,V));else if(v==="category"&&O){var te=O,x=K.every(function(P){return te.indexOf(P)>=0});x&&(K=te)}}return re(re({},b),{},We({},N,re(re({},G),{},{axisType:a,domain:K,categoricalDomain:L,duplicateDomain:E,originalDomain:(h=G.domain)!==null&&h!==void 0?h:z,isCategorical:f,layout:C})))},{})},Gde=function(t,n){var r=n.graphicalItems,g=n.Axis,a=n.axisType,i=n.axisIdKey,l=n.stackGroups,s=n.dataStartIndex,c=n.dataEndIndex,C=t.layout,d=t.children,A=Zm(t.data,{graphicalItems:r,dataStartIndex:s,dataEndIndex:c}),f=A.length,b=N9(C,a),p=-1;return r.reduce(function(h,G){var v=G.type.defaultProps!==void 0?re(re({},G.type.defaultProps),G.props):G.props,S=v[i],V=K5("number");if(!h[S]){p++;var Z;return b?Z=Ed(0,f):l&&l[S]&&l[S].hasStack?(Z=K9(l[S].stackGroups,s,c),Z=XG(d,Z,S,a)):(Z=qZ(V,H9(A,r.filter(function(W){var w,X,N=i in W.props?W.props[i]:(w=W.type.defaultProps)===null||w===void 0?void 0:w[i],R="hide"in W.props?W.props.hide:(X=W.type.defaultProps)===null||X===void 0?void 0:X.hide;return N===S&&!R}),"number",C),g.defaultProps.allowDataOverflow),Z=XG(d,Z,S,a)),re(re({},h),{},We({},S,re(re({axisType:a},g.defaultProps),{},{hide:!0,orientation:Zr(pde,"".concat(a,".").concat(p%2),null),domain:Z,originalDomain:V,isCategorical:b,layout:C})))}return h},{})},Bde=function(t,n){var r=n.axisType,g=r===void 0?"xAxis":r,a=n.AxisComp,i=n.graphicalItems,l=n.stackGroups,s=n.dataStartIndex,c=n.dataEndIndex,C=t.children,d="".concat(g,"Id"),A=Gr(C,a),f={};return A.length?f=Zde(t,{axes:A,graphicalItems:i,axisType:g,axisIdKey:d,stackGroups:l,dataStartIndex:s,dataEndIndex:c}):i&&i.length&&(f=Gde(t,{Axis:a,graphicalItems:i,axisType:g,axisIdKey:d,stackGroups:l,dataStartIndex:s,dataEndIndex:c})),f},vde=function(t){var n=Ha(t),r=zg(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:ov(r,function(g){return g.coordinate}),tooltipAxis:n,tooltipAxisBandSize:kd(n,r)}},yH=function(t){var n=t.children,r=t.defaultShowTooltip,g=_n(n,fl),a=0,i=0;return t.data&&t.data.length!==0&&(i=t.data.length-1),g&&g.props&&(g.props.startIndex>=0&&(a=g.props.startIndex),g.props.endIndex>=0&&(i=g.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:i,activeTooltipIndex:-1,isTooltipActive:!!r}},Sde=function(t){return!t||!t.length?!1:t.some(function(n){var r=qg(n&&n.type);return r&&r.indexOf("Bar")>=0})},ZH=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Wde=function(t,n){var r=t.props,g=t.graphicalItems,a=t.xAxisMap,i=a===void 0?{}:a,l=t.yAxisMap,s=l===void 0?{}:l,c=r.width,C=r.height,d=r.children,A=r.margin||{},f=_n(d,fl),b=_n(d,zo),p=Object.keys(s).reduce(function(Z,W){var w=s[W],X=w.orientation;return!w.mirror&&!w.hide?re(re({},Z),{},We({},X,Z[X]+w.width)):Z},{left:A.left||0,right:A.right||0}),h=Object.keys(i).reduce(function(Z,W){var w=i[W],X=w.orientation;return!w.mirror&&!w.hide?re(re({},Z),{},We({},X,Zr(Z,"".concat(X))+w.height)):Z},{top:A.top||0,bottom:A.bottom||0}),G=re(re({},h),p),v=G.bottom;f&&(G.bottom+=f.props.height||fl.defaultProps.height),b&&n&&(G=Eie(G,g,r,n));var S=c-G.left-G.right,V=C-G.top-G.bottom;return re(re({brushBottom:v},G),{},{width:Math.max(S,0),height:Math.max(V,0)})},Vde=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},wde=function(t){var n=t.chartName,r=t.GraphicalChild,g=t.defaultTooltipEventType,a=g===void 0?"axis":g,i=t.validateTooltipEventTypes,l=i===void 0?["axis"]:i,s=t.axisComponents,c=t.legendContent,C=t.formatAxisMap,d=t.defaultProps,A=function(G,v){var S=v.graphicalItems,V=v.stackGroups,Z=v.offset,W=v.updateId,w=v.dataStartIndex,X=v.dataEndIndex,N=G.barSize,R=G.layout,Y=G.barGap,K=G.barCategoryGap,E=G.maxBarSize,L=ZH(R),z=L.numericAxisName,U=L.cateAxisName,O=Sde(S),D=[];return S.forEach(function(_,te){var x=Zm(G.data,{graphicalItems:[_],dataStartIndex:w,dataEndIndex:X}),P=_.type.defaultProps!==void 0?re(re({},_.type.defaultProps),_.props):_.props,se=P.dataKey,he=P.maxBarSize,Ge=P["".concat(z,"Id")],Re=P["".concat(U,"Id")],Ee={},ke=s.reduce(function(kn,Rr){var ji=v["".concat(Rr.axisType,"Map")],Ul=P["".concat(Rr.axisType,"Id")];ji&&ji[Ul]||Rr.axisType==="zAxis"||Mi();var Pl=ji[Ul];return re(re({},kn),{},We(We({},Rr.axisType,Pl),"".concat(Rr.axisType,"Ticks"),zg(Pl)))},Ee),le=ke[U],Ze=ke["".concat(U,"Ticks")],Xe=V&&V[Ge]&&V[Ge].hasStack&&eoe(_,V[Ge].stackGroups),ie=qg(_.type).indexOf("Bar")>=0,st=kd(le,Ze),Fe=[],Vt=O&&Kie({barSize:N,stackGroups:V,totalSize:Vde(ke,U)});if(ie){var wt,$t,wr=Ke(he)?E:he,qr=(wt=($t=kd(le,Ze,!0))!==null&&$t!==void 0?$t:wr)!==null&&wt!==void 0?wt:0;Fe=xie({barGap:Y,barCategoryGap:K,bandSize:qr!==st?qr:st,sizeList:Vt[Re],maxBarSize:wr}),qr!==st&&(Fe=Fe.map(function(kn){return re(re({},kn),{},{position:re(re({},kn.position),{},{offset:kn.position.offset-qr/2})})}))}var $r=_&&_.type&&_.type.getComposedData;$r&&D.push({props:re(re({},$r(re(re({},ke),{},{displayedData:x,props:G,dataKey:se,item:_,bandSize:st,barPosition:Fe,offset:Z,stackedData:Xe,layout:R,dataStartIndex:w,dataEndIndex:X}))),{},We(We(We({key:_.key||"item-".concat(te)},z,ke[z]),U,ke[U]),"animationId",W)),childIndex:M$(_,G.children),item:_})}),D},f=function(G,v){var S=G.props,V=G.dataStartIndex,Z=G.dataEndIndex,W=G.updateId;if(!Qk({props:S}))return null;var w=S.children,X=S.layout,N=S.stackOffset,R=S.data,Y=S.reverseStackOrder,K=ZH(X),E=K.numericAxisName,L=K.cateAxisName,z=Gr(w,r),U=_ie(R,z,"".concat(E,"Id"),"".concat(L,"Id"),N,Y),O=s.reduce(function(P,se){var he="".concat(se.axisType,"Map");return re(re({},P),{},We({},he,Bde(S,re(re({},se),{},{graphicalItems:z,stackGroups:se.axisType===E&&U,dataStartIndex:V,dataEndIndex:Z}))))},{}),D=Wde(re(re({},O),{},{props:S,graphicalItems:z}),v==null?void 0:v.legendBBox);Object.keys(O).forEach(function(P){O[P]=C(S,O[P],D,P.replace("Map",""),n)});var _=O["".concat(L,"Map")],te=vde(_),x=A(S,re(re({},O),{},{dataStartIndex:V,dataEndIndex:Z,updateId:W,graphicalItems:z,stackGroups:U,offset:D}));return re(re({formattedGraphicalItems:x,graphicalItems:z,offset:D,stackGroups:U},te),O)},b=function(h){function G(v){var S,V,Z;return ode(this,G),Z=sde(this,G,[v]),We(Z,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),We(Z,"accessibilityManager",new PCe),We(Z,"handleLegendBBoxUpdate",function(W){if(W){var w=Z.state,X=w.dataStartIndex,N=w.dataEndIndex,R=w.updateId;Z.setState(re({legendBBox:W},f({props:Z.props,dataStartIndex:X,dataEndIndex:N,updateId:R},re(re({},Z.state),{},{legendBBox:W}))))}}),We(Z,"handleReceiveSyncEvent",function(W,w,X){if(Z.props.syncId===W){if(X===Z.eventEmitterSymbol&&typeof Z.props.syncMethod!="function")return;Z.applySyncEvent(w)}}),We(Z,"handleBrushChange",function(W){var w=W.startIndex,X=W.endIndex;if(w!==Z.state.dataStartIndex||X!==Z.state.dataEndIndex){var N=Z.state.updateId;Z.setState(function(){return re({dataStartIndex:w,dataEndIndex:X},f({props:Z.props,dataStartIndex:w,dataEndIndex:X,updateId:N},Z.state))}),Z.triggerSyncEvent({dataStartIndex:w,dataEndIndex:X})}}),We(Z,"handleMouseEnter",function(W){var w=Z.getMouseInfo(W);if(w){var X=re(re({},w),{},{isTooltipActive:!0});Z.setState(X),Z.triggerSyncEvent(X);var N=Z.props.onMouseEnter;Ye(N)&&N(X,W)}}),We(Z,"triggeredAfterMouseMove",function(W){var w=Z.getMouseInfo(W),X=w?re(re({},w),{},{isTooltipActive:!0}):{isTooltipActive:!1};Z.setState(X),Z.triggerSyncEvent(X);var N=Z.props.onMouseMove;Ye(N)&&N(X,W)}),We(Z,"handleItemMouseEnter",function(W){Z.setState(function(){return{isTooltipActive:!0,activeItem:W,activePayload:W.tooltipPayload,activeCoordinate:W.tooltipPosition||{x:W.cx,y:W.cy}}})}),We(Z,"handleItemMouseLeave",function(){Z.setState(function(){return{isTooltipActive:!1}})}),We(Z,"handleMouseMove",function(W){W.persist(),Z.throttleTriggeredAfterMouseMove(W)}),We(Z,"handleMouseLeave",function(W){Z.throttleTriggeredAfterMouseMove.cancel();var w={isTooltipActive:!1};Z.setState(w),Z.triggerSyncEvent(w);var X=Z.props.onMouseLeave;Ye(X)&&X(w,W)}),We(Z,"handleOuterEvent",function(W){var w=E$(W),X=Zr(Z.props,"".concat(w));if(w&&Ye(X)){var N,R;/.*touch.*/i.test(w)?R=Z.getMouseInfo(W.changedTouches[0]):R=Z.getMouseInfo(W),X((N=R)!==null&&N!==void 0?N:{},W)}}),We(Z,"handleClick",function(W){var w=Z.getMouseInfo(W);if(w){var X=re(re({},w),{},{isTooltipActive:!0});Z.setState(X),Z.triggerSyncEvent(X);var N=Z.props.onClick;Ye(N)&&N(X,W)}}),We(Z,"handleMouseDown",function(W){var w=Z.props.onMouseDown;if(Ye(w)){var X=Z.getMouseInfo(W);w(X,W)}}),We(Z,"handleMouseUp",function(W){var w=Z.props.onMouseUp;if(Ye(w)){var X=Z.getMouseInfo(W);w(X,W)}}),We(Z,"handleTouchMove",function(W){W.changedTouches!=null&&W.changedTouches.length>0&&Z.throttleTriggeredAfterMouseMove(W.changedTouches[0])}),We(Z,"handleTouchStart",function(W){W.changedTouches!=null&&W.changedTouches.length>0&&Z.handleMouseDown(W.changedTouches[0])}),We(Z,"handleTouchEnd",function(W){W.changedTouches!=null&&W.changedTouches.length>0&&Z.handleMouseUp(W.changedTouches[0])}),We(Z,"handleDoubleClick",function(W){var w=Z.props.onDoubleClick;if(Ye(w)){var X=Z.getMouseInfo(W);w(X,W)}}),We(Z,"handleContextMenu",function(W){var w=Z.props.onContextMenu;if(Ye(w)){var X=Z.getMouseInfo(W);w(X,W)}}),We(Z,"triggerSyncEvent",function(W){Z.props.syncId!==void 0&&E0.emit(M0,Z.props.syncId,W,Z.eventEmitterSymbol)}),We(Z,"applySyncEvent",function(W){var w=Z.props,X=w.layout,N=w.syncMethod,R=Z.state.updateId,Y=W.dataStartIndex,K=W.dataEndIndex;if(W.dataStartIndex!==void 0||W.dataEndIndex!==void 0)Z.setState(re({dataStartIndex:Y,dataEndIndex:K},f({props:Z.props,dataStartIndex:Y,dataEndIndex:K,updateId:R},Z.state)));else if(W.activeTooltipIndex!==void 0){var E=W.chartX,L=W.chartY,z=W.activeTooltipIndex,U=Z.state,O=U.offset,D=U.tooltipTicks;if(!O)return;if(typeof N=="function")z=N(D,W);else if(N==="value"){z=-1;for(var _=0;_<D.length;_++)if(D[_].value===W.activeLabel){z=_;break}}var te=re(re({},O),{},{x:O.left,y:O.top}),x=Math.min(E,te.x+te.width),P=Math.min(L,te.y+te.height),se=D[z]&&D[z].value,he=HG(Z.state,Z.props.data,z),Ge=D[z]?{x:X==="horizontal"?D[z].coordinate:x,y:X==="horizontal"?P:D[z].coordinate}:F5;Z.setState(re(re({},W),{},{activeLabel:se,activeCoordinate:Ge,activePayload:he,activeTooltipIndex:z}))}else Z.setState(W)}),We(Z,"renderCursor",function(W){var w,X=Z.state,N=X.isTooltipActive,R=X.activeCoordinate,Y=X.activePayload,K=X.offset,E=X.activeTooltipIndex,L=X.tooltipAxisBandSize,z=Z.getTooltipEventType(),U=(w=W.props.active)!==null&&w!==void 0?w:N,O=Z.props.layout,D=W.key||"_recharts-cursor";return H.createElement(ede,{key:D,activeCoordinate:R,activePayload:Y,activeTooltipIndex:E,chartName:n,element:W,isActive:U,layout:O,offset:K,tooltipAxisBandSize:L,tooltipEventType:z})}),We(Z,"renderPolarAxis",function(W,w,X){var N=Zr(W,"type.axisType"),R=Zr(Z.state,"".concat(N,"Map")),Y=W.type.defaultProps,K=Y!==void 0?re(re({},Y),W.props):W.props,E=R&&R[K["".concat(N,"Id")]];return J.cloneElement(W,re(re({},E),{},{className:Ve(N,E.className),key:W.key||"".concat(w,"-").concat(X),ticks:zg(E,!0)}))}),We(Z,"renderPolarGrid",function(W){var w=W.props,X=w.radialLines,N=w.polarAngles,R=w.polarRadius,Y=Z.state,K=Y.radiusAxisMap,E=Y.angleAxisMap,L=Ha(K),z=Ha(E),U=z.cx,O=z.cy,D=z.innerRadius,_=z.outerRadius;return J.cloneElement(W,{polarAngles:Array.isArray(N)?N:zg(z,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(R)?R:zg(L,!0).map(function(te){return te.coordinate}),cx:U,cy:O,innerRadius:D,outerRadius:_,key:W.key||"polar-grid",radialLines:X})}),We(Z,"renderLegend",function(){var W=Z.state.formattedGraphicalItems,w=Z.props,X=w.children,N=w.width,R=w.height,Y=Z.props.margin||{},K=N-(Y.left||0)-(Y.right||0),E=J9({children:X,formattedGraphicalItems:W,legendWidth:K,legendContent:c});if(!E)return null;var L=E.item,z=pH(E,tde);return J.cloneElement(L,re(re({},z),{},{chartWidth:N,chartHeight:R,margin:Y,onBBoxUpdate:Z.handleLegendBBoxUpdate}))}),We(Z,"renderTooltip",function(){var W,w=Z.props,X=w.children,N=w.accessibilityLayer,R=_n(X,Eg);if(!R)return null;var Y=Z.state,K=Y.isTooltipActive,E=Y.activeCoordinate,L=Y.activePayload,z=Y.activeLabel,U=Y.offset,O=(W=R.props.active)!==null&&W!==void 0?W:K;return J.cloneElement(R,{viewBox:re(re({},U),{},{x:U.left,y:U.top}),active:O,label:z,payload:O?L:[],coordinate:E,accessibilityLayer:N})}),We(Z,"renderBrush",function(W){var w=Z.props,X=w.margin,N=w.data,R=Z.state,Y=R.offset,K=R.dataStartIndex,E=R.dataEndIndex,L=R.updateId;return J.cloneElement(W,{key:W.key||"_recharts-brush",onChange:iC(Z.handleBrushChange,W.props.onChange),data:N,x:ce(W.props.x)?W.props.x:Y.left,y:ce(W.props.y)?W.props.y:Y.top+Y.height+Y.brushBottom-(X.bottom||0),width:ce(W.props.width)?W.props.width:Y.width,startIndex:K,endIndex:E,updateId:"brush-".concat(L)})}),We(Z,"renderReferenceElement",function(W,w,X){if(!W)return null;var N=Z,R=N.clipPathId,Y=Z.state,K=Y.xAxisMap,E=Y.yAxisMap,L=Y.offset,z=W.type.defaultProps||{},U=W.props,O=U.xAxisId,D=O===void 0?z.xAxisId:O,_=U.yAxisId,te=_===void 0?z.yAxisId:_;return J.cloneElement(W,{key:W.key||"".concat(w,"-").concat(X),xAxis:K[D],yAxis:E[te],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:R})}),We(Z,"renderActivePoints",function(W){var w=W.item,X=W.activePoint,N=W.basePoint,R=W.childIndex,Y=W.isRange,K=[],E=w.props.key,L=w.item.type.defaultProps!==void 0?re(re({},w.item.type.defaultProps),w.item.props):w.item.props,z=L.activeDot,U=L.dataKey,O=re(re({index:R,dataKey:U,cx:X.x,cy:X.y,r:4,fill:Jv(w.item),strokeWidth:2,stroke:"#fff",payload:X.payload,value:X.value},xe(z,!1)),ad(z));return K.push(G.renderActiveDot(z,O,"".concat(E,"-activePoint-").concat(R))),N?K.push(G.renderActiveDot(z,re(re({},O),{},{cx:N.x,cy:N.y}),"".concat(E,"-basePoint-").concat(R))):Y&&K.push(null),K}),We(Z,"renderGraphicChild",function(W,w,X){var N=Z.filterFormatItem(W,w,X);if(!N)return null;var R=Z.getTooltipEventType(),Y=Z.state,K=Y.isTooltipActive,E=Y.tooltipAxis,L=Y.activeTooltipIndex,z=Y.activeLabel,U=Z.props.children,O=_n(U,Eg),D=N.props,_=D.points,te=D.isRange,x=D.baseLine,P=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,se=P.activeDot,he=P.hide,Ge=P.activeBar,Re=P.activeShape,Ee=!!(!he&&K&&O&&(se||Ge||Re)),ke={};R!=="axis"&&O&&O.props.trigger==="click"?ke={onClick:iC(Z.handleItemMouseEnter,W.props.onClick)}:R!=="axis"&&(ke={onMouseLeave:iC(Z.handleItemMouseLeave,W.props.onMouseLeave),onMouseEnter:iC(Z.handleItemMouseEnter,W.props.onMouseEnter)});var le=J.cloneElement(W,re(re({},N.props),ke));function Ze(Rr){return typeof E.dataKey=="function"?E.dataKey(Rr.payload):null}if(Ee)if(L>=0){var Xe,ie;if(E.dataKey&&!E.allowDuplicatedCategory){var st=typeof E.dataKey=="function"?Ze:"payload.".concat(E.dataKey.toString());Xe=gd(_,st,z),ie=te&&x&&gd(x,st,z)}else Xe=_==null?void 0:_[L],ie=te&&x&&x[L];if(Re||Ge){var Fe=W.props.activeIndex!==void 0?W.props.activeIndex:L;return[J.cloneElement(W,re(re(re({},N.props),ke),{},{activeIndex:Fe})),null,null]}if(!Ke(Xe))return[le].concat(Wl(Z.renderActivePoints({item:N,activePoint:Xe,basePoint:ie,childIndex:L,isRange:te})))}else{var Vt,wt=(Vt=Z.getItemByXY(Z.state.activeCoordinate))!==null&&Vt!==void 0?Vt:{graphicalItem:le},$t=wt.graphicalItem,wr=$t.item,qr=wr===void 0?W:wr,$r=$t.childIndex,kn=re(re(re({},N.props),ke),{},{activeIndex:$r});return[J.cloneElement(qr,kn),null,null]}return te?[le,null,null]:[le,null]}),We(Z,"renderCustomized",function(W,w,X){return J.cloneElement(W,re(re({key:"recharts-customized-".concat(X)},Z.props),Z.state))}),We(Z,"renderMap",{CartesianGrid:{handler:cC,once:!0},ReferenceArea:{handler:Z.renderReferenceElement},ReferenceLine:{handler:cC},ReferenceDot:{handler:Z.renderReferenceElement},XAxis:{handler:cC},YAxis:{handler:cC},Brush:{handler:Z.renderBrush,once:!0},Bar:{handler:Z.renderGraphicChild},Line:{handler:Z.renderGraphicChild},Area:{handler:Z.renderGraphicChild},Radar:{handler:Z.renderGraphicChild},RadialBar:{handler:Z.renderGraphicChild},Scatter:{handler:Z.renderGraphicChild},Pie:{handler:Z.renderGraphicChild},Funnel:{handler:Z.renderGraphicChild},Tooltip:{handler:Z.renderCursor,once:!0},PolarGrid:{handler:Z.renderPolarGrid,once:!0},PolarAngleAxis:{handler:Z.renderPolarAxis},PolarRadiusAxis:{handler:Z.renderPolarAxis},Customized:{handler:Z.renderCustomized}}),Z.clipPathId="".concat((S=v.id)!==null&&S!==void 0?S:Gc("recharts"),"-clip"),Z.throttleTriggeredAfterMouseMove=Xx(Z.triggeredAfterMouseMove,(V=v.throttleDelay)!==null&&V!==void 0?V:1e3/60),Z.state={},Z}return Cde(G,h),Ide(G,[{key:"componentDidMount",value:function(){var S,V;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(V=this.props.margin.top)!==null&&V!==void 0?V:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,V=S.children,Z=S.data,W=S.height,w=S.layout,X=_n(V,Eg);if(X){var N=X.props.defaultIndex;if(!(typeof N!="number"||N<0||N>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[N]&&this.state.tooltipTicks[N].value,Y=HG(this.state,Z,N,R),K=this.state.tooltipTicks[N].coordinate,E=(this.state.offset.top+W)/2,L=w==="horizontal",z=L?{x:K,y:E}:{y:K,x:E},U=this.state.formattedGraphicalItems.find(function(D){var _=D.item;return _.type.name==="Scatter"});U&&(z=re(re({},z),U.props.points[N].tooltipPosition),Y=U.props.points[N].tooltipPayload);var O={activeTooltipIndex:N,isTooltipActive:!0,activeLabel:R,activePayload:Y,activeCoordinate:z};this.setState(O),this.renderCursor(X),this.accessibilityManager.setIndex(N)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,V){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==V.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var Z,W;this.accessibilityManager.setDetails({offset:{left:(Z=this.props.margin.left)!==null&&Z!==void 0?Z:0,top:(W=this.props.margin.top)!==null&&W!==void 0?W:0}})}return null}},{key:"componentDidUpdate",value:function(S){bZ([_n(S.children,Eg)],[_n(this.props.children,Eg)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=_n(this.props.children,Eg);if(S&&typeof S.props.shared=="boolean"){var V=S.props.shared?"axis":"item";return l.indexOf(V)>=0?V:a}return a}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var V=this.container,Z=V.getBoundingClientRect(),W=Wne(Z),w={chartX:Math.round(S.pageX-W.left),chartY:Math.round(S.pageY-W.top)},X=Z.width/V.offsetWidth||1,N=this.inRange(w.chartX,w.chartY,X);if(!N)return null;var R=this.state,Y=R.xAxisMap,K=R.yAxisMap,E=this.getTooltipEventType();if(E!=="axis"&&Y&&K){var L=Ha(Y).scale,z=Ha(K).scale,U=L&&L.invert?L.invert(w.chartX):null,O=z&&z.invert?z.invert(w.chartY):null;return re(re({},w),{},{xValue:U,yValue:O})}var D=bH(this.state,this.props.data,this.props.layout,N);return D?re(re({},w),D):null}},{key:"inRange",value:function(S,V){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,W=this.props.layout,w=S/Z,X=V/Z;if(W==="horizontal"||W==="vertical"){var N=this.state.offset,R=w>=N.left&&w<=N.left+N.width&&X>=N.top&&X<=N.top+N.height;return R?{x:w,y:X}:null}var Y=this.state,K=Y.angleAxisMap,E=Y.radiusAxisMap;if(K&&E){var L=Ha(K);return FY({x:w,y:X},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,V=this.getTooltipEventType(),Z=_n(S,Eg),W={};Z&&V==="axis"&&(Z.props.trigger==="click"?W={onClick:this.handleClick}:W={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var w=ad(this.props,this.handleOuterEvent);return re(re({},w),W)}},{key:"addListener",value:function(){E0.on(M0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){E0.removeListener(M0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,V,Z){for(var W=this.state.formattedGraphicalItems,w=0,X=W.length;w<X;w++){var N=W[w];if(N.item===S||N.props.key===S.key||V===qg(N.item.type)&&Z===N.childIndex)return N}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,V=this.state.offset,Z=V.left,W=V.top,w=V.height,X=V.width;return H.createElement("defs",null,H.createElement("clipPath",{id:S},H.createElement("rect",{x:Z,y:W,height:w,width:X})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(V,Z){var W=fH(Z,2),w=W[0],X=W[1];return re(re({},V),{},We({},w,X.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(V,Z){var W=fH(Z,2),w=W[0],X=W[1];return re(re({},V),{},We({},w,X.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var V;return(V=this.state.xAxisMap)===null||V===void 0||(V=V[S])===null||V===void 0?void 0:V.scale}},{key:"getYScaleByAxisId",value:function(S){var V;return(V=this.state.yAxisMap)===null||V===void 0||(V=V[S])===null||V===void 0?void 0:V.scale}},{key:"getItemByXY",value:function(S){var V=this.state,Z=V.formattedGraphicalItems,W=V.activeItem;if(Z&&Z.length)for(var w=0,X=Z.length;w<X;w++){var N=Z[w],R=N.props,Y=N.item,K=Y.type.defaultProps!==void 0?re(re({},Y.type.defaultProps),Y.props):Y.props,E=qg(Y.type);if(E==="Bar"){var L=(R.data||[]).find(function(D){return EIe(S,D)});if(L)return{graphicalItem:N,payload:L}}else if(E==="RadialBar"){var z=(R.data||[]).find(function(D){return FY(S,D)});if(z)return{graphicalItem:N,payload:z}}else if(dm(N,W)||Am(N,W)||Os(N,W)){var U=Rse({graphicalItem:N,activeTooltipItem:W,itemData:K.data}),O=K.activeIndex===void 0?U:K.activeIndex;return{graphicalItem:re(re({},N),{},{childIndex:O}),payload:Os(N,W)?K.data[U]:N.props.data[U]}}}return null}},{key:"render",value:function(){var S=this;if(!Qk(this))return null;var V=this.props,Z=V.children,W=V.className,w=V.width,X=V.height,N=V.style,R=V.compact,Y=V.title,K=V.desc,E=pH(V,nde),L=xe(E,!1);if(R)return H.createElement(q1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement(ZZ,Fo({},L,{width:w,height:X,title:Y,desc:K}),this.renderClipPath(),jk(Z,this.renderMap)));if(this.props.accessibilityLayer){var z,U;L.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,L.role=(U=this.props.role)!==null&&U!==void 0?U:"application",L.onKeyDown=function(D){S.accessibilityManager.keyboardEvent(D)},L.onFocus=function(){S.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return H.createElement(q1,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},H.createElement("div",Fo({className:Ve("recharts-wrapper",W),style:re({position:"relative",cursor:"default",width:w,height:X},N)},O,{ref:function(_){S.container=_}}),H.createElement(ZZ,Fo({},L,{width:w,height:X,title:Y,desc:K,style:hde}),this.renderClipPath(),jk(Z,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(J.Component);We(b,"displayName",n),We(b,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),We(b,"getDerivedStateFromProps",function(h,G){var v=h.dataKey,S=h.data,V=h.children,Z=h.width,W=h.height,w=h.layout,X=h.stackOffset,N=h.margin,R=G.dataStartIndex,Y=G.dataEndIndex;if(G.updateId===void 0){var K=yH(h);return re(re(re({},K),{},{updateId:0},f(re(re({props:h},K),{},{updateId:0}),G)),{},{prevDataKey:v,prevData:S,prevWidth:Z,prevHeight:W,prevLayout:w,prevStackOffset:X,prevMargin:N,prevChildren:V})}if(v!==G.prevDataKey||S!==G.prevData||Z!==G.prevWidth||W!==G.prevHeight||w!==G.prevLayout||X!==G.prevStackOffset||!Lo(N,G.prevMargin)){var E=yH(h),L={chartX:G.chartX,chartY:G.chartY,isTooltipActive:G.isTooltipActive},z=re(re({},bH(G,S,w)),{},{updateId:G.updateId+1}),U=re(re(re({},E),L),z);return re(re(re({},U),f(re({props:h},U),G)),{},{prevDataKey:v,prevData:S,prevWidth:Z,prevHeight:W,prevLayout:w,prevStackOffset:X,prevMargin:N,prevChildren:V})}if(!bZ(V,G.prevChildren)){var O,D,_,te,x=_n(V,fl),P=x&&(O=(D=x.props)===null||D===void 0?void 0:D.startIndex)!==null&&O!==void 0?O:R,se=x&&(_=(te=x.props)===null||te===void 0?void 0:te.endIndex)!==null&&_!==void 0?_:Y,he=P!==R||se!==Y,Ge=!Ke(S),Re=Ge&&!he?G.updateId:G.updateId+1;return re(re({updateId:Re},f(re(re({props:h},G),{},{updateId:Re,dataStartIndex:P,dataEndIndex:se}),G)),{},{prevChildren:V,dataStartIndex:P,dataEndIndex:se})}return null}),We(b,"renderActiveDot",function(h,G,v){var S;return J.isValidElement(h)?S=J.cloneElement(h,G):Ye(h)?S=h(G):S=H.createElement(Hv,G),H.createElement(Kt,{className:"recharts-active-dot",key:v},S)});var p=J.forwardRef(function(G,v){return H.createElement(b,Fo({},G,{ref:v}))});return p.displayName=b.displayName,p},efe=wde({chartName:"LineChart",GraphicalChild:ym,axisComponents:[{axisType:"xAxis",AxisComp:zv},{axisType:"yAxis",AxisComp:Uv}],formatAxisMap:Sce});function Qo(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}function dg(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let g;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):i;g=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;g=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return g[a]}}function Ag(e){return(t,n={})=>{const r=n.width,g=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(g);if(!a)return null;const i=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(l)?kde(l,d=>d.test(i)):Rde(l,d=>d.test(i));let c;c=e.valueCallback?e.valueCallback(s):s,c=n.valueCallback?n.valueCallback(c):c;const C=t.slice(i.length);return{value:c,rest:C}}}function Rde(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function kde(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function x5(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const g=r[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=n.valueCallback?n.valueCallback(i):i;const l=t.slice(g.length);return{value:i,rest:l}}}const E5=6048e5,Xde=864e5,GH=Symbol.for("constructDateFrom");function Pa(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&GH in e?e[GH](t):e instanceof Date?new e.constructor(t):new Date(t)}function Jde(e,...t){const n=Pa.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}let Yde={};function Gm(){return Yde}function _r(e,t){return Pa(t||e,e)}function nc(e,t){var l,s,c,C;const n=Gm(),r=(t==null?void 0:t.weekStartsOn)??((s=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:s.weekStartsOn)??n.weekStartsOn??((C=(c=n.locale)==null?void 0:c.options)==null?void 0:C.weekStartsOn)??0,g=_r(e,t==null?void 0:t.in),a=g.getDay(),i=(a<r?7:0)+a-r;return g.setDate(g.getDate()-i),g.setHours(0,0,0,0),g}const Hde={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nde=(e,t,n)=>{let r;const g=Hde[e];return typeof g=="string"?r=g:t===1?r=g.one:r=g.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},Fde={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kde=(e,t,n,r)=>Fde[e],xde={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ede={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mde={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dde={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lde={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zde=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ude={ordinalNumber:zde,era:dg({values:xde,defaultWidth:"wide"}),quarter:dg({values:Ede,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dg({values:Mde,defaultWidth:"wide"}),day:dg({values:Dde,defaultWidth:"wide"}),dayPeriod:dg({values:Tde,defaultWidth:"wide",formattingValues:Lde,defaultFormattingWidth:"wide"})},Pde=/^(\d+)(th|st|nd|rd)?/i,Qde=/\d+/i,Ode={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jde={any:[/^b/i,/^(a|c)/i]},_de={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qde={any:[/1/i,/2/i,/3/i,/4/i]},$de={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},eAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aAe={ordinalNumber:x5({matchPattern:Pde,parsePattern:Qde,valueCallback:e=>parseInt(e,10)}),era:Ag({matchPatterns:Ode,defaultMatchWidth:"wide",parsePatterns:jde,defaultParseWidth:"any"}),quarter:Ag({matchPatterns:_de,defaultMatchWidth:"wide",parsePatterns:qde,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ag({matchPatterns:$de,defaultMatchWidth:"wide",parsePatterns:eAe,defaultParseWidth:"any"}),day:Ag({matchPatterns:tAe,defaultMatchWidth:"wide",parsePatterns:nAe,defaultParseWidth:"any"}),dayPeriod:Ag({matchPatterns:rAe,defaultMatchWidth:"any",parsePatterns:gAe,defaultParseWidth:"any"})},iAe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},oAe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},lAe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},IAe={date:Qo({formats:iAe,defaultWidth:"full"}),time:Qo({formats:oAe,defaultWidth:"full"}),dateTime:Qo({formats:lAe,defaultWidth:"full"})},sAe={code:"en-US",formatDistance:Nde,formatLong:IAe,formatRelative:Kde,localize:Ude,match:aAe,options:{weekStartsOn:0,firstWeekContainsDate:1}},cAe={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},uAe=(e,t,n)=>{let r;const g=cAe[e];return typeof g=="string"?r=g:t===1?r=g.one:r=g.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"dalam waktu "+r:r+" yang lalu":r},CAe={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},dAe={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},AAe={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mAe={date:Qo({formats:CAe,defaultWidth:"full"}),time:Qo({formats:dAe,defaultWidth:"full"}),dateTime:Qo({formats:AAe,defaultWidth:"full"})},fAe={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},pAe=(e,t,n,r)=>fAe[e],hAe={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},bAe={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},yAe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},ZAe={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},GAe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},BAe={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},vAe=(e,t)=>"ke-"+Number(e),SAe={ordinalNumber:vAe,era:dg({values:hAe,defaultWidth:"wide"}),quarter:dg({values:bAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dg({values:yAe,defaultWidth:"wide"}),day:dg({values:ZAe,defaultWidth:"wide"}),dayPeriod:dg({values:GAe,defaultWidth:"wide",formattingValues:BAe,defaultFormattingWidth:"wide"})},WAe=/^ke-(\d+)?/i,VAe=/\d+/i,wAe={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},RAe={any:[/^s/i,/^(m|e)/i]},kAe={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},XAe={any:[/1/i,/2/i,/3/i,/4/i]},JAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},YAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},HAe={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},NAe={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},FAe={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},KAe={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},xAe={ordinalNumber:x5({matchPattern:WAe,parsePattern:VAe,valueCallback:e=>parseInt(e,10)}),era:Ag({matchPatterns:wAe,defaultMatchWidth:"wide",parsePatterns:RAe,defaultParseWidth:"any"}),quarter:Ag({matchPatterns:kAe,defaultMatchWidth:"wide",parsePatterns:XAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ag({matchPatterns:JAe,defaultMatchWidth:"wide",parsePatterns:YAe,defaultParseWidth:"any"}),day:Ag({matchPatterns:HAe,defaultMatchWidth:"wide",parsePatterns:NAe,defaultParseWidth:"any"}),dayPeriod:Ag({matchPatterns:FAe,defaultMatchWidth:"any",parsePatterns:KAe,defaultParseWidth:"any"})},tfe={code:"id",formatDistance:uAe,formatLong:mAe,formatRelative:pAe,localize:SAe,match:xAe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function EAe(e,t,n){var r=this,g=J.useRef(null),a=J.useRef(0),i=J.useRef(null),l=J.useRef([]),s=J.useRef(),c=J.useRef(),C=J.useRef(e),d=J.useRef(!0);C.current=e;var A=typeof window<"u",f=!t&&t!==0&&A;if(typeof e!="function")throw new TypeError("Expected a function");t=+t||0;var b=!!(n=n||{}).leading,p=!("trailing"in n)||!!n.trailing,h="maxWait"in n,G="debounceOnServer"in n&&!!n.debounceOnServer,v=h?Math.max(+n.maxWait||0,t):null;J.useEffect(function(){return d.current=!0,function(){d.current=!1}},[]);var S=J.useMemo(function(){var V=function(R){var Y=l.current,K=s.current;return l.current=s.current=null,a.current=R,c.current=C.current.apply(K,Y)},Z=function(R,Y){f&&cancelAnimationFrame(i.current),i.current=f?requestAnimationFrame(R):setTimeout(R,Y)},W=function(R){if(!d.current)return!1;var Y=R-g.current;return!g.current||Y>=t||Y<0||h&&R-a.current>=v},w=function(R){return i.current=null,p&&l.current?V(R):(l.current=s.current=null,c.current)},X=function R(){var Y=Date.now();if(W(Y))return w(Y);if(d.current){var K=t-(Y-g.current),E=h?Math.min(K,v-(Y-a.current)):K;Z(R,E)}},N=function(){if(A||G){var R=Date.now(),Y=W(R);if(l.current=[].slice.call(arguments),s.current=r,g.current=R,Y){if(!i.current&&d.current)return a.current=g.current,Z(X,t),b?V(g.current):c.current;if(h)return Z(X,t),V(g.current)}return i.current||Z(X,t),c.current}};return N.cancel=function(){i.current&&(f?cancelAnimationFrame(i.current):clearTimeout(i.current)),a.current=0,l.current=g.current=s.current=i.current=null},N.isPending=function(){return!!i.current},N.flush=function(){return i.current?w(Date.now()):c.current},N},[b,h,t,v,p,f,A,G]);return S}function MAe(e,t){return e===t}function nfe(e,t,n){var r=MAe,g=J.useRef(e),a=J.useState({})[1],i=EAe(J.useCallback(function(s){g.current=s,a({})},[a]),t,n),l=J.useRef(e);return r(l.current,e)||(i(e),l.current=e),[g.current,i]}function eA(e,t){return nc(e,{...t,weekStartsOn:1})}function M5(e,t){const n=_r(e,t==null?void 0:t.in),r=n.getFullYear(),g=Pa(n,0);g.setFullYear(r+1,0,4),g.setHours(0,0,0,0);const a=eA(g),i=Pa(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const l=eA(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function BH(e){const t=_r(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function vH(e,t){const n=_r(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function DAe(e,t,n){const[r,g]=Jde(n==null?void 0:n.in,e,t),a=vH(r),i=vH(g),l=+a-BH(a),s=+i-BH(i);return Math.round((l-s)/Xde)}function TAe(e,t){const n=M5(e,t),r=Pa(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),eA(r)}function LAe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function zAe(e){return!(!LAe(e)&&typeof e!="number"||isNaN(+_r(e)))}function UAe(e,t){const n=_r(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function PAe(e,t){const n=_r(e,t==null?void 0:t.in);return DAe(n,UAe(n))+1}function QAe(e,t){const n=_r(e,t==null?void 0:t.in),r=+eA(n)-+TAe(n);return Math.round(r/E5)+1}function D5(e,t){var C,d,A,f;const n=_r(e,t==null?void 0:t.in),r=n.getFullYear(),g=Gm(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(C=t==null?void 0:t.locale)==null?void 0:C.options)==null?void 0:d.firstWeekContainsDate)??g.firstWeekContainsDate??((f=(A=g.locale)==null?void 0:A.options)==null?void 0:f.firstWeekContainsDate)??1,i=Pa((t==null?void 0:t.in)||e,0);i.setFullYear(r+1,0,a),i.setHours(0,0,0,0);const l=nc(i,t),s=Pa((t==null?void 0:t.in)||e,0);s.setFullYear(r,0,a),s.setHours(0,0,0,0);const c=nc(s,t);return+n>=+l?r+1:+n>=+c?r:r-1}function OAe(e,t){var l,s,c,C;const n=Gm(),r=(t==null?void 0:t.firstWeekContainsDate)??((s=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:s.firstWeekContainsDate)??n.firstWeekContainsDate??((C=(c=n.locale)==null?void 0:c.options)==null?void 0:C.firstWeekContainsDate)??1,g=D5(e,t),a=Pa((t==null?void 0:t.in)||e,0);return a.setFullYear(g,0,r),a.setHours(0,0,0,0),nc(a,t)}function jAe(e,t){const n=_r(e,t==null?void 0:t.in),r=+nc(n,t)-+OAe(n,t);return Math.round(r/E5)+1}function rt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Xa={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return rt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):rt(n+1,2)},d(e,t){return rt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return rt(e.getHours()%12||12,t.length)},H(e,t){return rt(e.getHours(),t.length)},m(e,t){return rt(e.getMinutes(),t.length)},s(e,t){return rt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),g=Math.trunc(r*Math.pow(10,n-3));return rt(g,t.length)}},Jo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SH={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),g=r>0?r:1-r;return n.ordinalNumber(g,{unit:"year"})}return Xa.y(e,t)},Y:function(e,t,n,r){const g=D5(e,r),a=g>0?g:1-g;if(t==="YY"){const i=a%100;return rt(i,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):rt(a,t.length)},R:function(e,t){const n=M5(e);return rt(n,t.length)},u:function(e,t){const n=e.getFullYear();return rt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return rt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return rt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Xa.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return rt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const g=jAe(e,r);return t==="wo"?n.ordinalNumber(g,{unit:"week"}):rt(g,t.length)},I:function(e,t,n){const r=QAe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):rt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Xa.d(e,t)},D:function(e,t,n){const r=PAe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):rt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const g=e.getDay(),a=(g-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return rt(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(g,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(g,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(g,{width:"short",context:"formatting"});case"eeee":default:return n.day(g,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const g=e.getDay(),a=(g-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return rt(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(g,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(g,{width:"narrow",context:"standalone"});case"cccccc":return n.day(g,{width:"short",context:"standalone"});case"cccc":default:return n.day(g,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),g=r===0?7:r;switch(t){case"i":return String(g);case"ii":return rt(g,t.length);case"io":return n.ordinalNumber(g,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const g=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(g,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(g,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let g;switch(r===12?g=Jo.noon:r===0?g=Jo.midnight:g=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(g,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(g,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let g;switch(r>=17?g=Jo.evening:r>=12?g=Jo.afternoon:r>=4?g=Jo.morning:g=Jo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(g,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(g,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(g,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Xa.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Xa.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):rt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):rt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Xa.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Xa.s(e,t)},S:function(e,t){return Xa.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return VH(r);case"XXXX":case"XX":return pi(r);case"XXXXX":case"XXX":default:return pi(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return VH(r);case"xxxx":case"xx":return pi(r);case"xxxxx":case"xxx":default:return pi(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+WH(r,":");case"OOOO":default:return"GMT"+pi(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+WH(r,":");case"zzzz":default:return"GMT"+pi(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return rt(r,t.length)},T:function(e,t,n){return rt(+e,t.length)}};function WH(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),g=Math.trunc(r/60),a=r%60;return a===0?n+String(g):n+String(g)+t+rt(a,2)}function VH(e,t){return e%60===0?(e>0?"-":"+")+rt(Math.abs(e)/60,2):pi(e,t)}function pi(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),g=rt(Math.trunc(r/60),2),a=rt(r%60,2);return n+g+t+a}const wH=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},T5=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},_Ae=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],g=n[2];if(!g)return wH(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",wH(r,t)).replace("{{time}}",T5(g,t))},qAe={p:T5,P:_Ae},$Ae=/^D+$/,eme=/^Y+$/,tme=["D","DD","YY","YYYY"];function nme(e){return $Ae.test(e)}function rme(e){return eme.test(e)}function gme(e,t,n){const r=ame(e,t,n);if(console.warn(r),tme.includes(e))throw new RangeError(r)}function ame(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ime=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ome=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lme=/^'([^]*?)'?$/,Ime=/''/g,sme=/[a-zA-Z]/;function rfe(e,t,n){var C,d,A,f,b,p,h,G;const r=Gm(),g=(n==null?void 0:n.locale)??r.locale??sAe,a=(n==null?void 0:n.firstWeekContainsDate)??((d=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(A=r.locale)==null?void 0:A.options)==null?void 0:f.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((p=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((G=(h=r.locale)==null?void 0:h.options)==null?void 0:G.weekStartsOn)??0,l=_r(e,n==null?void 0:n.in);if(!zAe(l))throw new RangeError("Invalid time value");let s=t.match(ome).map(v=>{const S=v[0];if(S==="p"||S==="P"){const V=qAe[S];return V(v,g.formatLong)}return v}).join("").match(ime).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const S=v[0];if(S==="'")return{isToken:!1,value:cme(v)};if(SH[S])return{isToken:!0,value:v};if(S.match(sme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:v}});g.localize.preprocessor&&(s=g.localize.preprocessor(l,s));const c={firstWeekContainsDate:a,weekStartsOn:i,locale:g};return s.map(v=>{if(!v.isToken)return v.value;const S=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&rme(S)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&nme(S))&&gme(S,t,String(e));const V=SH[S[0]];return V(l,S,g.localize,c)}).join("")}function cme(e){const t=e.match(lme);return t?t[1].replace(Ime,"'"):e}export{Qme as $,bme as A,Zme as B,Bme as C,_me as D,Pme as E,Fme as F,kme as G,fme as H,nfe as I,tfe as J,Kme as K,pme as L,Nme as M,dme as N,Vme as O,Tme as P,wme as Q,hme as R,tZ as S,Eg as T,rfe as U,Dme as V,Jme as W,zv as X,Uv as Y,yme as Z,Lme as _,_t as a,vme as a0,Cme as a1,mme as a2,Ame as a3,F3 as a4,KH as b,LH as c,tK as d,qme as e,Xme as f,Wme as g,Mme as h,$me as i,Ya as j,efe as k,rCe as l,ym as m,Yme as n,Gme as o,Ume as p,H as q,J as r,zme as s,Ome as t,Qa as u,Rme as v,Eme as w,Hme as x,Sme as y,xme as z};
